var dc=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports);var kv=dc(ve=>{(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const h of a)if(h.type==="childList")for(const l of h.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const h={};return a.integrity&&(h.integrity=a.integrity),a.referrerPolicy&&(h.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?h.credentials="include":a.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(a){if(a.ep)return;a.ep=!0;const h=s(a);fetch(a.href,h)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function lo(t){const i=Object.create(null);for(const s of t.split(","))i[s]=1;return s=>s in i}const Bt={},Rs=[],si=()=>{},_c=()=>!1,$r=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),uo=t=>t.startsWith("onUpdate:"),ce=Object.assign,fo=(t,i)=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)},mc=Object.prototype.hasOwnProperty,kt=(t,i)=>mc.call(t,i),_t=Array.isArray,ks=t=>Wr(t)==="[object Map]",Tl=t=>Wr(t)==="[object Set]",wt=t=>typeof t=="function",oe=t=>typeof t=="string",Mi=t=>typeof t=="symbol",Kt=t=>t!==null&&typeof t=="object",Il=t=>(Kt(t)||wt(t))&&wt(t.then)&&wt(t.catch),Gl=Object.prototype.toString,Wr=t=>Gl.call(t),pc=t=>Wr(t).slice(8,-1),Nl=t=>Wr(t)==="[object Object]",co=t=>oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Mn=lo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jr=t=>{const i=Object.create(null);return s=>i[s]||(i[s]=t(s))},gc=/-(\w)/g,gi=jr(t=>t.replace(gc,(i,s)=>s?s.toUpperCase():"")),vc=/\B([A-Z])/g,Zi=jr(t=>t.replace(vc,"-$1").toLowerCase()),Ol=jr(t=>t.charAt(0).toUpperCase()+t.slice(1)),La=jr(t=>t?`on${Ol(t)}`:""),Ie=(t,i)=>!Object.is(t,i),Ta=(t,...i)=>{for(let s=0;s<t.length;s++)t[s](...i)},Rl=(t,i,s,r=!1)=>{Object.defineProperty(t,i,{configurable:!0,enumerable:!1,writable:r,value:s})},yc=t=>{const i=parseFloat(t);return isNaN(i)?t:i},Mc=t=>{const i=oe(t)?Number(t):NaN;return isNaN(i)?t:i};let Eh;const Vr=()=>Eh||(Eh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Kr(t){if(_t(t)){const i={};for(let s=0;s<t.length;s++){const r=t[s],a=oe(r)?Sc(r):Kr(r);if(a)for(const h in a)i[h]=a[h]}return i}else if(oe(t)||Kt(t))return t}const wc=/;(?![^(]*\))/g,xc=/:([^]+)/,Pc=/\/\*[^]*?\*\//g;function Sc(t){const i={};return t.replace(Pc,"").split(wc).forEach(s=>{if(s){const r=s.split(xc);r.length>1&&(i[r[0].trim()]=r[1].trim())}}),i}function ls(t){let i="";if(oe(t))i=t;else if(_t(t))for(let s=0;s<t.length;s++){const r=ls(t[s]);r&&(i+=r+" ")}else if(Kt(t))for(const s in t)t[s]&&(i+=s+" ");return i.trim()}const bc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ec=lo(bc);function kl(t){return!!t||t===""}const Dl=t=>!!(t&&t.__v_isRef===!0),_o=t=>oe(t)?t:t==null?"":_t(t)||Kt(t)&&(t.toString===Gl||!wt(t.toString))?Dl(t)?_o(t.value):JSON.stringify(t,zl,2):String(t),zl=(t,i)=>Dl(i)?zl(t,i.value):ks(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((s,[r,a],h)=>(s[Ia(r,h)+" =>"]=a,s),{})}:Tl(i)?{[`Set(${i.size})`]:[...i.values()].map(s=>Ia(s))}:Mi(i)?Ia(i):Kt(i)&&!_t(i)&&!Nl(i)?String(i):i,Ia=(t,i="")=>{var s;return Mi(t)?`Symbol(${(s=t.description)!=null?s:i})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Te;class Cc{constructor(i=!1){this.detached=i,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Te,!i&&Te&&(this.index=(Te.scopes||(Te.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let i,s;if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].pause();for(i=0,s=this.effects.length;i<s;i++)this.effects[i].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let i,s;if(this.scopes)for(i=0,s=this.scopes.length;i<s;i++)this.scopes[i].resume();for(i=0,s=this.effects.length;i<s;i++)this.effects[i].resume()}}run(i){if(this._active){const s=Te;try{return Te=this,i()}finally{Te=s}}}on(){++this._on===1&&(this.prevScope=Te,Te=this)}off(){this._on>0&&--this._on===0&&(Te=this.prevScope,this.prevScope=void 0)}stop(i){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!i){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0}}}function Ac(){return Te}let Vt;const Ga=new WeakSet;class Bl{constructor(i){this.fn=i,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Te&&Te.active&&Te.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ga.has(this)&&(Ga.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Zl(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ch(this),ql(this);const i=Vt,s=We;Vt=this,We=!0;try{return this.fn()}finally{Ul(this),Vt=i,We=s,this.flags&=-3}}stop(){if(this.flags&1){for(let i=this.deps;i;i=i.nextDep)go(i);this.deps=this.depsTail=void 0,Ch(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ga.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Wa(this)&&this.run()}get dirty(){return Wa(this)}}let Fl=0,wn,xn;function Zl(t,i=!1){if(t.flags|=8,i){t.next=xn,xn=t;return}t.next=wn,wn=t}function mo(){Fl++}function po(){if(--Fl>0)return;if(xn){let i=xn;for(xn=void 0;i;){const s=i.next;i.next=void 0,i.flags&=-9,i=s}}let t;for(;wn;){let i=wn;for(wn=void 0;i;){const s=i.next;if(i.next=void 0,i.flags&=-9,i.flags&1)try{i.trigger()}catch(r){t||(t=r)}i=s}}if(t)throw t}function ql(t){for(let i=t.deps;i;i=i.nextDep)i.version=-1,i.prevActiveLink=i.dep.activeLink,i.dep.activeLink=i}function Ul(t){let i,s=t.depsTail,r=s;for(;r;){const a=r.prevDep;r.version===-1?(r===s&&(s=a),go(r),Lc(r)):i=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=a}t.deps=i,t.depsTail=s}function Wa(t){for(let i=t.deps;i;i=i.nextDep)if(i.dep.version!==i.version||i.dep.computed&&(Hl(i.dep.computed)||i.dep.version!==i.version))return!0;return!!t._dirty}function Hl(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Nn)||(t.globalVersion=Nn,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Wa(t))))return;t.flags|=2;const i=t.dep,s=Vt,r=We;Vt=t,We=!0;try{ql(t);const a=t.fn(t._value);(i.version===0||Ie(a,t._value))&&(t.flags|=128,t._value=a,i.version++)}catch(a){throw i.version++,a}finally{Vt=s,We=r,Ul(t),t.flags&=-3}}function go(t,i=!1){const{dep:s,prevSub:r,nextSub:a}=t;if(r&&(r.nextSub=a,t.prevSub=void 0),a&&(a.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let h=s.computed.deps;h;h=h.nextDep)go(h,!0)}!i&&!--s.sc&&s.map&&s.map.delete(s.key)}function Lc(t){const{prevDep:i,nextDep:s}=t;i&&(i.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=i,t.nextDep=void 0)}let We=!0;const $l=[];function vi(){$l.push(We),We=!1}function yi(){const t=$l.pop();We=t===void 0?!0:t}function Ch(t){const{cleanup:i}=t;if(t.cleanup=void 0,i){const s=Vt;Vt=void 0;try{i()}finally{Vt=s}}}let Nn=0;class Tc{constructor(i,s){this.sub=i,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Jr{constructor(i){this.computed=i,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(i){if(!Vt||!We||Vt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Vt)s=this.activeLink=new Tc(Vt,this),Vt.deps?(s.prevDep=Vt.depsTail,Vt.depsTail.nextDep=s,Vt.depsTail=s):Vt.deps=Vt.depsTail=s,Wl(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=Vt.depsTail,s.nextDep=void 0,Vt.depsTail.nextDep=s,Vt.depsTail=s,Vt.deps===s&&(Vt.deps=r)}return s}trigger(i){this.version++,Nn++,this.notify(i)}notify(i){mo();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{po()}}}function Wl(t){if(t.dep.sc++,t.sub.flags&4){const i=t.dep.computed;if(i&&!t.dep.subs){i.flags|=20;for(let r=i.deps;r;r=r.nextDep)Wl(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Lr=new WeakMap,hs=Symbol(""),ja=Symbol(""),On=Symbol("");function me(t,i,s){if(We&&Vt){let r=Lr.get(t);r||Lr.set(t,r=new Map);let a=r.get(s);a||(r.set(s,a=new Jr),a.map=r,a.key=s),a.track()}}function mi(t,i,s,r,a,h){const l=Lr.get(t);if(!l){Nn++;return}const u=c=>{c&&c.trigger()};if(mo(),i==="clear")l.forEach(u);else{const c=_t(t),_=c&&co(s);if(c&&s==="length"){const g=Number(r);l.forEach((m,p)=>{(p==="length"||p===On||!Mi(p)&&p>=g)&&u(m)})}else switch((s!==void 0||l.has(void 0))&&u(l.get(s)),_&&u(l.get(On)),i){case"add":c?_&&u(l.get("length")):(u(l.get(hs)),ks(t)&&u(l.get(ja)));break;case"delete":c||(u(l.get(hs)),ks(t)&&u(l.get(ja)));break;case"set":ks(t)&&u(l.get(hs));break}}po()}function Ic(t,i){const s=Lr.get(t);return s&&s.get(i)}function As(t){const i=Rt(t);return i===t?i:(me(i,"iterate",On),je(t)?i:i.map(Pe))}function vo(t){return me(t=Rt(t),"iterate",On),t}const Gc={__proto__:null,[Symbol.iterator](){return Na(this,Symbol.iterator,Pe)},concat(...t){return As(this).concat(...t.map(i=>_t(i)?As(i):i))},entries(){return Na(this,"entries",t=>(t[1]=Pe(t[1]),t))},every(t,i){return ci(this,"every",t,i,void 0,arguments)},filter(t,i){return ci(this,"filter",t,i,s=>s.map(Pe),arguments)},find(t,i){return ci(this,"find",t,i,Pe,arguments)},findIndex(t,i){return ci(this,"findIndex",t,i,void 0,arguments)},findLast(t,i){return ci(this,"findLast",t,i,Pe,arguments)},findLastIndex(t,i){return ci(this,"findLastIndex",t,i,void 0,arguments)},forEach(t,i){return ci(this,"forEach",t,i,void 0,arguments)},includes(...t){return Oa(this,"includes",t)},indexOf(...t){return Oa(this,"indexOf",t)},join(t){return As(this).join(t)},lastIndexOf(...t){return Oa(this,"lastIndexOf",t)},map(t,i){return ci(this,"map",t,i,void 0,arguments)},pop(){return dn(this,"pop")},push(...t){return dn(this,"push",t)},reduce(t,...i){return Ah(this,"reduce",t,i)},reduceRight(t,...i){return Ah(this,"reduceRight",t,i)},shift(){return dn(this,"shift")},some(t,i){return ci(this,"some",t,i,void 0,arguments)},splice(...t){return dn(this,"splice",t)},toReversed(){return As(this).toReversed()},toSorted(t){return As(this).toSorted(t)},toSpliced(...t){return As(this).toSpliced(...t)},unshift(...t){return dn(this,"unshift",t)},values(){return Na(this,"values",Pe)}};function Na(t,i,s){const r=vo(t),a=r[i]();return r!==t&&!je(t)&&(a._next=a.next,a.next=()=>{const h=a._next();return h.value&&(h.value=s(h.value)),h}),a}const Nc=Array.prototype;function ci(t,i,s,r,a,h){const l=vo(t),u=l!==t&&!je(t),c=l[i];if(c!==Nc[i]){const m=c.apply(t,h);return u?Pe(m):m}let _=s;l!==t&&(u?_=function(m,p){return s.call(this,Pe(m),p,t)}:s.length>2&&(_=function(m,p){return s.call(this,m,p,t)}));const g=c.call(l,_,r);return u&&a?a(g):g}function Ah(t,i,s,r){const a=vo(t);let h=s;return a!==t&&(je(t)?s.length>3&&(h=function(l,u,c){return s.call(this,l,u,c,t)}):h=function(l,u,c){return s.call(this,l,Pe(u),c,t)}),a[i](h,...r)}function Oa(t,i,s){const r=Rt(t);me(r,"iterate",On);const a=r[i](...s);return(a===-1||a===!1)&&xo(s[0])?(s[0]=Rt(s[0]),r[i](...s)):a}function dn(t,i,s=[]){vi(),mo();const r=Rt(t)[i].apply(t,s);return po(),yi(),r}const Oc=lo("__proto__,__v_isRef,__isVue"),jl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mi));function Rc(t){Mi(t)||(t=String(t));const i=Rt(this);return me(i,"has",t),i.hasOwnProperty(t)}class Vl{constructor(i=!1,s=!1){this._isReadonly=i,this._isShallow=s}get(i,s,r){if(s==="__v_skip")return i.__v_skip;const a=this._isReadonly,h=this._isShallow;if(s==="__v_isReactive")return!a;if(s==="__v_isReadonly")return a;if(s==="__v_isShallow")return h;if(s==="__v_raw")return r===(a?h?$c:Ql:h?Xl:Jl).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(r)?i:void 0;const l=_t(i);if(!a){let c;if(l&&(c=Gc[s]))return c;if(s==="hasOwnProperty")return Rc}const u=Reflect.get(i,s,ie(i)?i:r);return(Mi(s)?jl.has(s):Oc(s))||(a||me(i,"get",s),h)?u:ie(u)?l&&co(s)?u:u.value:Kt(u)?a?Yl(u):Mo(u):u}}class Kl extends Vl{constructor(i=!1){super(!1,i)}set(i,s,r,a){let h=i[s];if(!this._isShallow){const c=us(h);if(!je(r)&&!us(r)&&(h=Rt(h),r=Rt(r)),!_t(i)&&ie(h)&&!ie(r))return c?!1:(h.value=r,!0)}const l=_t(i)&&co(s)?Number(s)<i.length:kt(i,s),u=Reflect.set(i,s,r,ie(i)?i:a);return i===Rt(a)&&(l?Ie(r,h)&&mi(i,"set",s,r):mi(i,"add",s,r)),u}deleteProperty(i,s){const r=kt(i,s);i[s];const a=Reflect.deleteProperty(i,s);return a&&r&&mi(i,"delete",s,void 0),a}has(i,s){const r=Reflect.has(i,s);return(!Mi(s)||!jl.has(s))&&me(i,"has",s),r}ownKeys(i){return me(i,"iterate",_t(i)?"length":hs),Reflect.ownKeys(i)}}class kc extends Vl{constructor(i=!1){super(!0,i)}set(i,s){return!0}deleteProperty(i,s){return!0}}const Dc=new Kl,zc=new kc,Bc=new Kl(!0),Va=t=>t,vr=t=>Reflect.getPrototypeOf(t);function Fc(t,i,s){return function(...r){const a=this.__v_raw,h=Rt(a),l=ks(h),u=t==="entries"||t===Symbol.iterator&&l,c=t==="keys"&&l,_=a[t](...r),g=s?Va:i?Ka:Pe;return!i&&me(h,"iterate",c?ja:hs),{next(){const{value:m,done:p}=_.next();return p?{value:m,done:p}:{value:u?[g(m[0]),g(m[1])]:g(m),done:p}},[Symbol.iterator](){return this}}}}function yr(t){return function(...i){return t==="delete"?!1:t==="clear"?void 0:this}}function Zc(t,i){const s={get(a){const h=this.__v_raw,l=Rt(h),u=Rt(a);t||(Ie(a,u)&&me(l,"get",a),me(l,"get",u));const{has:c}=vr(l),_=i?Va:t?Ka:Pe;if(c.call(l,a))return _(h.get(a));if(c.call(l,u))return _(h.get(u));h!==l&&h.get(a)},get size(){const a=this.__v_raw;return!t&&me(Rt(a),"iterate",hs),Reflect.get(a,"size",a)},has(a){const h=this.__v_raw,l=Rt(h),u=Rt(a);return t||(Ie(a,u)&&me(l,"has",a),me(l,"has",u)),a===u?h.has(a):h.has(a)||h.has(u)},forEach(a,h){const l=this,u=l.__v_raw,c=Rt(u),_=i?Va:t?Ka:Pe;return!t&&me(c,"iterate",hs),u.forEach((g,m)=>a.call(h,_(g),_(m),l))}};return ce(s,t?{add:yr("add"),set:yr("set"),delete:yr("delete"),clear:yr("clear")}:{add(a){!i&&!je(a)&&!us(a)&&(a=Rt(a));const h=Rt(this);return vr(h).has.call(h,a)||(h.add(a),mi(h,"add",a,a)),this},set(a,h){!i&&!je(h)&&!us(h)&&(h=Rt(h));const l=Rt(this),{has:u,get:c}=vr(l);let _=u.call(l,a);_||(a=Rt(a),_=u.call(l,a));const g=c.call(l,a);return l.set(a,h),_?Ie(h,g)&&mi(l,"set",a,h):mi(l,"add",a,h),this},delete(a){const h=Rt(this),{has:l,get:u}=vr(h);let c=l.call(h,a);c||(a=Rt(a),c=l.call(h,a)),u&&u.call(h,a);const _=h.delete(a);return c&&mi(h,"delete",a,void 0),_},clear(){const a=Rt(this),h=a.size!==0,l=a.clear();return h&&mi(a,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(a=>{s[a]=Fc(a,t,i)}),s}function yo(t,i){const s=Zc(t,i);return(r,a,h)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?r:Reflect.get(kt(s,a)&&a in r?s:r,a,h)}const qc={get:yo(!1,!1)},Uc={get:yo(!1,!0)},Hc={get:yo(!0,!1)},Jl=new WeakMap,Xl=new WeakMap,Ql=new WeakMap,$c=new WeakMap;function Wc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jc(t){return t.__v_skip||!Object.isExtensible(t)?0:Wc(pc(t))}function Mo(t){return us(t)?t:wo(t,!1,Dc,qc,Jl)}function Vc(t){return wo(t,!1,Bc,Uc,Xl)}function Yl(t){return wo(t,!0,zc,Hc,Ql)}function wo(t,i,s,r,a){if(!Kt(t)||t.__v_raw&&!(i&&t.__v_isReactive))return t;const h=jc(t);if(h===0)return t;const l=a.get(t);if(l)return l;const u=new Proxy(t,h===2?r:s);return a.set(t,u),u}function Pn(t){return us(t)?Pn(t.__v_raw):!!(t&&t.__v_isReactive)}function us(t){return!!(t&&t.__v_isReadonly)}function je(t){return!!(t&&t.__v_isShallow)}function xo(t){return t?!!t.__v_raw:!1}function Rt(t){const i=t&&t.__v_raw;return i?Rt(i):t}function Kc(t){return!kt(t,"__v_skip")&&Object.isExtensible(t)&&Rl(t,"__v_skip",!0),t}const Pe=t=>Kt(t)?Mo(t):t,Ka=t=>Kt(t)?Yl(t):t;function ie(t){return t?t.__v_isRef===!0:!1}function ki(t){return Jc(t,!1)}function Jc(t,i){return ie(t)?t:new Xc(t,i)}class Xc{constructor(i,s){this.dep=new Jr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?i:Rt(i),this._value=s?i:Pe(i),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(i){const s=this._rawValue,r=this.__v_isShallow||je(i)||us(i);i=r?i:Rt(i),Ie(i,s)&&(this._rawValue=i,this._value=r?i:Pe(i),this.dep.trigger())}}function Ti(t){return ie(t)?t.value:t}const Qc={get:(t,i,s)=>i==="__v_raw"?t:Ti(Reflect.get(t,i,s)),set:(t,i,s,r)=>{const a=t[i];return ie(a)&&!ie(s)?(a.value=s,!0):Reflect.set(t,i,s,r)}};function tu(t){return Pn(t)?t:new Proxy(t,Qc)}class Yc{constructor(i){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Jr,{get:r,set:a}=i(s.track.bind(s),s.trigger.bind(s));this._get=r,this._set=a}get value(){return this._value=this._get()}set value(i){this._set(i)}}function td(t){return new Yc(t)}function Xr(t){const i=_t(t)?new Array(t.length):{};for(const s in t)i[s]=id(t,s);return i}class ed{constructor(i,s,r){this._object=i,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const i=this._object[this._key];return this._value=i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return Ic(Rt(this._object),this._key)}}function id(t,i,s){const r=t[i];return ie(r)?r:new ed(t,i,s)}class sd{constructor(i,s,r){this.fn=i,this.setter=s,this._value=void 0,this.dep=new Jr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Nn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Vt!==this)return Zl(this,!0),!0}get value(){const i=this.dep.track();return Hl(this),i&&(i.version=this.dep.version),this._value}set value(i){this.setter&&this.setter(i)}}function nd(t,i,s=!1){let r,a;return wt(t)?r=t:(r=t.get,a=t.set),new sd(r,a,s)}const Mr={},Tr=new WeakMap;let ss;function rd(t,i=!1,s=ss){if(s){let r=Tr.get(s);r||Tr.set(s,r=[]),r.push(t)}}function ad(t,i,s=Bt){const{immediate:r,deep:a,once:h,scheduler:l,augmentJob:u,call:c}=s,_=Q=>a?Q:je(Q)||a===!1||a===0?Oi(Q,1):Oi(Q);let g,m,p,M,S=!1,P=!1;if(ie(t)?(m=()=>t.value,S=je(t)):Pn(t)?(m=()=>_(t),S=!0):_t(t)?(P=!0,S=t.some(Q=>Pn(Q)||je(Q)),m=()=>t.map(Q=>{if(ie(Q))return Q.value;if(Pn(Q))return _(Q);if(wt(Q))return c?c(Q,2):Q()})):wt(t)?i?m=c?()=>c(t,2):t:m=()=>{if(p){vi();try{p()}finally{yi()}}const Q=ss;ss=g;try{return c?c(t,3,[M]):t(M)}finally{ss=Q}}:m=si,i&&a){const Q=m,lt=a===!0?1/0:a;m=()=>Oi(Q(),lt)}const A=Ac(),B=()=>{g.stop(),A&&A.active&&fo(A.effects,g)};if(h&&i){const Q=i;i=(...lt)=>{Q(...lt),B()}}let j=P?new Array(t.length).fill(Mr):Mr;const V=Q=>{if(!(!(g.flags&1)||!g.dirty&&!Q))if(i){const lt=g.run();if(a||S||(P?lt.some((pt,Tt)=>Ie(pt,j[Tt])):Ie(lt,j))){p&&p();const pt=ss;ss=g;try{const Tt=[lt,j===Mr?void 0:P&&j[0]===Mr?[]:j,M];c?c(i,3,Tt):i(...Tt),j=lt}finally{ss=pt}}}else g.run()};return u&&u(V),g=new Bl(m),g.scheduler=l?()=>l(V,!1):V,M=Q=>rd(Q,!1,g),p=g.onStop=()=>{const Q=Tr.get(g);if(Q){if(c)c(Q,4);else for(const lt of Q)lt();Tr.delete(g)}},i?r?V(!0):j=g.run():l?l(V.bind(null,!0),!0):g.run(),B.pause=g.pause.bind(g),B.resume=g.resume.bind(g),B.stop=B,B}function Oi(t,i=1/0,s){if(i<=0||!Kt(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),i--,ie(t))Oi(t.value,i,s);else if(_t(t))for(let r=0;r<t.length;r++)Oi(t[r],i,s);else if(Tl(t)||ks(t))t.forEach(r=>{Oi(r,i,s)});else if(Nl(t)){for(const r in t)Oi(t[r],i,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Oi(t[r],i,s)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $n(t,i,s,r){try{return r?t(...r):t()}catch(a){Qr(a,i,s)}}function Ke(t,i,s,r){if(wt(t)){const a=$n(t,i,s,r);return a&&Il(a)&&a.catch(h=>{Qr(h,i,s)}),a}if(_t(t)){const a=[];for(let h=0;h<t.length;h++)a.push(Ke(t[h],i,s,r));return a}}function Qr(t,i,s,r=!0){const a=i?i.vnode:null,{errorHandler:h,throwUnhandledErrorInProduction:l}=i&&i.appContext.config||Bt;if(i){let u=i.parent;const c=i.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;u;){const g=u.ec;if(g){for(let m=0;m<g.length;m++)if(g[m](t,c,_)===!1)return}u=u.parent}if(h){vi(),$n(h,null,10,[t,c,_]),yi();return}}od(t,s,a,r,l)}function od(t,i,s,r=!0,a=!1){if(a)throw t;console.error(t)}const Se=[];let ti=-1;const Ds=[];let Ii=null,Ls=0;const eu=Promise.resolve();let Ir=null;function hd(t){const i=Ir||eu;return t?i.then(this?t.bind(this):t):i}function ld(t){let i=ti+1,s=Se.length;for(;i<s;){const r=i+s>>>1,a=Se[r],h=Rn(a);h<t||h===t&&a.flags&2?i=r+1:s=r}return i}function Po(t){if(!(t.flags&1)){const i=Rn(t),s=Se[Se.length-1];!s||!(t.flags&2)&&i>=Rn(s)?Se.push(t):Se.splice(ld(i),0,t),t.flags|=1,iu()}}function iu(){Ir||(Ir=eu.then(nu))}function ud(t){_t(t)?Ds.push(...t):Ii&&t.id===-1?Ii.splice(Ls+1,0,t):t.flags&1||(Ds.push(t),t.flags|=1),iu()}function Lh(t,i,s=ti+1){for(;s<Se.length;s++){const r=Se[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Se.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function su(t){if(Ds.length){const i=[...new Set(Ds)].sort((s,r)=>Rn(s)-Rn(r));if(Ds.length=0,Ii){Ii.push(...i);return}for(Ii=i,Ls=0;Ls<Ii.length;Ls++){const s=Ii[Ls];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ii=null,Ls=0}}const Rn=t=>t.id==null?t.flags&2?-1:1/0:t.id;function nu(t){try{for(ti=0;ti<Se.length;ti++){const i=Se[ti];i&&!(i.flags&8)&&(i.flags&4&&(i.flags&=-2),$n(i,i.i,i.i?15:14),i.flags&4||(i.flags&=-2))}}finally{for(;ti<Se.length;ti++){const i=Se[ti];i&&(i.flags&=-2)}ti=-1,Se.length=0,su(),Ir=null,(Se.length||Ds.length)&&nu()}}let be=null,ru=null;function Gr(t){const i=be;return be=t,ru=t&&t.type.__scopeId||null,i}function as(t,i=be,s){if(!i||t._n)return t;const r=(...a)=>{r._d&&Bh(-1);const h=Gr(i);let l;try{l=t(...a)}finally{Gr(h),r._d&&Bh(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Yi(t,i,s,r){const a=t.dirs,h=i&&i.dirs;for(let l=0;l<a.length;l++){const u=a[l];h&&(u.oldValue=h[l].value);let c=u.dir[r];c&&(vi(),Ke(c,s,8,[t.el,u,t,i]),yi())}}const fd=Symbol("_vte"),au=t=>t.__isTeleport,Gi=Symbol("_leaveCb"),wr=Symbol("_enterCb");function cd(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return qi(()=>{t.isMounted=!0}),Wn(()=>{t.isUnmounting=!0}),t}const Ze=[Function,Array],ou={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ze,onEnter:Ze,onAfterEnter:Ze,onEnterCancelled:Ze,onBeforeLeave:Ze,onLeave:Ze,onAfterLeave:Ze,onLeaveCancelled:Ze,onBeforeAppear:Ze,onAppear:Ze,onAfterAppear:Ze,onAppearCancelled:Ze},hu=t=>{const i=t.subTree;return i.component?hu(i.component):i},dd={name:"BaseTransition",props:ou,setup(t,{slots:i}){const s=Ru(),r=cd();return()=>{const a=i.default&&fu(i.default(),!0);if(!a||!a.length)return;const h=lu(a),l=Rt(t),{mode:u}=l;if(r.isLeaving)return Ra(h);const c=Th(h);if(!c)return Ra(h);let _=Ja(c,l,r,s,m=>_=m);c.type!==pe&&kn(c,_);let g=s.subTree&&Th(s.subTree);if(g&&g.type!==pe&&!rs(c,g)&&hu(s).type!==pe){let m=Ja(g,l,r,s);if(kn(g,m),u==="out-in"&&c.type!==pe)return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,s.job.flags&8||s.update(),delete m.afterLeave,g=void 0},Ra(h);u==="in-out"&&c.type!==pe?m.delayLeave=(p,M,S)=>{const P=uu(r,g);P[String(g.key)]=g,p[Gi]=()=>{M(),p[Gi]=void 0,delete _.delayedLeave,g=void 0},_.delayedLeave=()=>{S(),delete _.delayedLeave,g=void 0}}:g=void 0}else g&&(g=void 0);return h}}};function lu(t){let i=t[0];if(t.length>1){for(const s of t)if(s.type!==pe){i=s;break}}return i}const _d=dd;function uu(t,i){const{leavingVNodes:s}=t;let r=s.get(i.type);return r||(r=Object.create(null),s.set(i.type,r)),r}function Ja(t,i,s,r,a){const{appear:h,mode:l,persisted:u=!1,onBeforeEnter:c,onEnter:_,onAfterEnter:g,onEnterCancelled:m,onBeforeLeave:p,onLeave:M,onAfterLeave:S,onLeaveCancelled:P,onBeforeAppear:A,onAppear:B,onAfterAppear:j,onAppearCancelled:V}=i,Q=String(t.key),lt=uu(s,t),pt=(ut,vt)=>{ut&&Ke(ut,r,9,vt)},Tt=(ut,vt)=>{const ft=vt[1];pt(ut,vt),_t(ut)?ut.every(X=>X.length<=1)&&ft():ut.length<=1&&ft()},Gt={mode:l,persisted:u,beforeEnter(ut){let vt=c;if(!s.isMounted)if(h)vt=A||c;else return;ut[Gi]&&ut[Gi](!0);const ft=lt[Q];ft&&rs(t,ft)&&ft.el[Gi]&&ft.el[Gi](),pt(vt,[ut])},enter(ut){let vt=_,ft=g,X=m;if(!s.isMounted)if(h)vt=B||_,ft=j||g,X=V||m;else return;let Ct=!1;const It=ut[wr]=se=>{Ct||(Ct=!0,se?pt(X,[ut]):pt(ft,[ut]),Gt.delayedLeave&&Gt.delayedLeave(),ut[wr]=void 0)};vt?Tt(vt,[ut,It]):It()},leave(ut,vt){const ft=String(t.key);if(ut[wr]&&ut[wr](!0),s.isUnmounting)return vt();pt(p,[ut]);let X=!1;const Ct=ut[Gi]=It=>{X||(X=!0,vt(),It?pt(P,[ut]):pt(S,[ut]),ut[Gi]=void 0,lt[ft]===t&&delete lt[ft])};lt[ft]=t,M?Tt(M,[ut,Ct]):Ct()},clone(ut){const vt=Ja(ut,i,s,r,a);return a&&a(vt),vt}};return Gt}function Ra(t){if(Yr(t))return t=zi(t),t.children=null,t}function Th(t){if(!Yr(t))return au(t.type)&&t.children?lu(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:i,children:s}=t;if(s){if(i&16)return s[0];if(i&32&&wt(s.default))return s.default()}}function kn(t,i){t.shapeFlag&6&&t.component?(t.transition=i,kn(t.component.subTree,i)):t.shapeFlag&128?(t.ssContent.transition=i.clone(t.ssContent),t.ssFallback.transition=i.clone(t.ssFallback)):t.transition=i}function fu(t,i=!1,s){let r=[],a=0;for(let h=0;h<t.length;h++){let l=t[h];const u=s==null?l.key:String(s)+String(l.key!=null?l.key:h);l.type===Ge?(l.patchFlag&128&&a++,r=r.concat(fu(l.children,i,u))):(i||l.type!==pe)&&r.push(u!=null?zi(l,{key:u}):l)}if(a>1)for(let h=0;h<r.length;h++)r[h].patchFlag=-2;return r}function cu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Nr(t,i,s,r,a=!1){if(_t(t)){t.forEach((S,P)=>Nr(S,i&&(_t(i)?i[P]:i),s,r,a));return}if(zs(r)&&!a){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Nr(t,i,s,r.component.subTree);return}const h=r.shapeFlag&4?Ao(r.component):r.el,l=a?null:h,{i:u,r:c}=t,_=i&&i.r,g=u.refs===Bt?u.refs={}:u.refs,m=u.setupState,p=Rt(m),M=m===Bt?()=>!1:S=>kt(p,S);if(_!=null&&_!==c&&(oe(_)?(g[_]=null,M(_)&&(m[_]=null)):ie(_)&&(_.value=null)),wt(c))$n(c,u,12,[l,g]);else{const S=oe(c),P=ie(c);if(S||P){const A=()=>{if(t.f){const B=S?M(c)?m[c]:g[c]:c.value;a?_t(B)&&fo(B,h):_t(B)?B.includes(h)||B.push(h):S?(g[c]=[h],M(c)&&(m[c]=g[c])):(c.value=[h],t.k&&(g[t.k]=c.value))}else S?(g[c]=l,M(c)&&(m[c]=l)):P&&(c.value=l,t.k&&(g[t.k]=l))};l?(A.id=-1,Re(A,s)):A()}}}Vr().requestIdleCallback;Vr().cancelIdleCallback;const zs=t=>!!t.type.__asyncLoader,Yr=t=>t.type.__isKeepAlive;function md(t,i){du(t,"a",i)}function pd(t,i){du(t,"da",i)}function du(t,i,s=ge){const r=t.__wdc||(t.__wdc=()=>{let a=s;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(ta(i,r,s),s){let a=s.parent;for(;a&&a.parent;)Yr(a.parent.vnode)&&gd(r,i,s,a),a=a.parent}}function gd(t,i,s,r){const a=ta(i,t,r,!0);_u(()=>{fo(r[i],a)},s)}function ta(t,i,s=ge,r=!1){if(s){const a=s[t]||(s[t]=[]),h=i.__weh||(i.__weh=(...l)=>{vi();const u=jn(s),c=Ke(i,s,t,l);return u(),yi(),c});return r?a.unshift(h):a.push(h),h}}const wi=t=>(i,s=ge)=>{(!Bn||t==="sp")&&ta(t,(...r)=>i(...r),s)},vd=wi("bm"),qi=wi("m"),yd=wi("bu"),Md=wi("u"),Wn=wi("bum"),_u=wi("um"),wd=wi("sp"),xd=wi("rtg"),Pd=wi("rtc");function Sd(t,i=ge){ta("ec",t,i)}const bd=Symbol.for("v-ndc");function Or(t,i,s={},r,a){if(be.ce||be.parent&&zs(be.parent)&&be.parent.ce)return i!=="default"&&(s.name=i),Zt(),os(Ge,null,[$t("slot",s,r)],64);let h=t[i];h&&h._c&&(h._d=!1),Zt();const l=h&&mu(h(s)),u=s.key||l&&l.key,c=os(Ge,{key:(u&&!Mi(u)?u:`_${i}`)+""},l||[],l&&t._===1?64:-2);return c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),h&&h._c&&(h._d=!0),c}function mu(t){return t.some(i=>zn(i)?!(i.type===pe||i.type===Ge&&!mu(i.children)):!0)?t:null}const Xa=t=>t?ku(t)?Ao(t):Xa(t.parent):null,Sn=ce(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Xa(t.parent),$root:t=>Xa(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>gu(t),$forceUpdate:t=>t.f||(t.f=()=>{Po(t.update)}),$nextTick:t=>t.n||(t.n=hd.bind(t.proxy)),$watch:t=>jd.bind(t)}),ka=(t,i)=>t!==Bt&&!t.__isScriptSetup&&kt(t,i),Ed={get({_:t},i){if(i==="__v_skip")return!0;const{ctx:s,setupState:r,data:a,props:h,accessCache:l,type:u,appContext:c}=t;let _;if(i[0]!=="$"){const M=l[i];if(M!==void 0)switch(M){case 1:return r[i];case 2:return a[i];case 4:return s[i];case 3:return h[i]}else{if(ka(r,i))return l[i]=1,r[i];if(a!==Bt&&kt(a,i))return l[i]=2,a[i];if((_=t.propsOptions[0])&&kt(_,i))return l[i]=3,h[i];if(s!==Bt&&kt(s,i))return l[i]=4,s[i];Qa&&(l[i]=0)}}const g=Sn[i];let m,p;if(g)return i==="$attrs"&&me(t.attrs,"get",""),g(t);if((m=u.__cssModules)&&(m=m[i]))return m;if(s!==Bt&&kt(s,i))return l[i]=4,s[i];if(p=c.config.globalProperties,kt(p,i))return p[i]},set({_:t},i,s){const{data:r,setupState:a,ctx:h}=t;return ka(a,i)?(a[i]=s,!0):r!==Bt&&kt(r,i)?(r[i]=s,!0):kt(t.props,i)||i[0]==="$"&&i.slice(1)in t?!1:(h[i]=s,!0)},has({_:{data:t,setupState:i,accessCache:s,ctx:r,appContext:a,propsOptions:h}},l){let u;return!!s[l]||t!==Bt&&kt(t,l)||ka(i,l)||(u=h[0])&&kt(u,l)||kt(r,l)||kt(Sn,l)||kt(a.config.globalProperties,l)},defineProperty(t,i,s){return s.get!=null?t._.accessCache[i]=0:kt(s,"value")&&this.set(t,i,s.value,null),Reflect.defineProperty(t,i,s)}};function Ih(t){return _t(t)?t.reduce((i,s)=>(i[s]=null,i),{}):t}let Qa=!0;function Cd(t){const i=gu(t),s=t.proxy,r=t.ctx;Qa=!1,i.beforeCreate&&Gh(i.beforeCreate,t,"bc");const{data:a,computed:h,methods:l,watch:u,provide:c,inject:_,created:g,beforeMount:m,mounted:p,beforeUpdate:M,updated:S,activated:P,deactivated:A,beforeDestroy:B,beforeUnmount:j,destroyed:V,unmounted:Q,render:lt,renderTracked:pt,renderTriggered:Tt,errorCaptured:Gt,serverPrefetch:ut,expose:vt,inheritAttrs:ft,components:X,directives:Ct,filters:It}=i;if(_&&Ad(_,r,null),l)for(const Lt in l){const b=l[Lt];wt(b)&&(r[Lt]=b.bind(s))}if(a){const Lt=a.call(s,s);Kt(Lt)&&(t.data=Mo(Lt))}if(Qa=!0,h)for(const Lt in h){const b=h[Lt],q=wt(b)?b.bind(s,s):wt(b.get)?b.get.bind(s,s):si,G=!wt(b)&&wt(b.set)?b.set.bind(s):si,z=d_({get:q,set:G});Object.defineProperty(r,Lt,{enumerable:!0,configurable:!0,get:()=>z.value,set:T=>z.value=T})}if(u)for(const Lt in u)pu(u[Lt],r,s,Lt);if(c){const Lt=wt(c)?c.call(s):c;Reflect.ownKeys(Lt).forEach(b=>{kr(b,Lt[b])})}g&&Gh(g,t,"c");function Pt(Lt,b){_t(b)?b.forEach(q=>Lt(q.bind(s))):b&&Lt(b.bind(s))}if(Pt(vd,m),Pt(qi,p),Pt(yd,M),Pt(Md,S),Pt(md,P),Pt(pd,A),Pt(Sd,Gt),Pt(Pd,pt),Pt(xd,Tt),Pt(Wn,j),Pt(_u,Q),Pt(wd,ut),_t(vt))if(vt.length){const Lt=t.exposed||(t.exposed={});vt.forEach(b=>{Object.defineProperty(Lt,b,{get:()=>s[b],set:q=>s[b]=q})})}else t.exposed||(t.exposed={});lt&&t.render===si&&(t.render=lt),ft!=null&&(t.inheritAttrs=ft),X&&(t.components=X),Ct&&(t.directives=Ct),ut&&cu(t)}function Ad(t,i,s=si){_t(t)&&(t=Ya(t));for(const r in t){const a=t[r];let h;Kt(a)?"default"in a?h=bn(a.from||r,a.default,!0):h=bn(a.from||r):h=bn(a),ie(h)?Object.defineProperty(i,r,{enumerable:!0,configurable:!0,get:()=>h.value,set:l=>h.value=l}):i[r]=h}}function Gh(t,i,s){Ke(_t(t)?t.map(r=>r.bind(i.proxy)):t.bind(i.proxy),i,s)}function pu(t,i,s,r){let a=r.includes(".")?Lu(s,r):()=>s[r];if(oe(t)){const h=i[t];wt(h)&&En(a,h)}else if(wt(t))En(a,t.bind(s));else if(Kt(t))if(_t(t))t.forEach(h=>pu(h,i,s,r));else{const h=wt(t.handler)?t.handler.bind(s):i[t.handler];wt(h)&&En(a,h,t)}}function gu(t){const i=t.type,{mixins:s,extends:r}=i,{mixins:a,optionsCache:h,config:{optionMergeStrategies:l}}=t.appContext,u=h.get(i);let c;return u?c=u:!a.length&&!s&&!r?c=i:(c={},a.length&&a.forEach(_=>Rr(c,_,l,!0)),Rr(c,i,l)),Kt(i)&&h.set(i,c),c}function Rr(t,i,s,r=!1){const{mixins:a,extends:h}=i;h&&Rr(t,h,s,!0),a&&a.forEach(l=>Rr(t,l,s,!0));for(const l in i)if(!(r&&l==="expose")){const u=Ld[l]||s&&s[l];t[l]=u?u(t[l],i[l]):i[l]}return t}const Ld={data:Nh,props:Oh,emits:Oh,methods:pn,computed:pn,beforeCreate:we,created:we,beforeMount:we,mounted:we,beforeUpdate:we,updated:we,beforeDestroy:we,beforeUnmount:we,destroyed:we,unmounted:we,activated:we,deactivated:we,errorCaptured:we,serverPrefetch:we,components:pn,directives:pn,watch:Id,provide:Nh,inject:Td};function Nh(t,i){return i?t?function(){return ce(wt(t)?t.call(this,this):t,wt(i)?i.call(this,this):i)}:i:t}function Td(t,i){return pn(Ya(t),Ya(i))}function Ya(t){if(_t(t)){const i={};for(let s=0;s<t.length;s++)i[t[s]]=t[s];return i}return t}function we(t,i){return t?[...new Set([].concat(t,i))]:i}function pn(t,i){return t?ce(Object.create(null),t,i):i}function Oh(t,i){return t?_t(t)&&_t(i)?[...new Set([...t,...i])]:ce(Object.create(null),Ih(t),Ih(i??{})):i}function Id(t,i){if(!t)return i;if(!i)return t;const s=ce(Object.create(null),t);for(const r in i)s[r]=we(t[r],i[r]);return s}function vu(){return{app:null,config:{isNativeTag:_c,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gd=0;function Nd(t,i){return function(r,a=null){wt(r)||(r=ce({},r)),a!=null&&!Kt(a)&&(a=null);const h=vu(),l=new WeakSet,u=[];let c=!1;const _=h.app={_uid:Gd++,_component:r,_props:a,_container:null,_context:h,_instance:null,version:m_,get config(){return h.config},set config(g){},use(g,...m){return l.has(g)||(g&&wt(g.install)?(l.add(g),g.install(_,...m)):wt(g)&&(l.add(g),g(_,...m))),_},mixin(g){return h.mixins.includes(g)||h.mixins.push(g),_},component(g,m){return m?(h.components[g]=m,_):h.components[g]},directive(g,m){return m?(h.directives[g]=m,_):h.directives[g]},mount(g,m,p){if(!c){const M=_._ceVNode||$t(r,a);return M.appContext=h,p===!0?p="svg":p===!1&&(p=void 0),t(M,g,p),c=!0,_._container=g,g.__vue_app__=_,Ao(M.component)}},onUnmount(g){u.push(g)},unmount(){c&&(Ke(u,_._instance,16),t(null,_._container),delete _._container.__vue_app__)},provide(g,m){return h.provides[g]=m,_},runWithContext(g){const m=Bs;Bs=_;try{return g()}finally{Bs=m}}};return _}}let Bs=null;function kr(t,i){if(ge){let s=ge.provides;const r=ge.parent&&ge.parent.provides;r===s&&(s=ge.provides=Object.create(r)),s[t]=i}}function bn(t,i,s=!1){const r=ge||be;if(r||Bs){const a=Bs?Bs._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(a&&t in a)return a[t];if(arguments.length>1)return s&&wt(i)?i.call(r&&r.proxy):i}}const yu={},Mu=()=>Object.create(yu),wu=t=>Object.getPrototypeOf(t)===yu;function Od(t,i,s,r=!1){const a={},h=Mu();t.propsDefaults=Object.create(null),xu(t,i,a,h);for(const l in t.propsOptions[0])l in a||(a[l]=void 0);s?t.props=r?a:Vc(a):t.type.props?t.props=a:t.props=h,t.attrs=h}function Rd(t,i,s,r){const{props:a,attrs:h,vnode:{patchFlag:l}}=t,u=Rt(a),[c]=t.propsOptions;let _=!1;if((r||l>0)&&!(l&16)){if(l&8){const g=t.vnode.dynamicProps;for(let m=0;m<g.length;m++){let p=g[m];if(ea(t.emitsOptions,p))continue;const M=i[p];if(c)if(kt(h,p))M!==h[p]&&(h[p]=M,_=!0);else{const S=gi(p);a[S]=to(c,u,S,M,t,!1)}else M!==h[p]&&(h[p]=M,_=!0)}}}else{xu(t,i,a,h)&&(_=!0);let g;for(const m in u)(!i||!kt(i,m)&&((g=Zi(m))===m||!kt(i,g)))&&(c?s&&(s[m]!==void 0||s[g]!==void 0)&&(a[m]=to(c,u,m,void 0,t,!0)):delete a[m]);if(h!==u)for(const m in h)(!i||!kt(i,m))&&(delete h[m],_=!0)}_&&mi(t.attrs,"set","")}function xu(t,i,s,r){const[a,h]=t.propsOptions;let l=!1,u;if(i)for(let c in i){if(Mn(c))continue;const _=i[c];let g;a&&kt(a,g=gi(c))?!h||!h.includes(g)?s[g]=_:(u||(u={}))[g]=_:ea(t.emitsOptions,c)||(!(c in r)||_!==r[c])&&(r[c]=_,l=!0)}if(h){const c=Rt(s),_=u||Bt;for(let g=0;g<h.length;g++){const m=h[g];s[m]=to(a,c,m,_[m],t,!kt(_,m))}}return l}function to(t,i,s,r,a,h){const l=t[s];if(l!=null){const u=kt(l,"default");if(u&&r===void 0){const c=l.default;if(l.type!==Function&&!l.skipFactory&&wt(c)){const{propsDefaults:_}=a;if(s in _)r=_[s];else{const g=jn(a);r=_[s]=c.call(null,i),g()}}else r=c;a.ce&&a.ce._setProp(s,r)}l[0]&&(h&&!u?r=!1:l[1]&&(r===""||r===Zi(s))&&(r=!0))}return r}const kd=new WeakMap;function Pu(t,i,s=!1){const r=s?kd:i.propsCache,a=r.get(t);if(a)return a;const h=t.props,l={},u=[];let c=!1;if(!wt(t)){const g=m=>{c=!0;const[p,M]=Pu(m,i,!0);ce(l,p),M&&u.push(...M)};!s&&i.mixins.length&&i.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!h&&!c)return Kt(t)&&r.set(t,Rs),Rs;if(_t(h))for(let g=0;g<h.length;g++){const m=gi(h[g]);Rh(m)&&(l[m]=Bt)}else if(h)for(const g in h){const m=gi(g);if(Rh(m)){const p=h[g],M=l[m]=_t(p)||wt(p)?{type:p}:ce({},p),S=M.type;let P=!1,A=!0;if(_t(S))for(let B=0;B<S.length;++B){const j=S[B],V=wt(j)&&j.name;if(V==="Boolean"){P=!0;break}else V==="String"&&(A=!1)}else P=wt(S)&&S.name==="Boolean";M[0]=P,M[1]=A,(P||kt(M,"default"))&&u.push(m)}}const _=[l,u];return Kt(t)&&r.set(t,_),_}function Rh(t){return t[0]!=="$"&&!Mn(t)}const So=t=>t[0]==="_"||t==="$stable",bo=t=>_t(t)?t.map(ei):[ei(t)],Dd=(t,i,s)=>{if(i._n)return i;const r=as((...a)=>bo(i(...a)),s);return r._c=!1,r},Su=(t,i,s)=>{const r=t._ctx;for(const a in t){if(So(a))continue;const h=t[a];if(wt(h))i[a]=Dd(a,h,r);else if(h!=null){const l=bo(h);i[a]=()=>l}}},bu=(t,i)=>{const s=bo(i);t.slots.default=()=>s},Eu=(t,i,s)=>{for(const r in i)(s||!So(r))&&(t[r]=i[r])},zd=(t,i,s)=>{const r=t.slots=Mu();if(t.vnode.shapeFlag&32){const a=i._;a?(Eu(r,i,s),s&&Rl(r,"_",a,!0)):Su(i,r)}else i&&bu(t,i)},Bd=(t,i,s)=>{const{vnode:r,slots:a}=t;let h=!0,l=Bt;if(r.shapeFlag&32){const u=i._;u?s&&u===1?h=!1:Eu(a,i,s):(h=!i.$stable,Su(i,a)),l=i}else i&&(bu(t,i),l={default:1});if(h)for(const u in a)!So(u)&&l[u]==null&&delete a[u]},Re=Yd;function Fd(t){return Zd(t)}function Zd(t,i){const s=Vr();s.__VUE__=!0;const{insert:r,remove:a,patchProp:h,createElement:l,createText:u,createComment:c,setText:_,setElementText:g,parentNode:m,nextSibling:p,setScopeId:M=si,insertStaticContent:S}=t,P=(y,w,C,D=null,O=null,k=null,U=void 0,$=null,H=!!w.dynamicChildren)=>{if(y===w)return;y&&!rs(y,w)&&(D=ot(y),T(y,O,k,!0),y=null),w.patchFlag===-2&&(H=!1,w.dynamicChildren=null);const{type:N,ref:K,shapeFlag:F}=w;switch(N){case ia:A(y,w,C,D);break;case pe:B(y,w,C,D);break;case za:y==null&&j(w,C,D,U);break;case Ge:X(y,w,C,D,O,k,U,$,H);break;default:F&1?lt(y,w,C,D,O,k,U,$,H):F&6?Ct(y,w,C,D,O,k,U,$,H):(F&64||F&128)&&N.process(y,w,C,D,O,k,U,$,H,gt)}K!=null&&O&&Nr(K,y&&y.ref,k,w||y,!w)},A=(y,w,C,D)=>{if(y==null)r(w.el=u(w.children),C,D);else{const O=w.el=y.el;w.children!==y.children&&_(O,w.children)}},B=(y,w,C,D)=>{y==null?r(w.el=c(w.children||""),C,D):w.el=y.el},j=(y,w,C,D)=>{[y.el,y.anchor]=S(y.children,w,C,D,y.el,y.anchor)},V=({el:y,anchor:w},C,D)=>{let O;for(;y&&y!==w;)O=p(y),r(y,C,D),y=O;r(w,C,D)},Q=({el:y,anchor:w})=>{let C;for(;y&&y!==w;)C=p(y),a(y),y=C;a(w)},lt=(y,w,C,D,O,k,U,$,H)=>{w.type==="svg"?U="svg":w.type==="math"&&(U="mathml"),y==null?pt(w,C,D,O,k,U,$,H):ut(y,w,O,k,U,$,H)},pt=(y,w,C,D,O,k,U,$)=>{let H,N;const{props:K,shapeFlag:F,transition:Y,dirs:nt}=y;if(H=y.el=l(y.type,k,K&&K.is,K),F&8?g(H,y.children):F&16&&Gt(y.children,H,null,D,O,Da(y,k),U,$),nt&&Yi(y,null,D,"created"),Tt(H,y,y.scopeId,U,D),K){for(const St in K)St!=="value"&&!Mn(St)&&h(H,St,null,K[St],k,D);"value"in K&&h(H,"value",null,K.value,k),(N=K.onVnodeBeforeMount)&&Ye(N,D,y)}nt&&Yi(y,null,D,"beforeMount");const mt=qd(O,Y);mt&&Y.beforeEnter(H),r(H,w,C),((N=K&&K.onVnodeMounted)||mt||nt)&&Re(()=>{N&&Ye(N,D,y),mt&&Y.enter(H),nt&&Yi(y,null,D,"mounted")},O)},Tt=(y,w,C,D,O)=>{if(C&&M(y,C),D)for(let k=0;k<D.length;k++)M(y,D[k]);if(O){let k=O.subTree;if(w===k||Gu(k.type)&&(k.ssContent===w||k.ssFallback===w)){const U=O.vnode;Tt(y,U,U.scopeId,U.slotScopeIds,O.parent)}}},Gt=(y,w,C,D,O,k,U,$,H=0)=>{for(let N=H;N<y.length;N++){const K=y[N]=$?Ni(y[N]):ei(y[N]);P(null,K,w,C,D,O,k,U,$)}},ut=(y,w,C,D,O,k,U)=>{const $=w.el=y.el;let{patchFlag:H,dynamicChildren:N,dirs:K}=w;H|=y.patchFlag&16;const F=y.props||Bt,Y=w.props||Bt;let nt;if(C&&ts(C,!1),(nt=Y.onVnodeBeforeUpdate)&&Ye(nt,C,w,y),K&&Yi(w,y,C,"beforeUpdate"),C&&ts(C,!0),(F.innerHTML&&Y.innerHTML==null||F.textContent&&Y.textContent==null)&&g($,""),N?vt(y.dynamicChildren,N,$,C,D,Da(w,O),k):U||b(y,w,$,null,C,D,Da(w,O),k,!1),H>0){if(H&16)ft($,F,Y,C,O);else if(H&2&&F.class!==Y.class&&h($,"class",null,Y.class,O),H&4&&h($,"style",F.style,Y.style,O),H&8){const mt=w.dynamicProps;for(let St=0;St<mt.length;St++){const bt=mt[St],Wt=F[bt],ct=Y[bt];(ct!==Wt||bt==="value")&&h($,bt,Wt,ct,O,C)}}H&1&&y.children!==w.children&&g($,w.children)}else!U&&N==null&&ft($,F,Y,C,O);((nt=Y.onVnodeUpdated)||K)&&Re(()=>{nt&&Ye(nt,C,w,y),K&&Yi(w,y,C,"updated")},D)},vt=(y,w,C,D,O,k,U)=>{for(let $=0;$<w.length;$++){const H=y[$],N=w[$],K=H.el&&(H.type===Ge||!rs(H,N)||H.shapeFlag&70)?m(H.el):C;P(H,N,K,null,D,O,k,U,!0)}},ft=(y,w,C,D,O)=>{if(w!==C){if(w!==Bt)for(const k in w)!Mn(k)&&!(k in C)&&h(y,k,w[k],null,O,D);for(const k in C){if(Mn(k))continue;const U=C[k],$=w[k];U!==$&&k!=="value"&&h(y,k,$,U,O,D)}"value"in C&&h(y,"value",w.value,C.value,O)}},X=(y,w,C,D,O,k,U,$,H)=>{const N=w.el=y?y.el:u(""),K=w.anchor=y?y.anchor:u("");let{patchFlag:F,dynamicChildren:Y,slotScopeIds:nt}=w;nt&&($=$?$.concat(nt):nt),y==null?(r(N,C,D),r(K,C,D),Gt(w.children||[],C,K,O,k,U,$,H)):F>0&&F&64&&Y&&y.dynamicChildren?(vt(y.dynamicChildren,Y,C,O,k,U,$),(w.key!=null||O&&w===O.subTree)&&Cu(y,w,!0)):b(y,w,C,K,O,k,U,$,H)},Ct=(y,w,C,D,O,k,U,$,H)=>{w.slotScopeIds=$,y==null?w.shapeFlag&512?O.ctx.activate(w,C,D,U,H):It(w,C,D,O,k,U,H):se(y,w,H)},It=(y,w,C,D,O,k,U)=>{const $=y.component=o_(y,D,O);if(Yr(y)&&($.ctx.renderer=gt),h_($,!1,U),$.asyncDep){if(O&&O.registerDep($,Pt,U),!y.el){const H=$.subTree=$t(pe);B(null,H,w,C)}}else Pt($,y,w,C,O,k,U)},se=(y,w,C)=>{const D=w.component=y.component;if(Xd(y,w,C))if(D.asyncDep&&!D.asyncResolved){Lt(D,w,C);return}else D.next=w,D.update();else w.el=y.el,D.vnode=w},Pt=(y,w,C,D,O,k,U)=>{const $=()=>{if(y.isMounted){let{next:F,bu:Y,u:nt,parent:mt,vnode:St}=y;{const Ft=Au(y);if(Ft){F&&(F.el=St.el,Lt(y,F,U)),Ft.asyncDep.then(()=>{y.isUnmounted||$()});return}}let bt=F,Wt;ts(y,!1),F?(F.el=St.el,Lt(y,F,U)):F=St,Y&&Ta(Y),(Wt=F.props&&F.props.onVnodeBeforeUpdate)&&Ye(Wt,mt,F,St),ts(y,!0);const ct=Dh(y),qt=y.subTree;y.subTree=ct,P(qt,ct,m(qt.el),ot(qt),y,O,k),F.el=ct.el,bt===null&&Qd(y,ct.el),nt&&Re(nt,O),(Wt=F.props&&F.props.onVnodeUpdated)&&Re(()=>Ye(Wt,mt,F,St),O)}else{let F;const{el:Y,props:nt}=w,{bm:mt,m:St,parent:bt,root:Wt,type:ct}=y,qt=zs(w);ts(y,!1),mt&&Ta(mt),!qt&&(F=nt&&nt.onVnodeBeforeMount)&&Ye(F,bt,w),ts(y,!0);{Wt.ce&&Wt.ce._injectChildStyle(ct);const Ft=y.subTree=Dh(y);P(null,Ft,C,D,y,O,k),w.el=Ft.el}if(St&&Re(St,O),!qt&&(F=nt&&nt.onVnodeMounted)){const Ft=w;Re(()=>Ye(F,bt,Ft),O)}(w.shapeFlag&256||bt&&zs(bt.vnode)&&bt.vnode.shapeFlag&256)&&y.a&&Re(y.a,O),y.isMounted=!0,w=C=D=null}};y.scope.on();const H=y.effect=new Bl($);y.scope.off();const N=y.update=H.run.bind(H),K=y.job=H.runIfDirty.bind(H);K.i=y,K.id=y.uid,H.scheduler=()=>Po(K),ts(y,!0),N()},Lt=(y,w,C)=>{w.component=y;const D=y.vnode.props;y.vnode=w,y.next=null,Rd(y,w.props,D,C),Bd(y,w.children,C),vi(),Lh(y),yi()},b=(y,w,C,D,O,k,U,$,H=!1)=>{const N=y&&y.children,K=y?y.shapeFlag:0,F=w.children,{patchFlag:Y,shapeFlag:nt}=w;if(Y>0){if(Y&128){G(N,F,C,D,O,k,U,$,H);return}else if(Y&256){q(N,F,C,D,O,k,U,$,H);return}}nt&8?(K&16&&st(N,O,k),F!==N&&g(C,F)):K&16?nt&16?G(N,F,C,D,O,k,U,$,H):st(N,O,k,!0):(K&8&&g(C,""),nt&16&&Gt(F,C,D,O,k,U,$,H))},q=(y,w,C,D,O,k,U,$,H)=>{y=y||Rs,w=w||Rs;const N=y.length,K=w.length,F=Math.min(N,K);let Y;for(Y=0;Y<F;Y++){const nt=w[Y]=H?Ni(w[Y]):ei(w[Y]);P(y[Y],nt,C,null,O,k,U,$,H)}N>K?st(y,O,k,!0,!1,F):Gt(w,C,D,O,k,U,$,H,F)},G=(y,w,C,D,O,k,U,$,H)=>{let N=0;const K=w.length;let F=y.length-1,Y=K-1;for(;N<=F&&N<=Y;){const nt=y[N],mt=w[N]=H?Ni(w[N]):ei(w[N]);if(rs(nt,mt))P(nt,mt,C,null,O,k,U,$,H);else break;N++}for(;N<=F&&N<=Y;){const nt=y[F],mt=w[Y]=H?Ni(w[Y]):ei(w[Y]);if(rs(nt,mt))P(nt,mt,C,null,O,k,U,$,H);else break;F--,Y--}if(N>F){if(N<=Y){const nt=Y+1,mt=nt<K?w[nt].el:D;for(;N<=Y;)P(null,w[N]=H?Ni(w[N]):ei(w[N]),C,mt,O,k,U,$,H),N++}}else if(N>Y)for(;N<=F;)T(y[N],O,k,!0),N++;else{const nt=N,mt=N,St=new Map;for(N=mt;N<=Y;N++){const te=w[N]=H?Ni(w[N]):ei(w[N]);te.key!=null&&St.set(te.key,N)}let bt,Wt=0;const ct=Y-mt+1;let qt=!1,Ft=0;const Jt=new Array(ct);for(N=0;N<ct;N++)Jt[N]=0;for(N=nt;N<=F;N++){const te=y[N];if(Wt>=ct){T(te,O,k,!0);continue}let le;if(te.key!=null)le=St.get(te.key);else for(bt=mt;bt<=Y;bt++)if(Jt[bt-mt]===0&&rs(te,w[bt])){le=bt;break}le===void 0?T(te,O,k,!0):(Jt[le-mt]=N+1,le>=Ft?Ft=le:qt=!0,P(te,w[le],C,null,O,k,U,$,H),Wt++)}const ne=qt?Ud(Jt):Rs;for(bt=ne.length-1,N=ct-1;N>=0;N--){const te=mt+N,le=w[te],ye=te+1<K?w[te+1].el:D;Jt[N]===0?P(null,le,C,ye,O,k,U,$,H):qt&&(bt<0||N!==ne[bt]?z(le,C,ye,2):bt--)}}},z=(y,w,C,D,O=null)=>{const{el:k,type:U,transition:$,children:H,shapeFlag:N}=y;if(N&6){z(y.component.subTree,w,C,D);return}if(N&128){y.suspense.move(w,C,D);return}if(N&64){U.move(y,w,C,gt);return}if(U===Ge){r(k,w,C);for(let F=0;F<H.length;F++)z(H[F],w,C,D);r(y.anchor,w,C);return}if(U===za){V(y,w,C);return}if(D!==2&&N&1&&$)if(D===0)$.beforeEnter(k),r(k,w,C),Re(()=>$.enter(k),O);else{const{leave:F,delayLeave:Y,afterLeave:nt}=$,mt=()=>{y.ctx.isUnmounted?a(k):r(k,w,C)},St=()=>{F(k,()=>{mt(),nt&&nt()})};Y?Y(k,mt,St):St()}else r(k,w,C)},T=(y,w,C,D=!1,O=!1)=>{const{type:k,props:U,ref:$,children:H,dynamicChildren:N,shapeFlag:K,patchFlag:F,dirs:Y,cacheIndex:nt}=y;if(F===-2&&(O=!1),$!=null&&(vi(),Nr($,null,C,y,!0),yi()),nt!=null&&(w.renderCache[nt]=void 0),K&256){w.ctx.deactivate(y);return}const mt=K&1&&Y,St=!zs(y);let bt;if(St&&(bt=U&&U.onVnodeBeforeUnmount)&&Ye(bt,w,y),K&6)rt(y.component,C,D);else{if(K&128){y.suspense.unmount(C,D);return}mt&&Yi(y,null,w,"beforeUnmount"),K&64?y.type.remove(y,w,C,gt,D):N&&!N.hasOnce&&(k!==Ge||F>0&&F&64)?st(N,w,C,!1,!0):(k===Ge&&F&384||!O&&K&16)&&st(H,w,C),D&&R(y)}(St&&(bt=U&&U.onVnodeUnmounted)||mt)&&Re(()=>{bt&&Ye(bt,w,y),mt&&Yi(y,null,w,"unmounted")},C)},R=y=>{const{type:w,el:C,anchor:D,transition:O}=y;if(w===Ge){J(C,D);return}if(w===za){Q(y);return}const k=()=>{a(C),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(y.shapeFlag&1&&O&&!O.persisted){const{leave:U,delayLeave:$}=O,H=()=>U(C,k);$?$(y.el,k,H):H()}else k()},J=(y,w)=>{let C;for(;y!==w;)C=p(y),a(y),y=C;a(w)},rt=(y,w,C)=>{const{bum:D,scope:O,job:k,subTree:U,um:$,m:H,a:N,parent:K,slots:{__:F}}=y;kh(H),kh(N),D&&Ta(D),K&&_t(F)&&F.forEach(Y=>{K.renderCache[Y]=void 0}),O.stop(),k&&(k.flags|=8,T(U,y,w,C)),$&&Re($,w),Re(()=>{y.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},st=(y,w,C,D=!1,O=!1,k=0)=>{for(let U=k;U<y.length;U++)T(y[U],w,C,D,O)},ot=y=>{if(y.shapeFlag&6)return ot(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const w=p(y.anchor||y.el),C=w&&w[fd];return C?p(C):w};let yt=!1;const ht=(y,w,C)=>{y==null?w._vnode&&T(w._vnode,null,null,!0):P(w._vnode||null,y,w,null,null,null,C),w._vnode=y,yt||(yt=!0,Lh(),su(),yt=!1)},gt={p:P,um:T,m:z,r:R,mt:It,mc:Gt,pc:b,pbc:vt,n:ot,o:t};return{render:ht,hydrate:void 0,createApp:Nd(ht)}}function Da({type:t,props:i},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:s}function ts({effect:t,job:i},s){s?(t.flags|=32,i.flags|=4):(t.flags&=-33,i.flags&=-5)}function qd(t,i){return(!t||t&&!t.pendingBranch)&&i&&!i.persisted}function Cu(t,i,s=!1){const r=t.children,a=i.children;if(_t(r)&&_t(a))for(let h=0;h<r.length;h++){const l=r[h];let u=a[h];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=a[h]=Ni(a[h]),u.el=l.el),!s&&u.patchFlag!==-2&&Cu(l,u)),u.type===ia&&(u.el=l.el),u.type===pe&&!u.el&&(u.el=l.el)}}function Ud(t){const i=t.slice(),s=[0];let r,a,h,l,u;const c=t.length;for(r=0;r<c;r++){const _=t[r];if(_!==0){if(a=s[s.length-1],t[a]<_){i[r]=a,s.push(r);continue}for(h=0,l=s.length-1;h<l;)u=h+l>>1,t[s[u]]<_?h=u+1:l=u;_<t[s[h]]&&(h>0&&(i[r]=s[h-1]),s[h]=r)}}for(h=s.length,l=s[h-1];h-- >0;)s[h]=l,l=i[l];return s}function Au(t){const i=t.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:Au(i)}function kh(t){if(t)for(let i=0;i<t.length;i++)t[i].flags|=8}const Hd=Symbol.for("v-scx"),$d=()=>bn(Hd);function Wd(t,i){return Eo(t,null,{flush:"sync"})}function En(t,i,s){return Eo(t,i,s)}function Eo(t,i,s=Bt){const{immediate:r,deep:a,flush:h,once:l}=s,u=ce({},s),c=i&&r||!i&&h!=="post";let _;if(Bn){if(h==="sync"){const M=$d();_=M.__watcherHandles||(M.__watcherHandles=[])}else if(!c){const M=()=>{};return M.stop=si,M.resume=si,M.pause=si,M}}const g=ge;u.call=(M,S,P)=>Ke(M,g,S,P);let m=!1;h==="post"?u.scheduler=M=>{Re(M,g&&g.suspense)}:h!=="sync"&&(m=!0,u.scheduler=(M,S)=>{S?M():Po(M)}),u.augmentJob=M=>{i&&(M.flags|=4),m&&(M.flags|=2,g&&(M.id=g.uid,M.i=g))};const p=ad(t,i,u);return Bn&&(_?_.push(p):c&&p()),p}function jd(t,i,s){const r=this.proxy,a=oe(t)?t.includes(".")?Lu(r,t):()=>r[t]:t.bind(r,r);let h;wt(i)?h=i:(h=i.handler,s=i);const l=jn(this),u=Eo(a,h.bind(r),s);return l(),u}function Lu(t,i){const s=i.split(".");return()=>{let r=t;for(let a=0;a<s.length&&r;a++)r=r[s[a]];return r}}function Dr(t,i,s=Bt){const r=Ru(),a=gi(i),h=Zi(i),l=Tu(t,a),u=td((c,_)=>{let g,m=Bt,p;return Wd(()=>{const M=t[a];Ie(g,M)&&(g=M,_())}),{get(){return c(),s.get?s.get(g):g},set(M){const S=s.set?s.set(M):M;if(!Ie(S,g)&&!(m!==Bt&&Ie(M,m)))return;const P=r.vnode.props;P&&(i in P||a in P||h in P)&&(`onUpdate:${i}`in P||`onUpdate:${a}`in P||`onUpdate:${h}`in P)||(g=M,_()),r.emit(`update:${i}`,S),Ie(M,S)&&Ie(M,m)&&!Ie(S,p)&&_(),m=M,p=S}}});return u[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?l||Bt:u,done:!1}:{done:!0}}}},u}const Tu=(t,i)=>i==="modelValue"||i==="model-value"?t.modelModifiers:t[`${i}Modifiers`]||t[`${gi(i)}Modifiers`]||t[`${Zi(i)}Modifiers`];function Vd(t,i,...s){if(t.isUnmounted)return;const r=t.vnode.props||Bt;let a=s;const h=i.startsWith("update:"),l=h&&Tu(r,i.slice(7));l&&(l.trim&&(a=s.map(g=>oe(g)?g.trim():g)),l.number&&(a=s.map(yc)));let u,c=r[u=La(i)]||r[u=La(gi(i))];!c&&h&&(c=r[u=La(Zi(i))]),c&&Ke(c,t,6,a);const _=r[u+"Once"];if(_){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,Ke(_,t,6,a)}}function Iu(t,i,s=!1){const r=i.emitsCache,a=r.get(t);if(a!==void 0)return a;const h=t.emits;let l={},u=!1;if(!wt(t)){const c=_=>{const g=Iu(_,i,!0);g&&(u=!0,ce(l,g))};!s&&i.mixins.length&&i.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!h&&!u?(Kt(t)&&r.set(t,null),null):(_t(h)?h.forEach(c=>l[c]=null):ce(l,h),Kt(t)&&r.set(t,l),l)}function ea(t,i){return!t||!$r(i)?!1:(i=i.slice(2).replace(/Once$/,""),kt(t,i[0].toLowerCase()+i.slice(1))||kt(t,Zi(i))||kt(t,i))}function Dh(t){const{type:i,vnode:s,proxy:r,withProxy:a,propsOptions:[h],slots:l,attrs:u,emit:c,render:_,renderCache:g,props:m,data:p,setupState:M,ctx:S,inheritAttrs:P}=t,A=Gr(t);let B,j;try{if(s.shapeFlag&4){const Q=a||r,lt=Q;B=ei(_.call(lt,Q,g,m,M,p,S)),j=u}else{const Q=i;B=ei(Q.length>1?Q(m,{attrs:u,slots:l,emit:c}):Q(m,null)),j=i.props?u:Kd(u)}}catch(Q){Cn.length=0,Qr(Q,t,1),B=$t(pe)}let V=B;if(j&&P!==!1){const Q=Object.keys(j),{shapeFlag:lt}=V;Q.length&&lt&7&&(h&&Q.some(uo)&&(j=Jd(j,h)),V=zi(V,j,!1,!0))}return s.dirs&&(V=zi(V,null,!1,!0),V.dirs=V.dirs?V.dirs.concat(s.dirs):s.dirs),s.transition&&kn(V,s.transition),B=V,Gr(A),B}const Kd=t=>{let i;for(const s in t)(s==="class"||s==="style"||$r(s))&&((i||(i={}))[s]=t[s]);return i},Jd=(t,i)=>{const s={};for(const r in t)(!uo(r)||!(r.slice(9)in i))&&(s[r]=t[r]);return s};function Xd(t,i,s){const{props:r,children:a,component:h}=t,{props:l,children:u,patchFlag:c}=i,_=h.emitsOptions;if(i.dirs||i.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return r?zh(r,l,_):!!l;if(c&8){const g=i.dynamicProps;for(let m=0;m<g.length;m++){const p=g[m];if(l[p]!==r[p]&&!ea(_,p))return!0}}}else return(a||u)&&(!u||!u.$stable)?!0:r===l?!1:r?l?zh(r,l,_):!0:!!l;return!1}function zh(t,i,s){const r=Object.keys(i);if(r.length!==Object.keys(t).length)return!0;for(let a=0;a<r.length;a++){const h=r[a];if(i[h]!==t[h]&&!ea(s,h))return!0}return!1}function Qd({vnode:t,parent:i},s){for(;i;){const r=i.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=i.vnode).el=s,i=i.parent;else break}}const Gu=t=>t.__isSuspense;function Yd(t,i){i&&i.pendingBranch?_t(t)?i.effects.push(...t):i.effects.push(t):ud(t)}const Ge=Symbol.for("v-fgt"),ia=Symbol.for("v-txt"),pe=Symbol.for("v-cmt"),za=Symbol.for("v-stc"),Cn=[];let ke=null;function Zt(t=!1){Cn.push(ke=t?null:[])}function t_(){Cn.pop(),ke=Cn[Cn.length-1]||null}let Dn=1;function Bh(t,i=!1){Dn+=t,t<0&&ke&&i&&(ke.hasOnce=!0)}function Nu(t){return t.dynamicChildren=Dn>0?ke||Rs:null,t_(),Dn>0&&ke&&ke.push(t),t}function Yt(t,i,s,r,a,h){return Nu(Ut(t,i,s,r,a,h,!0))}function os(t,i,s,r,a){return Nu($t(t,i,s,r,a,!0))}function zn(t){return t?t.__v_isVNode===!0:!1}function rs(t,i){return t.type===i.type&&t.key===i.key}const Ou=({key:t})=>t??null,Sr=({ref:t,ref_key:i,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?oe(t)||ie(t)||wt(t)?{i:be,r:t,k:i,f:!!s}:t:null);function Ut(t,i=null,s=null,r=0,a=null,h=t===Ge?0:1,l=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:i,key:i&&Ou(i),ref:i&&Sr(i),scopeId:ru,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:r,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:be};return u?(Co(c,s),h&128&&t.normalize(c)):s&&(c.shapeFlag|=oe(s)?8:16),Dn>0&&!l&&ke&&(c.patchFlag>0||h&6)&&c.patchFlag!==32&&ke.push(c),c}const $t=e_;function e_(t,i=null,s=null,r=0,a=null,h=!1){if((!t||t===bd)&&(t=pe),zn(t)){const u=zi(t,i,!0);return s&&Co(u,s),Dn>0&&!h&&ke&&(u.shapeFlag&6?ke[ke.indexOf(t)]=u:ke.push(u)),u.patchFlag=-2,u}if(c_(t)&&(t=t.__vccOpts),i){i=i_(i);let{class:u,style:c}=i;u&&!oe(u)&&(i.class=ls(u)),Kt(c)&&(xo(c)&&!_t(c)&&(c=ce({},c)),i.style=Kr(c))}const l=oe(t)?1:Gu(t)?128:au(t)?64:Kt(t)?4:wt(t)?2:0;return Ut(t,i,s,r,a,l,h,!0)}function i_(t){return t?xo(t)||wu(t)?ce({},t):t:null}function zi(t,i,s=!1,r=!1){const{props:a,ref:h,patchFlag:l,children:u,transition:c}=t,_=i?n_(a||{},i):a,g={__v_isVNode:!0,__v_skip:!0,type:t.type,props:_,key:_&&Ou(_),ref:i&&i.ref?s&&h?_t(h)?h.concat(Sr(i)):[h,Sr(i)]:Sr(i):h,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:i&&t.type!==Ge?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&zi(t.ssContent),ssFallback:t.ssFallback&&zi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&kn(g,c.clone(g)),g}function s_(t=" ",i=0){return $t(ia,null,t,i)}function pi(t="",i=!1){return i?(Zt(),os(pe,null,t)):$t(pe,null,t)}function ei(t){return t==null||typeof t=="boolean"?$t(pe):_t(t)?$t(Ge,null,t.slice()):zn(t)?Ni(t):$t(ia,null,String(t))}function Ni(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:zi(t)}function Co(t,i){let s=0;const{shapeFlag:r}=t;if(i==null)i=null;else if(_t(i))s=16;else if(typeof i=="object")if(r&65){const a=i.default;a&&(a._c&&(a._d=!1),Co(t,a()),a._c&&(a._d=!0));return}else{s=32;const a=i._;!a&&!wu(i)?i._ctx=be:a===3&&be&&(be.slots._===1?i._=1:(i._=2,t.patchFlag|=1024))}else wt(i)?(i={default:i,_ctx:be},s=32):(i=String(i),r&64?(s=16,i=[s_(i)]):s=8);t.children=i,t.shapeFlag|=s}function n_(...t){const i={};for(let s=0;s<t.length;s++){const r=t[s];for(const a in r)if(a==="class")i.class!==r.class&&(i.class=ls([i.class,r.class]));else if(a==="style")i.style=Kr([i.style,r.style]);else if($r(a)){const h=i[a],l=r[a];l&&h!==l&&!(_t(h)&&h.includes(l))&&(i[a]=h?[].concat(h,l):l)}else a!==""&&(i[a]=r[a])}return i}function Ye(t,i,s,r=null){Ke(t,i,7,[s,r])}const r_=vu();let a_=0;function o_(t,i,s){const r=t.type,a=(i?i.appContext:t.appContext)||r_,h={uid:a_++,vnode:t,type:r,parent:i,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(a.provides),ids:i?i.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pu(r,a),emitsOptions:Iu(r,a),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:r.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=i?i.root:h,h.emit=Vd.bind(null,h),t.ce&&t.ce(h),h}let ge=null;const Ru=()=>ge||be;let zr,eo;{const t=Vr(),i=(s,r)=>{let a;return(a=t[s])||(a=t[s]=[]),a.push(r),h=>{a.length>1?a.forEach(l=>l(h)):a[0](h)}};zr=i("__VUE_INSTANCE_SETTERS__",s=>ge=s),eo=i("__VUE_SSR_SETTERS__",s=>Bn=s)}const jn=t=>{const i=ge;return zr(t),t.scope.on(),()=>{t.scope.off(),zr(i)}},Fh=()=>{ge&&ge.scope.off(),zr(null)};function ku(t){return t.vnode.shapeFlag&4}let Bn=!1;function h_(t,i=!1,s=!1){i&&eo(i);const{props:r,children:a}=t.vnode,h=ku(t);Od(t,r,h,i),zd(t,a,s||i);const l=h?l_(t,i):void 0;return i&&eo(!1),l}function l_(t,i){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Ed);const{setup:r}=s;if(r){vi();const a=t.setupContext=r.length>1?f_(t):null,h=jn(t),l=$n(r,t,0,[t.props,a]),u=Il(l);if(yi(),h(),(u||t.sp)&&!zs(t)&&cu(t),u){if(l.then(Fh,Fh),i)return l.then(c=>{Zh(t,c)}).catch(c=>{Qr(c,t,0)});t.asyncDep=l}else Zh(t,l)}else Du(t)}function Zh(t,i,s){wt(i)?t.type.__ssrInlineRender?t.ssrRender=i:t.render=i:Kt(i)&&(t.setupState=tu(i)),Du(t)}function Du(t,i,s){const r=t.type;t.render||(t.render=r.render||si);{const a=jn(t);vi();try{Cd(t)}finally{yi(),a()}}}const u_={get(t,i){return me(t,"get",""),t[i]}};function f_(t){const i=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,u_),slots:t.slots,emit:t.emit,expose:i}}function Ao(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(tu(Kc(t.exposed)),{get(i,s){if(s in i)return i[s];if(s in Sn)return Sn[s](t)},has(i,s){return s in i||s in Sn}})):t.proxy}function c_(t){return wt(t)&&"__vccOpts"in t}const d_=(t,i)=>nd(t,i,Bn);function __(t,i,s){const r=arguments.length;return r===2?Kt(i)&&!_t(i)?zn(i)?$t(t,null,[i]):$t(t,i):$t(t,null,i):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&zn(s)&&(s=[s]),$t(t,i,s))}const m_="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let io;const qh=typeof window<"u"&&window.trustedTypes;if(qh)try{io=qh.createPolicy("vue",{createHTML:t=>t})}catch{}const zu=io?t=>io.createHTML(t):t=>t,p_="http://www.w3.org/2000/svg",g_="http://www.w3.org/1998/Math/MathML",_i=typeof document<"u"?document:null,Uh=_i&&_i.createElement("template"),v_={insert:(t,i,s)=>{i.insertBefore(t,s||null)},remove:t=>{const i=t.parentNode;i&&i.removeChild(t)},createElement:(t,i,s,r)=>{const a=i==="svg"?_i.createElementNS(p_,t):i==="mathml"?_i.createElementNS(g_,t):s?_i.createElement(t,{is:s}):_i.createElement(t);return t==="select"&&r&&r.multiple!=null&&a.setAttribute("multiple",r.multiple),a},createText:t=>_i.createTextNode(t),createComment:t=>_i.createComment(t),setText:(t,i)=>{t.nodeValue=i},setElementText:(t,i)=>{t.textContent=i},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>_i.querySelector(t),setScopeId(t,i){t.setAttribute(i,"")},insertStaticContent(t,i,s,r,a,h){const l=s?s.previousSibling:i.lastChild;if(a&&(a===h||a.nextSibling))for(;i.insertBefore(a.cloneNode(!0),s),!(a===h||!(a=a.nextSibling)););else{Uh.innerHTML=zu(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const u=Uh.content;if(r==="svg"||r==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}i.insertBefore(u,s)}return[l?l.nextSibling:i.firstChild,s?s.previousSibling:i.lastChild]}},Li="transition",_n="animation",Fn=Symbol("_vtc"),Bu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},y_=ce({},ou,Bu),M_=t=>(t.displayName="Transition",t.props=y_,t),Hh=M_((t,{slots:i})=>__(_d,w_(t),i)),es=(t,i=[])=>{_t(t)?t.forEach(s=>s(...i)):t&&t(...i)},$h=t=>t?_t(t)?t.some(i=>i.length>1):t.length>1:!1;function w_(t){const i={};for(const X in t)X in Bu||(i[X]=t[X]);if(t.css===!1)return i;const{name:s="v",type:r,duration:a,enterFromClass:h=`${s}-enter-from`,enterActiveClass:l=`${s}-enter-active`,enterToClass:u=`${s}-enter-to`,appearFromClass:c=h,appearActiveClass:_=l,appearToClass:g=u,leaveFromClass:m=`${s}-leave-from`,leaveActiveClass:p=`${s}-leave-active`,leaveToClass:M=`${s}-leave-to`}=t,S=x_(a),P=S&&S[0],A=S&&S[1],{onBeforeEnter:B,onEnter:j,onEnterCancelled:V,onLeave:Q,onLeaveCancelled:lt,onBeforeAppear:pt=B,onAppear:Tt=j,onAppearCancelled:Gt=V}=i,ut=(X,Ct,It,se)=>{X._enterCancelled=se,is(X,Ct?g:u),is(X,Ct?_:l),It&&It()},vt=(X,Ct)=>{X._isLeaving=!1,is(X,m),is(X,M),is(X,p),Ct&&Ct()},ft=X=>(Ct,It)=>{const se=X?Tt:j,Pt=()=>ut(Ct,X,It);es(se,[Ct,Pt]),Wh(()=>{is(Ct,X?c:h),di(Ct,X?g:u),$h(se)||jh(Ct,r,P,Pt)})};return ce(i,{onBeforeEnter(X){es(B,[X]),di(X,h),di(X,l)},onBeforeAppear(X){es(pt,[X]),di(X,c),di(X,_)},onEnter:ft(!1),onAppear:ft(!0),onLeave(X,Ct){X._isLeaving=!0;const It=()=>vt(X,Ct);di(X,m),X._enterCancelled?(di(X,p),Jh()):(Jh(),di(X,p)),Wh(()=>{X._isLeaving&&(is(X,m),di(X,M),$h(Q)||jh(X,r,A,It))}),es(Q,[X,It])},onEnterCancelled(X){ut(X,!1,void 0,!0),es(V,[X])},onAppearCancelled(X){ut(X,!0,void 0,!0),es(Gt,[X])},onLeaveCancelled(X){vt(X),es(lt,[X])}})}function x_(t){if(t==null)return null;if(Kt(t))return[Ba(t.enter),Ba(t.leave)];{const i=Ba(t);return[i,i]}}function Ba(t){return Mc(t)}function di(t,i){i.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Fn]||(t[Fn]=new Set)).add(i)}function is(t,i){i.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const s=t[Fn];s&&(s.delete(i),s.size||(t[Fn]=void 0))}function Wh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let P_=0;function jh(t,i,s,r){const a=t._endId=++P_,h=()=>{a===t._endId&&r()};if(s!=null)return setTimeout(h,s);const{type:l,timeout:u,propCount:c}=S_(t,i);if(!l)return r();const _=l+"end";let g=0;const m=()=>{t.removeEventListener(_,p),h()},p=M=>{M.target===t&&++g>=c&&m()};setTimeout(()=>{g<c&&m()},u+1),t.addEventListener(_,p)}function S_(t,i){const s=window.getComputedStyle(t),r=S=>(s[S]||"").split(", "),a=r(`${Li}Delay`),h=r(`${Li}Duration`),l=Vh(a,h),u=r(`${_n}Delay`),c=r(`${_n}Duration`),_=Vh(u,c);let g=null,m=0,p=0;i===Li?l>0&&(g=Li,m=l,p=h.length):i===_n?_>0&&(g=_n,m=_,p=c.length):(m=Math.max(l,_),g=m>0?l>_?Li:_n:null,p=g?g===Li?h.length:c.length:0);const M=g===Li&&/\b(transform|all)(,|$)/.test(r(`${Li}Property`).toString());return{type:g,timeout:m,propCount:p,hasTransform:M}}function Vh(t,i){for(;t.length<i.length;)t=t.concat(t);return Math.max(...i.map((s,r)=>Kh(s)+Kh(t[r])))}function Kh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Jh(){return document.body.offsetHeight}function b_(t,i,s){const r=t[Fn];r&&(i=(i?[i,...r]:[...r]).join(" ")),i==null?t.removeAttribute("class"):s?t.setAttribute("class",i):t.className=i}const Xh=Symbol("_vod"),E_=Symbol("_vsh"),C_=Symbol(""),A_=/(^|;)\s*display\s*:/;function L_(t,i,s){const r=t.style,a=oe(s);let h=!1;if(s&&!a){if(i)if(oe(i))for(const l of i.split(";")){const u=l.slice(0,l.indexOf(":")).trim();s[u]==null&&br(r,u,"")}else for(const l in i)s[l]==null&&br(r,l,"");for(const l in s)l==="display"&&(h=!0),br(r,l,s[l])}else if(a){if(i!==s){const l=r[C_];l&&(s+=";"+l),r.cssText=s,h=A_.test(s)}}else i&&t.removeAttribute("style");Xh in t&&(t[Xh]=h?r.display:"",t[E_]&&(r.display="none"))}const Qh=/\s*!important$/;function br(t,i,s){if(_t(s))s.forEach(r=>br(t,i,r));else if(s==null&&(s=""),i.startsWith("--"))t.setProperty(i,s);else{const r=T_(t,i);Qh.test(s)?t.setProperty(Zi(r),s.replace(Qh,""),"important"):t[r]=s}}const Yh=["Webkit","Moz","ms"],Fa={};function T_(t,i){const s=Fa[i];if(s)return s;let r=gi(i);if(r!=="filter"&&r in t)return Fa[i]=r;r=Ol(r);for(let a=0;a<Yh.length;a++){const h=Yh[a]+r;if(h in t)return Fa[i]=h}return i}const tl="http://www.w3.org/1999/xlink";function el(t,i,s,r,a,h=Ec(i)){r&&i.startsWith("xlink:")?s==null?t.removeAttributeNS(tl,i.slice(6,i.length)):t.setAttributeNS(tl,i,s):s==null||h&&!kl(s)?t.removeAttribute(i):t.setAttribute(i,h?"":Mi(s)?String(s):s)}function il(t,i,s,r,a){if(i==="innerHTML"||i==="textContent"){s!=null&&(t[i]=i==="innerHTML"?zu(s):s);return}const h=t.tagName;if(i==="value"&&h!=="PROGRESS"&&!h.includes("-")){const u=h==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(u!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(i),t._value=s;return}let l=!1;if(s===""||s==null){const u=typeof t[i];u==="boolean"?s=kl(s):s==null&&u==="string"?(s="",l=!0):u==="number"&&(s=0,l=!0)}try{t[i]=s}catch{}l&&t.removeAttribute(a||i)}function I_(t,i,s,r){t.addEventListener(i,s,r)}function G_(t,i,s,r){t.removeEventListener(i,s,r)}const sl=Symbol("_vei");function N_(t,i,s,r,a=null){const h=t[sl]||(t[sl]={}),l=h[i];if(r&&l)l.value=r;else{const[u,c]=O_(i);if(r){const _=h[i]=D_(r,a);I_(t,u,_,c)}else l&&(G_(t,u,l,c),h[i]=void 0)}}const nl=/(?:Once|Passive|Capture)$/;function O_(t){let i;if(nl.test(t)){i={};let r;for(;r=t.match(nl);)t=t.slice(0,t.length-r[0].length),i[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zi(t.slice(2)),i]}let Za=0;const R_=Promise.resolve(),k_=()=>Za||(R_.then(()=>Za=0),Za=Date.now());function D_(t,i){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;Ke(z_(r,s.value),i,5,[r])};return s.value=t,s.attached=k_(),s}function z_(t,i){if(_t(i)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},i.map(r=>a=>!a._stopped&&r&&r(a))}else return i}const rl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,B_=(t,i,s,r,a,h)=>{const l=a==="svg";i==="class"?b_(t,r,l):i==="style"?L_(t,s,r):$r(i)?uo(i)||N_(t,i,s,r,h):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):F_(t,i,r,l))?(il(t,i,r),!t.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&el(t,i,r,l,h,i!=="value")):t._isVueCE&&(/[A-Z]/.test(i)||!oe(r))?il(t,gi(i),r,h,i):(i==="true-value"?t._trueValue=r:i==="false-value"&&(t._falseValue=r),el(t,i,r,l))};function F_(t,i,s,r){if(r)return!!(i==="innerHTML"||i==="textContent"||i in t&&rl(i)&&wt(s));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="autocorrect"||i==="form"||i==="list"&&t.tagName==="INPUT"||i==="type"&&t.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const a=t.tagName;if(a==="IMG"||a==="VIDEO"||a==="CANVAS"||a==="SOURCE")return!1}return rl(i)&&oe(s)?!1:i in t}const Z_=ce({patchProp:B_},v_);let al;function q_(){return al||(al=Fd(Z_))}const U_=(...t)=>{const i=q_().createApp(...t),{mount:s}=i;return i.mount=r=>{const a=$_(r);if(!a)return;const h=i._component;!wt(h)&&!h.render&&!h.template&&(h.template=a.innerHTML),a.nodeType===1&&(a.textContent="");const l=s(a,!1,H_(a));return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),l},i};function H_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function $_(t){return oe(t)?document.querySelector(t):t}const W_="/geocanoabo/logo.png",j_="/geocanoabo/logo-dark.png",V_={class:"row-start-1 row-end-2 col-span-1 flex items-center justify-between px-4 py-2 bg-primary dark:bg-[#1a1a1a] border-b border-border dark:border-[#222]"},K_={class:"flex items-center space-x-3"},J_={key:0,src:W_,alt:"Logo GeoCanoabo",class:"h-10 w-10"},X_={key:1,src:j_,alt:"Logo GeoCanoabo dark",class:"h-10 w-10"},Q_={class:"font-montserrat text-2xl font-bold text-[#015059] dark:text-[#3eaf7c]"},Y_={class:"hidden md:block"},t0={"aria-label":"Opciones de usuario",class:"flex items-center"},e0={class:"md:hidden flex items-center"},i0={__name:"AppHeader",props:{title:String,darkMode:Boolean},setup(t){return(i,s)=>(Zt(),Yt("header",V_,[Ut("div",K_,[t.darkMode?(Zt(),Yt("img",X_)):(Zt(),Yt("img",J_)),Ut("span",Q_,[s[0]||(s[0]=Ut("span",{class:"block md:hidden"},"GeoCanoabo",-1)),Ut("span",Y_,_o(t.title),1)])]),Ut("nav",t0,[Or(i.$slots,"desktop-controls"),Ut("div",e0,[Or(i.$slots,"mobile-hamburger")])])]))}},s0={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7 text-[#015059] dark:text-[#3eaf7c]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n0={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7 text-[#015059] dark:text-[#3eaf7c]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r0={__name:"HamburgerButton",props:{open:Boolean},emits:["toggle"],setup(t){return(i,s)=>(Zt(),Yt("button",{onClick:s[0]||(s[0]=r=>i.$emit("toggle")),class:"p-2 rounded-full hover:bg-[#02A9FB]/20 transition","aria-label":"Abrir men de usuario"},[t.open?(Zt(),Yt("svg",n0,s[2]||(s[2]=[Ut("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(Zt(),Yt("svg",s0,s[1]||(s[1]=[Ut("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])))]))}},a0={key:0,class:"fixed left-0 right-0 top-[56px] bottom-0 bg-black bg-opacity-70 z-[2000] md:hidden"},o0={key:0,class:"fixed left-0 top-[56px] h-[calc(100vh-56px)] w-full bg-white dark:bg-[#222] z-[2100] p-6 flex flex-col items-center justify-center md:hidden shadow-lg"},h0={__name:"MobileMenu",props:{open:Boolean},emits:["close"],setup(t){return(i,s)=>(Zt(),Yt(Ge,null,[$t(Hh,{name:"fade"},{default:as(()=>[t.open?(Zt(),Yt("div",a0)):pi("",!0)]),_:1}),$t(Hh,{name:"slide"},{default:as(()=>[t.open?(Zt(),Yt("aside",o0,[Or(i.$slots,"default")])):pi("",!0)]),_:3})],64))}},l0={key:0,class:"bg-surface dark:bg-surface-dark border-r border-border dark:border-border-dark col-start-1 col-end-2 relative font-semibold text-lg transition-all duration-300 flex flex-col text-text dark:text-text-dark"},u0={class:"flex-1 flex items-center justify-center text-muted dark:text-muted-dark"},f0={__name:"Sidebar",props:{menuVisible:{},menuVisibleModifiers:{},menuPinned:{},menuPinnedModifiers:{}},emits:["update:menuVisible","update:menuPinned"],setup(t){const i=bn("t",a=>a),s=Dr(t,"menuVisible"),r=Dr(t,"menuPinned");return(a,h)=>s.value?(Zt(),Yt("aside",l0,[Ut("div",u0,_o(Ti(i)("menu"))+" lateral",1),r.value?pi("",!0):(Zt(),Yt("button",{key:0,onClick:h[0]||(h[0]=l=>s.value=!1),class:"absolute top-1/2 right-0 -translate-y-1/2 bg-blue-500 hover:bg-blue-600 text-white rounded-l-xl flex items-center justify-center focus:outline-none",style:{transform:"translateY(-50%)",width:"1rem",height:"5rem"},title:"Ocultar men","aria-label":"Ocultar men"},h[1]||(h[1]=[Ut("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Ut("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5l8 7-8 7"})],-1)])))])):pi("",!0)}},c0={__name:"MainLayout",props:{menuVisible:{},menuVisibleModifiers:{},menuPinned:{},menuPinnedModifiers:{}},emits:["update:menuVisible","update:menuPinned"],setup(t){const i=Dr(t,"menuVisible"),s=Dr(t,"menuPinned");return(r,a)=>(Zt(),Yt("section",{class:ls(["row-start-2 row-end-3 col-span-1 h-full grid",i.value?"grid-cols-[minmax(220px,25%)_1fr]":"grid-cols-1","bg-background dark:bg-background-dark"])},[$t(f0,{menuVisible:i.value,"onUpdate:menuVisible":a[0]||(a[0]=h=>i.value=h),menuPinned:s.value,"onUpdate:menuPinned":a[1]||(a[1]=h=>s.value=h)},null,8,["menuVisible","menuPinned"]),Ut("main",{class:ls(["bg-background dark:bg-background-dark w-full h-full flex-1 min-h-0 min-w-0 flex flex-col p-0 m-0 overflow-hidden relative",i.value?"col-start-2 col-end-3":"col-start-1 col-end-2"])},[Or(r.$slots,"default"),i.value?pi("",!0):(Zt(),Yt("button",{key:0,onClick:a[2]||(a[2]=h=>i.value=!0),class:"absolute z-[1000] top-1/2 left-0 -translate-y-1/2 bg-blue-500 hover:bg-blue-600 text-white rounded-r-xl flex items-center justify-center focus:outline-none",style:{transform:"translateY(-50%)",width:"1rem",height:"5rem"},title:"Mostrar men","aria-label":"Mostrar men"},a[3]||(a[3]=[Ut("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Ut("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 5l-8 7 8 7"})],-1)])))],2)],2))}},d0={class:"flex items-center space-x-2"},_0={key:0,class:"absolute left-7 top-1 w-4 h-4 flex items-center justify-center"},m0={key:1,class:"absolute left-1 top-1 w-4 h-4 flex items-center justify-center"},ol={__name:"LangSwitch",props:{modelValue:String},emits:["update:modelValue"],setup(t){return(i,s)=>(Zt(),Yt("div",d0,[Ut("span",{class:ls(["text-xs font-bold",t.modelValue==="ES"?"text-[#015059] dark:text-[#3eaf7c]":"text-gray-400"])},"ES",2),Ut("button",{onClick:s[0]||(s[0]=r=>i.$emit("update:modelValue",t.modelValue==="ES"?"EN":"ES")),class:"relative w-12 h-6 bg-gray-300 dark:bg-gray-700 rounded-full transition focus:outline-none focus:ring-2 focus:ring-[#02A9FB] flex items-center","aria-label":"Cambiar idioma"},[Ut("span",{class:"absolute left-1 top-1 w-4 h-4 rounded-full bg-white shadow transition-transform",style:Kr(t.modelValue==="EN"?"transform: translateX(24px);":"")},null,4),t.modelValue==="EN"?(Zt(),Yt("span",_0,s[1]||(s[1]=[Ut("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-[#015059] dark:text-[#3eaf7c]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Ut("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v2m0 14v2m9-9h-2M5 12H3m15.364-6.364l-1.414 1.414M6.05 17.95l-1.414 1.414M17.95 17.95l-1.414-1.414M6.05 6.05L4.636 4.636"})],-1)]))):(Zt(),Yt("span",m0,s[2]||(s[2]=[Ut("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-[#015059] dark:text-[#3eaf7c]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Ut("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v2m0 14v2m9-9h-2M5 12H3m15.364-6.364l-1.414 1.414M6.05 17.95l-1.414 1.414M17.95 17.95l-1.414-1.414M6.05 6.05L4.636 4.636"})],-1)])))]),Ut("span",{class:ls(["text-xs font-bold",t.modelValue==="EN"?"text-[#015059] dark:text-[#3eaf7c]":"text-gray-400"])},"EN",2)]))}},p0=["title"],g0={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-[#015059]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},v0={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-[#3eaf7c]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},hl={__name:"DarkModeSwitch",props:{modelValue:Boolean},emits:["update:modelValue"],setup(t){return(i,s)=>(Zt(),Yt("button",{onClick:s[0]||(s[0]=r=>i.$emit("update:modelValue",!t.modelValue)),class:"p-2 rounded-full hover:bg-[#02A9FB]/20 transition",title:t.modelValue?"Modo claro":"Modo oscuro","aria-label":"Cambiar modo claro/oscuro"},[t.modelValue?(Zt(),Yt("svg",v0,s[2]||(s[2]=[Ut("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z"},null,-1)]))):(Zt(),Yt("svg",g0,s[1]||(s[1]=[Ut("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v2m0 14v2m9-9h-2M5 12H3m15.364-6.364l-1.414 1.414M6.05 17.95l-1.414 1.414M17.95 17.95l-1.414-1.414M6.05 6.05L4.636 4.636"},null,-1)])))],8,p0))}};var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function M0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var so={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,i){(function(s,r){r(i)})(y0,function(s){var r="1.9.4";function a(e){var n,o,f,d;for(o=1,f=arguments.length;o<f;o++){d=arguments[o];for(n in d)e[n]=d[n]}return e}var h=Object.create||function(){function e(){}return function(n){return e.prototype=n,new e}}();function l(e,n){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var f=o.call(arguments,2);return function(){return e.apply(n,f.length?f.concat(o.call(arguments)):arguments)}}var u=0;function c(e){return"_leaflet_id"in e||(e._leaflet_id=++u),e._leaflet_id}function _(e,n,o){var f,d,v,x;return x=function(){f=!1,d&&(v.apply(o,d),d=!1)},v=function(){f?d=arguments:(e.apply(o,arguments),setTimeout(x,n),f=!0)},v}function g(e,n,o){var f=n[1],d=n[0],v=f-d;return e===f&&o?e:((e-d)%v+v)%v+d}function m(){return!1}function p(e,n){if(n===!1)return e;var o=Math.pow(10,n===void 0?6:n);return Math.round(e*o)/o}function M(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function S(e){return M(e).split(/\s+/)}function P(e,n){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?h(e.options):{});for(var o in n)e.options[o]=n[o];return e.options}function A(e,n,o){var f=[];for(var d in e)f.push(encodeURIComponent(o?d.toUpperCase():d)+"="+encodeURIComponent(e[d]));return(!n||n.indexOf("?")===-1?"?":"&")+f.join("&")}var B=/\{ *([\w_ -]+) *\}/g;function j(e,n){return e.replace(B,function(o,f){var d=n[f];if(d===void 0)throw new Error("No value provided for variable "+o);return typeof d=="function"&&(d=d(n)),d})}var V=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function Q(e,n){for(var o=0;o<e.length;o++)if(e[o]===n)return o;return-1}var lt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function pt(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Tt=0;function Gt(e){var n=+new Date,o=Math.max(0,16-(n-Tt));return Tt=n+o,window.setTimeout(e,o)}var ut=window.requestAnimationFrame||pt("RequestAnimationFrame")||Gt,vt=window.cancelAnimationFrame||pt("CancelAnimationFrame")||pt("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ft(e,n,o){if(o&&ut===Gt)e.call(n);else return ut.call(window,l(e,n))}function X(e){e&&vt.call(window,e)}var Ct={__proto__:null,extend:a,create:h,bind:l,get lastId(){return u},stamp:c,throttle:_,wrapNum:g,falseFn:m,formatNum:p,trim:M,splitWords:S,setOptions:P,getParamString:A,template:j,isArray:V,indexOf:Q,emptyImageUrl:lt,requestFn:ut,cancelFn:vt,requestAnimFrame:ft,cancelAnimFrame:X};function It(){}It.extend=function(e){var n=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=n.__super__=this.prototype,f=h(o);f.constructor=n,n.prototype=f;for(var d in this)Object.prototype.hasOwnProperty.call(this,d)&&d!=="prototype"&&d!=="__super__"&&(n[d]=this[d]);return e.statics&&a(n,e.statics),e.includes&&(se(e.includes),a.apply(null,[f].concat(e.includes))),a(f,e),delete f.statics,delete f.includes,f.options&&(f.options=o.options?h(o.options):{},a(f.options,e.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,x=f._initHooks.length;v<x;v++)f._initHooks[v].call(this)}},n},It.include=function(e){var n=this.prototype.options;return a(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},It.mergeOptions=function(e){return a(this.prototype.options,e),this},It.addInitHook=function(e){var n=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,n)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function se(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=V(e)?e:[e];for(var n=0;n<e.length;n++)e[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Pt={on:function(e,n,o){if(typeof e=="object")for(var f in e)this._on(f,e[f],n);else{e=S(e);for(var d=0,v=e.length;d<v;d++)this._on(e[d],n,o)}return this},off:function(e,n,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var f in e)this._off(f,e[f],n);else{e=S(e);for(var d=arguments.length===1,v=0,x=e.length;v<x;v++)d?this._off(e[v]):this._off(e[v],n,o)}return this},_on:function(e,n,o,f){if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}if(this._listens(e,n,o)===!1){o===this&&(o=void 0);var d={fn:n,ctx:o};f&&(d.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(d)}},_off:function(e,n,o){var f,d,v;if(this._events&&(f=this._events[e],!!f)){if(arguments.length===1){if(this._firingCount)for(d=0,v=f.length;d<v;d++)f[d].fn=m;delete this._events[e];return}if(typeof n!="function"){console.warn("wrong listener type: "+typeof n);return}var x=this._listens(e,n,o);if(x!==!1){var E=f[x];this._firingCount&&(E.fn=m,this._events[e]=f=f.slice()),f.splice(x,1)}}},fire:function(e,n,o){if(!this.listens(e,o))return this;var f=a({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var d=this._events[e];if(d){this._firingCount=this._firingCount+1||1;for(var v=0,x=d.length;v<x;v++){var E=d[v],I=E.fn;E.once&&this.off(e,I,E.ctx),I.call(E.ctx||this,f)}this._firingCount--}}return o&&this._propagateEvent(f),this},listens:function(e,n,o,f){typeof e!="string"&&console.warn('"string" type argument expected');var d=n;typeof n!="function"&&(f=!!n,d=void 0,o=void 0);var v=this._events&&this._events[e];if(v&&v.length&&this._listens(e,d,o)!==!1)return!0;if(f){for(var x in this._eventParents)if(this._eventParents[x].listens(e,n,o,f))return!0}return!1},_listens:function(e,n,o){if(!this._events)return!1;var f=this._events[e]||[];if(!n)return!!f.length;o===this&&(o=void 0);for(var d=0,v=f.length;d<v;d++)if(f[d].fn===n&&f[d].ctx===o)return d;return!1},once:function(e,n,o){if(typeof e=="object")for(var f in e)this._on(f,e[f],n,!0);else{e=S(e);for(var d=0,v=e.length;d<v;d++)this._on(e[d],n,o,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[c(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[c(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,a({layer:e.target,propagatedFrom:e.target},e),!0)}};Pt.addEventListener=Pt.on,Pt.removeEventListener=Pt.clearAllEventListeners=Pt.off,Pt.addOneTimeEventListener=Pt.once,Pt.fireEvent=Pt.fire,Pt.hasEventListeners=Pt.listens;var Lt=It.extend(Pt);function b(e,n,o){this.x=o?Math.round(e):e,this.y=o?Math.round(n):n}var q=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(e){return this.clone()._add(G(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(G(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new b(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new b(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(e){e=G(e);var n=e.x-this.x,o=e.y-this.y;return Math.sqrt(n*n+o*o)},equals:function(e){return e=G(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=G(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function G(e,n,o){return e instanceof b?e:V(e)?new b(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new b(e.x,e.y):new b(e,n,o)}function z(e,n){if(e)for(var o=n?[e,n]:e,f=0,d=o.length;f<d;f++)this.extend(o[f])}z.prototype={extend:function(e){var n,o;if(!e)return this;if(e instanceof b||typeof e[0]=="number"||"x"in e)n=o=G(e);else if(e=T(e),n=e.min,o=e.max,!n||!o)return this;return!this.min&&!this.max?(this.min=n.clone(),this.max=o.clone()):(this.min.x=Math.min(n.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(n.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(e){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var n,o;return typeof e[0]=="number"||e instanceof b?e=G(e):e=T(e),e instanceof z?(n=e.min,o=e.max):n=o=e,n.x>=this.min.x&&o.x<=this.max.x&&n.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=T(e);var n=this.min,o=this.max,f=e.min,d=e.max,v=d.x>=n.x&&f.x<=o.x,x=d.y>=n.y&&f.y<=o.y;return v&&x},overlaps:function(e){e=T(e);var n=this.min,o=this.max,f=e.min,d=e.max,v=d.x>n.x&&f.x<o.x,x=d.y>n.y&&f.y<o.y;return v&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var n=this.min,o=this.max,f=Math.abs(n.x-o.x)*e,d=Math.abs(n.y-o.y)*e;return T(G(n.x-f,n.y-d),G(o.x+f,o.y+d))},equals:function(e){return e?(e=T(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function T(e,n){return!e||e instanceof z?e:new z(e,n)}function R(e,n){if(e)for(var o=n?[e,n]:e,f=0,d=o.length;f<d;f++)this.extend(o[f])}R.prototype={extend:function(e){var n=this._southWest,o=this._northEast,f,d;if(e instanceof rt)f=e,d=e;else if(e instanceof R){if(f=e._southWest,d=e._northEast,!f||!d)return this}else return e?this.extend(st(e)||J(e)):this;return!n&&!o?(this._southWest=new rt(f.lat,f.lng),this._northEast=new rt(d.lat,d.lng)):(n.lat=Math.min(f.lat,n.lat),n.lng=Math.min(f.lng,n.lng),o.lat=Math.max(d.lat,o.lat),o.lng=Math.max(d.lng,o.lng)),this},pad:function(e){var n=this._southWest,o=this._northEast,f=Math.abs(n.lat-o.lat)*e,d=Math.abs(n.lng-o.lng)*e;return new R(new rt(n.lat-f,n.lng-d),new rt(o.lat+f,o.lng+d))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof rt||"lat"in e?e=st(e):e=J(e);var n=this._southWest,o=this._northEast,f,d;return e instanceof R?(f=e.getSouthWest(),d=e.getNorthEast()):f=d=e,f.lat>=n.lat&&d.lat<=o.lat&&f.lng>=n.lng&&d.lng<=o.lng},intersects:function(e){e=J(e);var n=this._southWest,o=this._northEast,f=e.getSouthWest(),d=e.getNorthEast(),v=d.lat>=n.lat&&f.lat<=o.lat,x=d.lng>=n.lng&&f.lng<=o.lng;return v&&x},overlaps:function(e){e=J(e);var n=this._southWest,o=this._northEast,f=e.getSouthWest(),d=e.getNorthEast(),v=d.lat>n.lat&&f.lat<o.lat,x=d.lng>n.lng&&f.lng<o.lng;return v&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,n){return e?(e=J(e),this._southWest.equals(e.getSouthWest(),n)&&this._northEast.equals(e.getNorthEast(),n)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function J(e,n){return e instanceof R?e:new R(e,n)}function rt(e,n,o){if(isNaN(e)||isNaN(n))throw new Error("Invalid LatLng object: ("+e+", "+n+")");this.lat=+e,this.lng=+n,o!==void 0&&(this.alt=+o)}rt.prototype={equals:function(e,n){if(!e)return!1;e=st(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(n===void 0?1e-9:n)},toString:function(e){return"LatLng("+p(this.lat,e)+", "+p(this.lng,e)+")"},distanceTo:function(e){return yt.distance(this,st(e))},wrap:function(){return yt.wrapLatLng(this)},toBounds:function(e){var n=180*e/40075017,o=n/Math.cos(Math.PI/180*this.lat);return J([this.lat-n,this.lng-o],[this.lat+n,this.lng+o])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};function st(e,n,o){return e instanceof rt?e:V(e)&&typeof e[0]!="object"?e.length===3?new rt(e[0],e[1],e[2]):e.length===2?new rt(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new rt(e.lat,"lng"in e?e.lng:e.lon,e.alt):n===void 0?null:new rt(e,n,o)}var ot={latLngToPoint:function(e,n){var o=this.projection.project(e),f=this.scale(n);return this.transformation._transform(o,f)},pointToLatLng:function(e,n){var o=this.scale(n),f=this.transformation.untransform(e,o);return this.projection.unproject(f)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var n=this.projection.bounds,o=this.scale(e),f=this.transformation.transform(n.min,o),d=this.transformation.transform(n.max,o);return new z(f,d)},infinite:!1,wrapLatLng:function(e){var n=this.wrapLng?g(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?g(e.lat,this.wrapLat,!0):e.lat,f=e.alt;return new rt(o,n,f)},wrapLatLngBounds:function(e){var n=e.getCenter(),o=this.wrapLatLng(n),f=n.lat-o.lat,d=n.lng-o.lng;if(f===0&&d===0)return e;var v=e.getSouthWest(),x=e.getNorthEast(),E=new rt(v.lat-f,v.lng-d),I=new rt(x.lat-f,x.lng-d);return new R(E,I)}},yt=a({},ot,{wrapLng:[-180,180],R:6371e3,distance:function(e,n){var o=Math.PI/180,f=e.lat*o,d=n.lat*o,v=Math.sin((n.lat-e.lat)*o/2),x=Math.sin((n.lng-e.lng)*o/2),E=v*v+Math.cos(f)*Math.cos(d)*x*x,I=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*I}}),ht=6378137,gt={R:ht,MAX_LATITUDE:85.0511287798,project:function(e){var n=Math.PI/180,o=this.MAX_LATITUDE,f=Math.max(Math.min(o,e.lat),-o),d=Math.sin(f*n);return new b(this.R*e.lng*n,this.R*Math.log((1+d)/(1-d))/2)},unproject:function(e){var n=180/Math.PI;return new rt((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*n,e.x*n/this.R)},bounds:function(){var e=ht*Math.PI;return new z([-e,-e],[e,e])}()};function At(e,n,o,f){if(V(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=n,this._c=o,this._d=f}At.prototype={transform:function(e,n){return this._transform(e.clone(),n)},_transform:function(e,n){return n=n||1,e.x=n*(this._a*e.x+this._b),e.y=n*(this._c*e.y+this._d),e},untransform:function(e,n){return n=n||1,new b((e.x/n-this._b)/this._a,(e.y/n-this._d)/this._c)}};function y(e,n,o,f){return new At(e,n,o,f)}var w=a({},yt,{code:"EPSG:3857",projection:gt,transformation:function(){var e=.5/(Math.PI*gt.R);return y(e,.5,-e,.5)}()}),C=a({},w,{code:"EPSG:900913"});function D(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function O(e,n){var o="",f,d,v,x,E,I;for(f=0,v=e.length;f<v;f++){for(E=e[f],d=0,x=E.length;d<x;d++)I=E[d],o+=(d?"L":"M")+I.x+" "+I.y;o+=n?at.svg?"z":"x":""}return o||"M0 0"}var k=document.documentElement.style,U="ActiveXObject"in window,$=U&&!document.addEventListener,H="msLaunchUri"in navigator&&!("documentMode"in document),N=Ce("webkit"),K=Ce("android"),F=Ce("android 2")||Ce("android 3"),Y=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),nt=K&&Ce("Google")&&Y<537&&!("AudioNode"in window),mt=!!window.opera,St=!H&&Ce("chrome"),bt=Ce("gecko")&&!N&&!mt&&!U,Wt=!St&&Ce("safari"),ct=Ce("phantom"),qt="OTransition"in k,Ft=navigator.platform.indexOf("Win")===0,Jt=U&&"transition"in k,ne="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!F,te="MozPerspective"in k,le=!window.L_DISABLE_3D&&(Jt||ne||te)&&!qt&&!ct,ye=typeof orientation<"u"||Ce("mobile"),ai=ye&&N,Hi=ye&&ne,Pi=!window.PointerEvent&&window.MSPointerEvent,Si=!!(window.PointerEvent||Pi),bi="ontouchstart"in window||!!window.TouchEvent,ds=!window.L_NO_TOUCH&&(bi||Si),Hs=ye&&mt,Ei=ye&&bt,$s=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,_s=function(){var e=!1;try{var n=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",m,n),window.removeEventListener("testPassiveEventSupport",m,n)}catch{}return e}(),Ws=function(){return!!document.createElement("canvas").getContext}(),$i=!!(document.createElementNS&&D("svg").createSVGRect),js=!!$i&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Yn=!$i&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var n=e.firstChild;return n.style.behavior="url(#default#VML)",n&&typeof n.adj=="object"}catch{return!1}}(),Vs=navigator.platform.indexOf("Mac")===0,ms=navigator.platform.indexOf("Linux")===0;function Ce(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var at={ie:U,ielt9:$,edge:H,webkit:N,android:K,android23:F,androidStock:nt,opera:mt,chrome:St,gecko:bt,safari:Wt,phantom:ct,opera12:qt,win:Ft,ie3d:Jt,webkit3d:ne,gecko3d:te,any3d:le,mobile:ye,mobileWebkit:ai,mobileWebkit3d:Hi,msPointer:Pi,pointer:Si,touch:ds,touchNative:bi,mobileOpera:Hs,mobileGecko:Ei,retina:$s,passiveEvents:_s,canvas:Ws,svg:$i,vml:Yn,inlineSvg:js,mac:Vs,linux:ms},Ks=at.msPointer?"MSPointerDown":"pointerdown",Wi=at.msPointer?"MSPointerMove":"pointermove",Js=at.msPointer?"MSPointerUp":"pointerup",Xs=at.msPointer?"MSPointerCancel":"pointercancel",oi={touchstart:Ks,touchmove:Wi,touchend:Js,touchcancel:Xs},ji={touchstart:df,touchmove:tr,touchend:tr,touchcancel:tr},De={},ps=!1;function Qs(e,n,o){return n==="touchstart"&&cf(),ji[n]?(o=ji[n].bind(this,o),e.addEventListener(oi[n],o,!1),o):(console.warn("wrong event specified:",n),m)}function gs(e,n,o){if(!oi[n]){console.warn("wrong event specified:",n);return}e.removeEventListener(oi[n],o,!1)}function vs(e){De[e.pointerId]=e}function Ys(e){De[e.pointerId]&&(De[e.pointerId]=e)}function ys(e){delete De[e.pointerId]}function cf(){ps||(document.addEventListener(Ks,vs,!0),document.addEventListener(Wi,Ys,!0),document.addEventListener(Js,ys,!0),document.addEventListener(Xs,ys,!0),ps=!0)}function tr(e,n){if(n.pointerType!==(n.MSPOINTER_TYPE_MOUSE||"mouse")){n.touches=[];for(var o in De)n.touches.push(De[o]);n.changedTouches=[n],e(n)}}function df(e,n){n.MSPOINTER_TYPE_TOUCH&&n.pointerType===n.MSPOINTER_TYPE_TOUCH&&ue(n),tr(e,n)}function _f(e){var n={},o,f;for(f in e)o=e[f],n[f]=o&&o.bind?o.bind(e):o;return e=n,n.type="dblclick",n.detail=2,n.isTrusted=!1,n._simulated=!0,n}var mf=200;function pf(e,n){e.addEventListener("dblclick",n);var o=0,f;function d(v){if(v.detail!==1){f=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var x=qo(v);if(!(x.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!x.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var E=Date.now();E-o<=mf?(f++,f===2&&n(_f(v))):f=1,o=E}}}return e.addEventListener("click",d),{dblclick:n,simDblclick:d}}function gf(e,n){e.removeEventListener("dblclick",n.dblclick),e.removeEventListener("click",n.simDblclick)}var na=sr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tn=sr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zo=tn==="webkitTransition"||tn==="OTransition"?tn+"End":"transitionend";function Bo(e){return typeof e=="string"?document.getElementById(e):e}function en(e,n){var o=e.style[n]||e.currentStyle&&e.currentStyle[n];if((!o||o==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(e,null);o=f?f[n]:null}return o==="auto"?null:o}function Ot(e,n,o){var f=document.createElement(e);return f.className=n||"",o&&o.appendChild(f),f}function Xt(e){var n=e.parentNode;n&&n.removeChild(e)}function er(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Ms(e){var n=e.parentNode;n&&n.lastChild!==e&&n.appendChild(e)}function ws(e){var n=e.parentNode;n&&n.firstChild!==e&&n.insertBefore(e,n.firstChild)}function ra(e,n){if(e.classList!==void 0)return e.classList.contains(n);var o=ir(e);return o.length>0&&new RegExp("(^|\\s)"+n+"(\\s|$)").test(o)}function xt(e,n){if(e.classList!==void 0)for(var o=S(n),f=0,d=o.length;f<d;f++)e.classList.add(o[f]);else if(!ra(e,n)){var v=ir(e);aa(e,(v?v+" ":"")+n)}}function ee(e,n){e.classList!==void 0?e.classList.remove(n):aa(e,M((" "+ir(e)+" ").replace(" "+n+" "," ")))}function aa(e,n){e.className.baseVal===void 0?e.className=n:e.className.baseVal=n}function ir(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function ze(e,n){"opacity"in e.style?e.style.opacity=n:"filter"in e.style&&vf(e,n)}function vf(e,n){var o=!1,f="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(f)}catch{if(n===1)return}n=Math.round(n*100),o?(o.Enabled=n!==100,o.Opacity=n):e.style.filter+=" progid:"+f+"(opacity="+n+")"}function sr(e){for(var n=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in n)return e[o];return!1}function Vi(e,n,o){var f=n||new b(0,0);e.style[na]=(at.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(o?" scale("+o+")":"")}function re(e,n){e._leaflet_pos=n,at.any3d?Vi(e,n):(e.style.left=n.x+"px",e.style.top=n.y+"px")}function Ki(e){return e._leaflet_pos||new b(0,0)}var sn,nn,oa;if("onselectstart"in document)sn=function(){Mt(window,"selectstart",ue)},nn=function(){jt(window,"selectstart",ue)};else{var rn=sr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);sn=function(){if(rn){var e=document.documentElement.style;oa=e[rn],e[rn]="none"}},nn=function(){rn&&(document.documentElement.style[rn]=oa,oa=void 0)}}function ha(){Mt(window,"dragstart",ue)}function la(){jt(window,"dragstart",ue)}var nr,ua;function fa(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(rr(),nr=e,ua=e.style.outlineStyle,e.style.outlineStyle="none",Mt(window,"keydown",rr))}function rr(){nr&&(nr.style.outlineStyle=ua,nr=void 0,ua=void 0,jt(window,"keydown",rr))}function Fo(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function ca(e){var n=e.getBoundingClientRect();return{x:n.width/e.offsetWidth||1,y:n.height/e.offsetHeight||1,boundingClientRect:n}}var yf={__proto__:null,TRANSFORM:na,TRANSITION:tn,TRANSITION_END:zo,get:Bo,getStyle:en,create:Ot,remove:Xt,empty:er,toFront:Ms,toBack:ws,hasClass:ra,addClass:xt,removeClass:ee,setClass:aa,getClass:ir,setOpacity:ze,testProp:sr,setTransform:Vi,setPosition:re,getPosition:Ki,get disableTextSelection(){return sn},get enableTextSelection(){return nn},disableImageDrag:ha,enableImageDrag:la,preventOutline:fa,restoreOutline:rr,getSizedParentNode:Fo,getScale:ca};function Mt(e,n,o,f){if(n&&typeof n=="object")for(var d in n)_a(e,d,n[d],o);else{n=S(n);for(var v=0,x=n.length;v<x;v++)_a(e,n[v],o,f)}return this}var Je="_leaflet_events";function jt(e,n,o,f){if(arguments.length===1)Zo(e),delete e[Je];else if(n&&typeof n=="object")for(var d in n)ma(e,d,n[d],o);else if(n=S(n),arguments.length===2)Zo(e,function(E){return Q(n,E)!==-1});else for(var v=0,x=n.length;v<x;v++)ma(e,n[v],o,f);return this}function Zo(e,n){for(var o in e[Je]){var f=o.split(/\d/)[0];(!n||n(f))&&ma(e,f,null,null,o)}}var da={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function _a(e,n,o,f){var d=n+c(o)+(f?"_"+c(f):"");if(e[Je]&&e[Je][d])return this;var v=function(E){return o.call(f||e,E||window.event)},x=v;!at.touchNative&&at.pointer&&n.indexOf("touch")===0?v=Qs(e,n,v):at.touch&&n==="dblclick"?v=pf(e,v):"addEventListener"in e?n==="touchstart"||n==="touchmove"||n==="wheel"||n==="mousewheel"?e.addEventListener(da[n]||n,v,at.passiveEvents?{passive:!1}:!1):n==="mouseenter"||n==="mouseleave"?(v=function(E){E=E||window.event,ga(e,E)&&x(E)},e.addEventListener(da[n],v,!1)):e.addEventListener(n,x,!1):e.attachEvent("on"+n,v),e[Je]=e[Je]||{},e[Je][d]=v}function ma(e,n,o,f,d){d=d||n+c(o)+(f?"_"+c(f):"");var v=e[Je]&&e[Je][d];if(!v)return this;!at.touchNative&&at.pointer&&n.indexOf("touch")===0?gs(e,n,v):at.touch&&n==="dblclick"?gf(e,v):"removeEventListener"in e?e.removeEventListener(da[n]||n,v,!1):e.detachEvent("on"+n,v),e[Je][d]=null}function Ji(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function pa(e){return _a(e,"wheel",Ji),this}function an(e){return Mt(e,"mousedown touchstart dblclick contextmenu",Ji),e._leaflet_disable_click=!0,this}function ue(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Xi(e){return ue(e),Ji(e),this}function qo(e){if(e.composedPath)return e.composedPath();for(var n=[],o=e.target;o;)n.push(o),o=o.parentNode;return n}function Uo(e,n){if(!n)return new b(e.clientX,e.clientY);var o=ca(n),f=o.boundingClientRect;return new b((e.clientX-f.left)/o.x-n.clientLeft,(e.clientY-f.top)/o.y-n.clientTop)}var Mf=at.linux&&at.chrome?window.devicePixelRatio:at.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ho(e){return at.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Mf:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function ga(e,n){var o=n.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var wf={__proto__:null,on:Mt,off:jt,stopPropagation:Ji,disableScrollPropagation:pa,disableClickPropagation:an,preventDefault:ue,stop:Xi,getPropagationPath:qo,getMousePosition:Uo,getWheelDelta:Ho,isExternalTarget:ga,addListener:Mt,removeListener:jt},$o=Lt.extend({run:function(e,n,o,f){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Ki(e),this._offset=n.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ft(this._animate,this),this._step()},_step:function(e){var n=+new Date-this._startTime,o=this._duration*1e3;n<o?this._runFrame(this._easeOut(n/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,n){var o=this._startPos.add(this._offset.multiplyBy(e));n&&o._round(),re(this._el,o),this.fire("step")},_complete:function(){X(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Nt=Lt.extend({options:{crs:w,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,n){n=P(this,n),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.zoom!==void 0&&(this._zoom=this._limitZoom(n.zoom)),n.center&&n.zoom!==void 0&&this.setView(st(n.center),n.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tn&&at.any3d&&!at.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Mt(this._proxy,zo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,o){if(n=n===void 0?this._zoom:this._limitZoom(n),e=this._limitCenter(st(e),n,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=a({animate:o.animate},o.zoom),o.pan=a({animate:o.animate,duration:o.duration},o.pan));var f=this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,o.zoom):this._tryAnimatedPan(e,o.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(e,n,o.pan&&o.pan.noMoveStart),this},setZoom:function(e,n){return this._loaded?this.setView(this.getCenter(),e,{zoom:n}):(this._zoom=e,this)},zoomIn:function(e,n){return e=e||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,n)},zoomOut:function(e,n){return e=e||(at.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,n)},setZoomAround:function(e,n,o){var f=this.getZoomScale(n),d=this.getSize().divideBy(2),v=e instanceof b?e:this.latLngToContainerPoint(e),x=v.subtract(d).multiplyBy(1-1/f),E=this.containerPointToLatLng(d.add(x));return this.setView(E,n,{zoom:o})},_getBoundsCenterZoom:function(e,n){n=n||{},e=e.getBounds?e.getBounds():J(e);var o=G(n.paddingTopLeft||n.padding||[0,0]),f=G(n.paddingBottomRight||n.padding||[0,0]),d=this.getBoundsZoom(e,!1,o.add(f));if(d=typeof n.maxZoom=="number"?Math.min(n.maxZoom,d):d,d===1/0)return{center:e.getCenter(),zoom:d};var v=f.subtract(o).divideBy(2),x=this.project(e.getSouthWest(),d),E=this.project(e.getNorthEast(),d),I=this.unproject(x.add(E).divideBy(2).add(v),d);return{center:I,zoom:d}},fitBounds:function(e,n){if(e=J(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,n);return this.setView(o.center,o.zoom,n)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,n){return this.setView(e,this._zoom,{pan:n})},panBy:function(e,n){if(e=G(e).round(),n=n||{},!e.x&&!e.y)return this.fire("moveend");if(n.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new $o,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),n.noMoveStart||this.fire("movestart"),n.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,n.duration||.25,n.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,n,o){if(o=o||{},o.animate===!1||!at.any3d)return this.setView(e,n,o);this._stop();var f=this.project(this.getCenter()),d=this.project(e),v=this.getSize(),x=this._zoom;e=st(e),n=n===void 0?x:n;var E=Math.max(v.x,v.y),I=E*this.getZoomScale(x,n),Z=d.distanceTo(f)||1,it=1.42,dt=it*it;function Et(ae){var gr=ae?-1:1,lc=ae?I:E,uc=I*I-E*E+gr*dt*dt*Z*Z,fc=2*lc*dt*Z,Aa=uc/fc,bh=Math.sqrt(Aa*Aa+1)-Aa,cc=bh<1e-9?-18:Math.log(bh);return cc}function Me(ae){return(Math.exp(ae)-Math.exp(-ae))/2}function he(ae){return(Math.exp(ae)+Math.exp(-ae))/2}function Fe(ae){return Me(ae)/he(ae)}var Ae=Et(0);function Cs(ae){return E*(he(Ae)/he(Ae+it*ae))}function rc(ae){return E*(he(Ae)*Fe(Ae+it*ae)-Me(Ae))/dt}function ac(ae){return 1-Math.pow(1-ae,1.5)}var oc=Date.now(),Ph=(Et(1)-Ae)/it,hc=o.duration?1e3*o.duration:1e3*Ph*.8;function Sh(){var ae=(Date.now()-oc)/hc,gr=ac(ae)*Ph;ae<=1?(this._flyToFrame=ft(Sh,this),this._move(this.unproject(f.add(d.subtract(f).multiplyBy(rc(gr)/Z)),x),this.getScaleZoom(E/Cs(gr),x),{flyTo:!0})):this._move(e,n)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),Sh.call(this),this},flyToBounds:function(e,n){var o=this._getBoundsCenterZoom(e,n);return this.flyTo(o.center,o.zoom,n)},setMaxBounds:function(e){return e=J(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var n=this.options.minZoom;return this.options.minZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var n=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&n!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,n){this._enforcingBounds=!0;var o=this.getCenter(),f=this._limitCenter(o,this._zoom,J(e));return o.equals(f)||this.panTo(f,n),this._enforcingBounds=!1,this},panInside:function(e,n){n=n||{};var o=G(n.paddingTopLeft||n.padding||[0,0]),f=G(n.paddingBottomRight||n.padding||[0,0]),d=this.project(this.getCenter()),v=this.project(e),x=this.getPixelBounds(),E=T([x.min.add(o),x.max.subtract(f)]),I=E.getSize();if(!E.contains(v)){this._enforcingBounds=!0;var Z=v.subtract(E.getCenter()),it=E.extend(v).getSize().subtract(I);d.x+=Z.x<0?-it.x:it.x,d.y+=Z.y<0?-it.y:it.y,this.panTo(this.unproject(d),n),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=a({animate:!1,pan:!0},e===!0?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),f=n.divideBy(2).round(),d=o.divideBy(2).round(),v=f.subtract(d);return!v.x&&!v.y?this:(e.animate&&e.pan?this.panBy(v):(e.pan&&this._rawPanBy(v),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=a({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=l(this._handleGeolocationResponse,this),o=l(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,o,e):navigator.geolocation.getCurrentPosition(n,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var n=e.code,o=e.message||(n===1?"permission denied":n===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:n,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var n=e.coords.latitude,o=e.coords.longitude,f=new rt(n,o),d=f.toBounds(e.coords.accuracy*2),v=this._locateOptions;if(v.setView){var x=this.getBoundsZoom(d);this.setView(f,v.maxZoom?Math.min(x,v.maxZoom):x)}var E={latlng:f,bounds:d,timestamp:e.timestamp};for(var I in e.coords)typeof e.coords[I]=="number"&&(E[I]=e.coords[I]);this.fire("locationfound",E)}},addHandler:function(e,n){if(!n)return this;var o=this[e]=new n(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Xt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(X(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Xt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,n){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),f=Ot("div",o,n||this._mapPane);return e&&(this._panes[e]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),n=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new R(n,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,n,o){e=J(e),o=G(o||[0,0]);var f=this.getZoom()||0,d=this.getMinZoom(),v=this.getMaxZoom(),x=e.getNorthWest(),E=e.getSouthEast(),I=this.getSize().subtract(o),Z=T(this.project(E,f),this.project(x,f)).getSize(),it=at.any3d?this.options.zoomSnap:1,dt=I.x/Z.x,Et=I.y/Z.y,Me=n?Math.max(dt,Et):Math.min(dt,Et);return f=this.getScaleZoom(Me,f),it&&(f=Math.round(f/(it/100))*(it/100),f=n?Math.ceil(f/it)*it:Math.floor(f/it)*it),Math.max(d,Math.min(v,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,n){var o=this._getTopLeftPoint(e,n);return new z(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,n){var o=this.options.crs;return n=n===void 0?this._zoom:n,o.scale(e)/o.scale(n)},getScaleZoom:function(e,n){var o=this.options.crs;n=n===void 0?this._zoom:n;var f=o.zoom(e*o.scale(n));return isNaN(f)?1/0:f},project:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.latLngToPoint(st(e),n)},unproject:function(e,n){return n=n===void 0?this._zoom:n,this.options.crs.pointToLatLng(G(e),n)},layerPointToLatLng:function(e){var n=G(e).add(this.getPixelOrigin());return this.unproject(n)},latLngToLayerPoint:function(e){var n=this.project(st(e))._round();return n._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(st(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(J(e))},distance:function(e,n){return this.options.crs.distance(st(e),st(n))},containerPointToLayerPoint:function(e){return G(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return G(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var n=this.containerPointToLayerPoint(G(e));return this.layerPointToLatLng(n)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(st(e)))},mouseEventToContainerPoint:function(e){return Uo(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var n=this._container=Bo(e);if(n){if(n._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Mt(n,"scroll",this._onScroll,this),this._containerId=c(n)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&at.any3d,xt(e,"leaflet-container"+(at.touch?" leaflet-touch":"")+(at.retina?" leaflet-retina":"")+(at.ielt9?" leaflet-oldie":"")+(at.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=en(e,"position");n!=="absolute"&&n!=="relative"&&n!=="fixed"&&n!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),re(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(e.markerPane,"leaflet-zoom-hide"),xt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,n,o){re(this._mapPane,new b(0,0));var f=!this._loaded;this._loaded=!0,n=this._limitZoom(n),this.fire("viewprereset");var d=this._zoom!==n;this._moveStart(d,o)._move(e,n)._moveEnd(d),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(e,n){return e&&this.fire("zoomstart"),n||this.fire("movestart"),this},_move:function(e,n,o,f){n===void 0&&(n=this._zoom);var d=this._zoom!==n;return this._zoom=n,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),f?o&&o.pinch&&this.fire("zoom",o):((d||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return X(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){re(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[c(this._container)]=this;var n=e?jt:Mt;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&n(window,"resize",this._onResize,this),at.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){X(this._resizeRequest),this._resizeRequest=ft(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,n){for(var o=[],f,d=n==="mouseout"||n==="mouseover",v=e.target||e.srcElement,x=!1;v;){if(f=this._targets[c(v)],f&&(n==="click"||n==="preclick")&&this._draggableMoved(f)){x=!0;break}if(f&&f.listens(n,!0)&&(d&&!ga(v,e)||(o.push(f),d))||v===this._container)break;v=v.parentNode}return!o.length&&!x&&!d&&this.listens(n,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var n=e.target||e.srcElement;if(!(!this._loaded||n._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(n))){var o=e.type;o==="mousedown"&&fa(n),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,o){if(e.type==="click"){var f=a({},e);f.type="preclick",this._fireDOMEvent(f,f.type,o)}var d=this._findEventTargets(e,n);if(o){for(var v=[],x=0;x<o.length;x++)o[x].listens(n,!0)&&v.push(o[x]);d=v.concat(d)}if(d.length){n==="contextmenu"&&ue(e);var E=d[0],I={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var Z=E.getLatLng&&(!E._radius||E._radius<=10);I.containerPoint=Z?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(e),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=Z?E.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(x=0;x<d.length;x++)if(d[x].fire(n,I,!0),I.originalEvent._stopped||d[x].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,n)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,n=this._handlers.length;e<n;e++)this._handlers[e].disable()},whenReady:function(e,n){return this._loaded?e.call(n||this,{target:this}):this.on("load",e,n),this},_getMapPanePos:function(){return Ki(this._mapPane)||new b(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,n){var o=e&&n!==void 0?this._getNewPixelOrigin(e,n):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,n){var o=this.getSize()._divideBy(2);return this.project(e,n)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,n,o){var f=this._getNewPixelOrigin(o,n);return this.project(e,n)._subtract(f)},_latLngBoundsToNewLayerBounds:function(e,n,o){var f=this._getNewPixelOrigin(o,n);return T([this.project(e.getSouthWest(),n)._subtract(f),this.project(e.getNorthWest(),n)._subtract(f),this.project(e.getSouthEast(),n)._subtract(f),this.project(e.getNorthEast(),n)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,n,o){if(!o)return e;var f=this.project(e,n),d=this.getSize().divideBy(2),v=new z(f.subtract(d),f.add(d)),x=this._getBoundsOffset(v,o,n);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?e:this.unproject(f.add(x),n)},_limitOffset:function(e,n){if(!n)return e;var o=this.getPixelBounds(),f=new z(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(f,n))},_getBoundsOffset:function(e,n,o){var f=T(this.project(n.getNorthEast(),o),this.project(n.getSouthWest(),o)),d=f.min.subtract(e.min),v=f.max.subtract(e.max),x=this._rebound(d.x,-v.x),E=this._rebound(d.y,-v.y);return new b(x,E)},_rebound:function(e,n){return e+n>0?Math.round(e-n)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(n))},_limitZoom:function(e){var n=this.getMinZoom(),o=this.getMaxZoom(),f=at.any3d?this.options.zoomSnap:1;return f&&(e=Math.round(e/f)*f),Math.max(n,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ee(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,n){var o=this._getCenterOffset(e)._trunc();return(n&&n.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,n),!0)},_createAnimProxy:function(){var e=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(n){var o=na,f=this._proxy.style[o];Vi(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1)),f===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Xt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),n=this.getZoom();Vi(this._proxy,this.project(e,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,n,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(n),d=this._getCenterOffset(e)._divideBy(1-1/f);return o.animate!==!0&&!this.getSize().contains(d)?!1:(ft(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(e,n,!0)},this),!0)},_animateZoom:function(e,n,o,f){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=n,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:n,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ee(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function xf(e,n){return new Nt(e,n)}var Ue=It.extend({options:{position:"topright"},initialize:function(e){P(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var n=this._map;return n&&n.removeControl(this),this.options.position=e,n&&n.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var n=this._container=this.onAdd(e),o=this.getPosition(),f=e._controlCorners[o];return xt(n,"leaflet-control"),o.indexOf("bottom")!==-1?f.insertBefore(n,f.firstChild):f.appendChild(n),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Xt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),on=function(e){return new Ue(e)};Nt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},n="leaflet-",o=this._controlContainer=Ot("div",n+"control-container",this._container);function f(d,v){var x=n+d+" "+n+v;e[d+v]=Ot("div",x,o)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Xt(this._controlCorners[e]);Xt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Wo=Ue.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,n,o,f){return o<f?-1:f<o?1:0}},initialize:function(e,n,o){P(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in e)this._addLayer(e[f],f);for(f in n)this._addLayer(n[f],f,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var n=0;n<this._layers.length;n++)this._layers[n].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ue.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,n){return this._addLayer(e,n),this._map?this._update():this},addOverlay:function(e,n){return this._addLayer(e,n,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var n=this._getLayer(c(e));return n&&this._layers.splice(this._layers.indexOf(n),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ee(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ee(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",n=this._container=Ot("div",e),o=this.options.collapsed;n.setAttribute("aria-haspopup",!0),an(n),pa(n);var f=this._section=Ot("section",e+"-list");o&&(this._map.on("click",this.collapse,this),Mt(n,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var d=this._layersLink=Ot("a",e+"-toggle",n);d.href="#",d.title="Layers",d.setAttribute("role","button"),Mt(d,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){ue(v),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=Ot("div",e+"-base",f),this._separator=Ot("div",e+"-separator",f),this._overlaysList=Ot("div",e+"-overlays",f),n.appendChild(f)},_getLayer:function(e){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&c(this._layers[n].layer)===e)return this._layers[n]},_addLayer:function(e,n,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:n,overlay:o}),this.options.sortLayers&&this._layers.sort(l(function(f,d){return this.options.sortFunction(f.layer,d.layer,f.name,d.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;er(this._baseLayersList),er(this._overlaysList),this._layerControlInputs=[];var e,n,o,f,d=0;for(o=0;o<this._layers.length;o++)f=this._layers[o],this._addItem(f),n=n||f.overlay,e=e||!f.overlay,d+=f.overlay?0:1;return this.options.hideSingleBase&&(e=e&&d>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=n&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var n=this._getLayer(c(e.target)),o=n.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,n)},_createRadioElement:function(e,n){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(n?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=o,f.firstChild},_addItem:function(e){var n=document.createElement("label"),o=this._map.hasLayer(e.layer),f;e.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=o):f=this._createRadioElement("leaflet-base-layers_"+c(this),o),this._layerControlInputs.push(f),f.layerId=c(e.layer),Mt(f,"click",this._onInputClick,this);var d=document.createElement("span");d.innerHTML=" "+e.name;var v=document.createElement("span");n.appendChild(v),v.appendChild(f),v.appendChild(d);var x=e.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,n,o,f=[],d=[];this._handlingClick=!0;for(var v=e.length-1;v>=0;v--)n=e[v],o=this._getLayer(n.layerId).layer,n.checked?f.push(o):n.checked||d.push(o);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])&&this._map.removeLayer(d[v]);for(v=0;v<f.length;v++)this._map.hasLayer(f[v])||this._map.addLayer(f[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,n,o,f=this._map.getZoom(),d=e.length-1;d>=0;d--)n=e[d],o=this._getLayer(n.layerId).layer,n.disabled=o.options.minZoom!==void 0&&f<o.options.minZoom||o.options.maxZoom!==void 0&&f>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,Mt(e,"click",ue),this.expand();var n=this;setTimeout(function(){jt(e,"click",ue),n._preventClick=!1})}}),Pf=function(e,n,o){return new Wo(e,n,o)},va=Ue.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var n="leaflet-control-zoom",o=Ot("div",n+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,n+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,n+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,n,o,f,d){var v=Ot("a",o,f);return v.innerHTML=e,v.href="#",v.title=n,v.setAttribute("role","button"),v.setAttribute("aria-label",n),an(v),Mt(v,"click",Xi),Mt(v,"click",d,this),Mt(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var e=this._map,n="leaflet-disabled";ee(this._zoomInButton,n),ee(this._zoomOutButton,n),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(xt(this._zoomOutButton,n),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(xt(this._zoomInButton,n),this._zoomInButton.setAttribute("aria-disabled","true"))}});Nt.mergeOptions({zoomControl:!0}),Nt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new va,this.addControl(this.zoomControl))});var Sf=function(e){return new va(e)},jo=Ue.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var n="leaflet-control-scale",o=Ot("div",n),f=this.options;return this._addScales(f,n+"-line",o),e.on(f.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,n,o){e.metric&&(this._mScale=Ot("div",n,o)),e.imperial&&(this._iScale=Ot("div",n,o))},_update:function(){var e=this._map,n=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,n]),e.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var n=this._getRoundNum(e),o=n<1e3?n+" m":n/1e3+" km";this._updateScale(this._mScale,o,n/e)},_updateImperial:function(e){var n=e*3.2808399,o,f,d;n>5280?(o=n/5280,f=this._getRoundNum(o),this._updateScale(this._iScale,f+" mi",f/o)):(d=this._getRoundNum(n),this._updateScale(this._iScale,d+" ft",d/n))},_updateScale:function(e,n,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=n},_getRoundNum:function(e){var n=Math.pow(10,(Math.floor(e)+"").length-1),o=e/n;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,n*o}}),bf=function(e){return new jo(e)},Ef='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ya=Ue.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(at.inlineSvg?Ef+" ":"")+"Leaflet</a>"},initialize:function(e){P(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),an(this._container);for(var n in e._layers)e._layers[n].getAttribution&&this.addAttribution(e._layers[n].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var n in this._attributions)this._attributions[n]&&e.push(n);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});Nt.mergeOptions({attributionControl:!0}),Nt.addInitHook(function(){this.options.attributionControl&&new ya().addTo(this)});var Cf=function(e){return new ya(e)};Ue.Layers=Wo,Ue.Zoom=va,Ue.Scale=jo,Ue.Attribution=ya,on.layers=Pf,on.zoom=Sf,on.scale=bf,on.attribution=Cf;var Xe=It.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xe.addTo=function(e,n){return e.addHandler(n,this),this};var Af={Events:Pt},Vo=at.touch?"touchstart mousedown":"mousedown",Ci=Lt.extend({options:{clickTolerance:3},initialize:function(e,n,o,f){P(this,f),this._element=e,this._dragStartTarget=n||e,this._preventOutline=o},enable:function(){this._enabled||(Mt(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ci._dragging===this&&this.finishDrag(!0),jt(this._dragStartTarget,Vo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ra(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Ci._dragging===this&&this.finishDrag();return}if(!(Ci._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Ci._dragging=this,this._preventOutline&&fa(this._element),ha(),sn(),!this._moving)){this.fire("down");var n=e.touches?e.touches[0]:e,o=Fo(this._element);this._startPoint=new b(n.clientX,n.clientY),this._startPos=Ki(this._element),this._parentScale=ca(o);var f=e.type==="mousedown";Mt(document,f?"mousemove":"touchmove",this._onMove,this),Mt(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var n=e.touches&&e.touches.length===1?e.touches[0]:e,o=new b(n.clientX,n.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,ue(e),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),re(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ee(document.body,"leaflet-dragging"),this._lastTarget&&(ee(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jt(document,"mousemove touchmove",this._onMove,this),jt(document,"mouseup touchend touchcancel",this._onUp,this),la(),nn();var n=this._moved&&this._moving;this._moving=!1,Ci._dragging=!1,n&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Ko(e,n,o){var f,d=[1,4,2,8],v,x,E,I,Z,it,dt,Et;for(v=0,it=e.length;v<it;v++)e[v]._code=Qi(e[v],n);for(E=0;E<4;E++){for(dt=d[E],f=[],v=0,it=e.length,x=it-1;v<it;x=v++)I=e[v],Z=e[x],I._code&dt?Z._code&dt||(Et=ar(Z,I,dt,n,o),Et._code=Qi(Et,n),f.push(Et)):(Z._code&dt&&(Et=ar(Z,I,dt,n,o),Et._code=Qi(Et,n),f.push(Et)),f.push(I));e=f}return e}function Jo(e,n){var o,f,d,v,x,E,I,Z,it;if(!e||e.length===0)throw new Error("latlngs not passed");Be(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var dt=st([0,0]),Et=J(e),Me=Et.getNorthWest().distanceTo(Et.getSouthWest())*Et.getNorthEast().distanceTo(Et.getNorthWest());Me<1700&&(dt=Ma(e));var he=e.length,Fe=[];for(o=0;o<he;o++){var Ae=st(e[o]);Fe.push(n.project(st([Ae.lat-dt.lat,Ae.lng-dt.lng])))}for(E=I=Z=0,o=0,f=he-1;o<he;f=o++)d=Fe[o],v=Fe[f],x=d.y*v.x-v.y*d.x,I+=(d.x+v.x)*x,Z+=(d.y+v.y)*x,E+=x*3;E===0?it=Fe[0]:it=[I/E,Z/E];var Cs=n.unproject(G(it));return st([Cs.lat+dt.lat,Cs.lng+dt.lng])}function Ma(e){for(var n=0,o=0,f=0,d=0;d<e.length;d++){var v=st(e[d]);n+=v.lat,o+=v.lng,f++}return st([n/f,o/f])}var Lf={__proto__:null,clipPolygon:Ko,polygonCenter:Jo,centroid:Ma};function Xo(e,n){if(!n||!e.length)return e.slice();var o=n*n;return e=Gf(e,o),e=If(e,o),e}function Qo(e,n,o){return Math.sqrt(hn(e,n,o,!0))}function Tf(e,n,o){return hn(e,n,o)}function If(e,n){var o=e.length,f=typeof Uint8Array<"u"?Uint8Array:Array,d=new f(o);d[0]=d[o-1]=1,wa(e,d,n,0,o-1);var v,x=[];for(v=0;v<o;v++)d[v]&&x.push(e[v]);return x}function wa(e,n,o,f,d){var v=0,x,E,I;for(E=f+1;E<=d-1;E++)I=hn(e[E],e[f],e[d],!0),I>v&&(x=E,v=I);v>o&&(n[x]=1,wa(e,n,o,f,x),wa(e,n,o,x,d))}function Gf(e,n){for(var o=[e[0]],f=1,d=0,v=e.length;f<v;f++)Nf(e[f],e[d])>n&&(o.push(e[f]),d=f);return d<v-1&&o.push(e[v-1]),o}var Yo;function th(e,n,o,f,d){var v=f?Yo:Qi(e,o),x=Qi(n,o),E,I,Z;for(Yo=x;;){if(!(v|x))return[e,n];if(v&x)return!1;E=v||x,I=ar(e,n,E,o,d),Z=Qi(I,o),E===v?(e=I,v=Z):(n=I,x=Z)}}function ar(e,n,o,f,d){var v=n.x-e.x,x=n.y-e.y,E=f.min,I=f.max,Z,it;return o&8?(Z=e.x+v*(I.y-e.y)/x,it=I.y):o&4?(Z=e.x+v*(E.y-e.y)/x,it=E.y):o&2?(Z=I.x,it=e.y+x*(I.x-e.x)/v):o&1&&(Z=E.x,it=e.y+x*(E.x-e.x)/v),new b(Z,it,d)}function Qi(e,n){var o=0;return e.x<n.min.x?o|=1:e.x>n.max.x&&(o|=2),e.y<n.min.y?o|=4:e.y>n.max.y&&(o|=8),o}function Nf(e,n){var o=n.x-e.x,f=n.y-e.y;return o*o+f*f}function hn(e,n,o,f){var d=n.x,v=n.y,x=o.x-d,E=o.y-v,I=x*x+E*E,Z;return I>0&&(Z=((e.x-d)*x+(e.y-v)*E)/I,Z>1?(d=o.x,v=o.y):Z>0&&(d+=x*Z,v+=E*Z)),x=e.x-d,E=e.y-v,f?x*x+E*E:new b(d,v)}function Be(e){return!V(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function eh(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Be(e)}function ih(e,n){var o,f,d,v,x,E,I,Z;if(!e||e.length===0)throw new Error("latlngs not passed");Be(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var it=st([0,0]),dt=J(e),Et=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());Et<1700&&(it=Ma(e));var Me=e.length,he=[];for(o=0;o<Me;o++){var Fe=st(e[o]);he.push(n.project(st([Fe.lat-it.lat,Fe.lng-it.lng])))}for(o=0,f=0;o<Me-1;o++)f+=he[o].distanceTo(he[o+1])/2;if(f===0)Z=he[0];else for(o=0,v=0;o<Me-1;o++)if(x=he[o],E=he[o+1],d=x.distanceTo(E),v+=d,v>f){I=(v-f)/d,Z=[E.x-I*(E.x-x.x),E.y-I*(E.y-x.y)];break}var Ae=n.unproject(G(Z));return st([Ae.lat+it.lat,Ae.lng+it.lng])}var Of={__proto__:null,simplify:Xo,pointToSegmentDistance:Qo,closestPointOnSegment:Tf,clipSegment:th,_getEdgeIntersection:ar,_getBitCode:Qi,_sqClosestPointOnSegment:hn,isFlat:Be,_flat:eh,polylineCenter:ih},xa={project:function(e){return new b(e.lng,e.lat)},unproject:function(e){return new rt(e.y,e.x)},bounds:new z([-180,-90],[180,90])},Pa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var n=Math.PI/180,o=this.R,f=e.lat*n,d=this.R_MINOR/o,v=Math.sqrt(1-d*d),x=v*Math.sin(f),E=Math.tan(Math.PI/4-f/2)/Math.pow((1-x)/(1+x),v/2);return f=-o*Math.log(Math.max(E,1e-10)),new b(e.lng*n*o,f)},unproject:function(e){for(var n=180/Math.PI,o=this.R,f=this.R_MINOR/o,d=Math.sqrt(1-f*f),v=Math.exp(-e.y/o),x=Math.PI/2-2*Math.atan(v),E=0,I=.1,Z;E<15&&Math.abs(I)>1e-7;E++)Z=d*Math.sin(x),Z=Math.pow((1-Z)/(1+Z),d/2),I=Math.PI/2-2*Math.atan(v*Z)-x,x+=I;return new rt(x*n,e.x*n/o)}},Rf={__proto__:null,LonLat:xa,Mercator:Pa,SphericalMercator:gt},kf=a({},yt,{code:"EPSG:3395",projection:Pa,transformation:function(){var e=.5/(Math.PI*Pa.R);return y(e,.5,-e,.5)}()}),sh=a({},yt,{code:"EPSG:4326",projection:xa,transformation:y(1/180,1,-1/180,.5)}),Df=a({},ot,{projection:xa,transformation:y(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,n){var o=n.lng-e.lng,f=n.lat-e.lat;return Math.sqrt(o*o+f*f)},infinite:!0});ot.Earth=yt,ot.EPSG3395=kf,ot.EPSG3857=w,ot.EPSG900913=C,ot.EPSG4326=sh,ot.Simple=Df;var He=Lt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[c(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[c(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var n=e.target;if(n.hasLayer(this)){if(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents){var o=this.getEvents();n.on(o,this),this.once("remove",function(){n.off(o,this)},this)}this.onAdd(n),this.fire("add"),n.fire("layeradd",{layer:this})}}});Nt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var n=c(e);return this._layers[n]?this:(this._layers[n]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var n=c(e);return this._layers[n]?(this._loaded&&e.onRemove(this),delete this._layers[n],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return c(e)in this._layers},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},_addLayers:function(e){e=e?V(e)?e:[e]:[];for(var n=0,o=e.length;n<o;n++)this.addLayer(e[n])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[c(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var n=c(e);this._zoomBoundLayers[n]&&(delete this._zoomBoundLayers[n],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,n=-1/0,o=this._getZoomSpan();for(var f in this._zoomBoundLayers){var d=this._zoomBoundLayers[f].options;e=d.minZoom===void 0?e:Math.min(e,d.minZoom),n=d.maxZoom===void 0?n:Math.max(n,d.maxZoom)}this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xs=He.extend({initialize:function(e,n){P(this,n),this._layers={};var o,f;if(e)for(o=0,f=e.length;o<f;o++)this.addLayer(e[o])},addLayer:function(e){var n=this.getLayerId(e);return this._layers[n]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var n=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[n]&&this._map.removeLayer(this._layers[n]),delete this._layers[n],this},hasLayer:function(e){var n=typeof e=="number"?e:this.getLayerId(e);return n in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var n=Array.prototype.slice.call(arguments,1),o,f;for(o in this._layers)f=this._layers[o],f[e]&&f[e].apply(f,n);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,n){for(var o in this._layers)e.call(n,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return c(e)}}),zf=function(e,n){return new xs(e,n)},hi=xs.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),xs.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),xs.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new R;for(var n in this._layers){var o=this._layers[n];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),Bf=function(e,n){return new hi(e,n)},Ps=It.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){P(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,n){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(o,n&&n.tagName==="IMG"?n:null);return this._setIconStyles(f,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(e,n){var o=this.options,f=o[n+"Size"];typeof f=="number"&&(f=[f,f]);var d=G(f),v=G(n==="shadow"&&o.shadowAnchor||o.iconAnchor||d&&d.divideBy(2,!0));e.className="leaflet-marker-"+n+" "+(o.className||""),v&&(e.style.marginLeft=-v.x+"px",e.style.marginTop=-v.y+"px"),d&&(e.style.width=d.x+"px",e.style.height=d.y+"px")},_createImg:function(e,n){return n=n||document.createElement("img"),n.src=e,n},_getIconUrl:function(e){return at.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Ff(e){return new Ps(e)}var ln=Ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof ln.imagePath!="string"&&(ln.imagePath=this._detectIconPath()),(this.options.imagePath||ln.imagePath)+Ps.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var n=function(o,f,d){var v=f.exec(o);return v&&v[d]};return e=n(e,/^url\((['"])?(.+)\1\)$/,2),e&&n(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Ot("div","leaflet-default-icon-path",document.body),n=en(e,"background-image")||en(e,"backgroundImage");if(document.body.removeChild(e),n=this._stripUrl(n),n)return n;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),nh=Xe.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Ci(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ee(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var n=this._marker,o=n._map,f=this._marker.options.autoPanSpeed,d=this._marker.options.autoPanPadding,v=Ki(n._icon),x=o.getPixelBounds(),E=o.getPixelOrigin(),I=T(x.min._subtract(E).add(d),x.max._subtract(E).subtract(d));if(!I.contains(v)){var Z=G((Math.max(I.max.x,v.x)-I.max.x)/(x.max.x-I.max.x)-(Math.min(I.min.x,v.x)-I.min.x)/(x.min.x-I.min.x),(Math.max(I.max.y,v.y)-I.max.y)/(x.max.y-I.max.y)-(Math.min(I.min.y,v.y)-I.min.y)/(x.min.y-I.min.y)).multiplyBy(f);o.panBy(Z,{animate:!1}),this._draggable._newPos._add(Z),this._draggable._startPos._add(Z),re(n._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ft(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(X(this._panRequest),this._panRequest=ft(this._adjustPan.bind(this,e)))},_onDrag:function(e){var n=this._marker,o=n._shadow,f=Ki(n._icon),d=n._map.layerPointToLatLng(f);o&&re(o,f),n._latlng=d,e.latlng=d,e.oldLatLng=this._oldLatLng,n.fire("move",e).fire("drag",e)},_onDragEnd:function(e){X(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),or=He.extend({options:{icon:new ln,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,n){P(this,n),this._latlng=st(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var n=this._latlng;return this._latlng=st(e),this.update(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),f=!1;o!==this._icon&&(this._icon&&this._removeIcon(),f=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),xt(o,n),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mt(o,"focus",this._panOnFocus,this);var d=e.icon.createShadow(this._shadow),v=!1;d!==this._shadow&&(this._removeShadow(),v=!0),d&&(xt(d,n),d.alt=""),this._shadow=d,e.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),d&&v&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jt(this._icon,"focus",this._panOnFocus,this),Xt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Xt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&re(this._icon,e),this._shadow&&re(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(n)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nh)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nh(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ze(this._icon,e),this._shadow&&ze(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var n=this.options.icon.options,o=n.iconSize?G(n.iconSize):G(0,0),f=n.iconAnchor?G(n.iconAnchor):G(0,0);e.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:o.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Zf(e,n){return new or(e,n)}var Ai=He.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return P(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hr=Ai.extend({options:{fill:!0,radius:10},initialize:function(e,n){P(this,n),this._latlng=st(e),this._radius=this.options.radius},setLatLng:function(e){var n=this._latlng;return this._latlng=st(e),this.redraw(),this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var n=e&&e.radius||this._radius;return Ai.prototype.setStyle.call(this,e),this.setRadius(n),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,n=this._radiusY||e,o=this._clickTolerance(),f=[e+o,n+o];this._pxBounds=new z(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function qf(e,n){return new hr(e,n)}var Sa=hr.extend({initialize:function(e,n,o){if(typeof n=="number"&&(n=a({},o,{radius:n})),P(this,n),this._latlng=st(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new R(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Ai.prototype.setStyle,_project:function(){var e=this._latlng.lng,n=this._latlng.lat,o=this._map,f=o.options.crs;if(f.distance===yt.distance){var d=Math.PI/180,v=this._mRadius/yt.R/d,x=o.project([n+v,e]),E=o.project([n-v,e]),I=x.add(E).divideBy(2),Z=o.unproject(I).lat,it=Math.acos((Math.cos(v*d)-Math.sin(n*d)*Math.sin(Z*d))/(Math.cos(n*d)*Math.cos(Z*d)))/d;(isNaN(it)||it===0)&&(it=v/Math.cos(Math.PI/180*n)),this._point=I.subtract(o.getPixelOrigin()),this._radius=isNaN(it)?0:I.x-o.project([Z,e-it]).x,this._radiusY=I.y-x.y}else{var dt=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(dt).x}this._updateBounds()}});function Uf(e,n,o){return new Sa(e,n,o)}var li=Ai.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,n){P(this,n),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var n=1/0,o=null,f=hn,d,v,x=0,E=this._parts.length;x<E;x++)for(var I=this._parts[x],Z=1,it=I.length;Z<it;Z++){d=I[Z-1],v=I[Z];var dt=f(e,d,v,!0);dt<n&&(n=dt,o=f(e,d,v))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ih(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,n){return n=n||this._defaultShape(),e=st(e),n.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new R,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Be(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var n=[],o=Be(e),f=0,d=e.length;f<d;f++)o?(n[f]=st(e[f]),this._bounds.extend(n[f])):n[f]=this._convertLatLngs(e[f]);return n},_project:function(){var e=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),n=new b(e,e);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(n),this._rawPxBounds.max.add(n)]))},_projectLatlngs:function(e,n,o){var f=e[0]instanceof rt,d=e.length,v,x;if(f){for(x=[],v=0;v<d;v++)x[v]=this._map.latLngToLayerPoint(e[v]),o.extend(x[v]);n.push(x)}else for(v=0;v<d;v++)this._projectLatlngs(e[v],n,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var n=this._parts,o,f,d,v,x,E,I;for(o=0,d=0,v=this._rings.length;o<v;o++)for(I=this._rings[o],f=0,x=I.length;f<x-1;f++)E=th(I[f],I[f+1],e,f,!0),E&&(n[d]=n[d]||[],n[d].push(E[0]),(E[1]!==I[f+1]||f===x-2)&&(n[d].push(E[1]),d++))}},_simplifyPoints:function(){for(var e=this._parts,n=this.options.smoothFactor,o=0,f=e.length;o<f;o++)e[o]=Xo(e[o],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,n){var o,f,d,v,x,E,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,v=this._parts.length;o<v;o++)for(E=this._parts[o],f=0,x=E.length,d=x-1;f<x;d=f++)if(!(!n&&f===0)&&Qo(e,E[d],E[f])<=I)return!0;return!1}});function Hf(e,n){return new li(e,n)}li._flat=eh;var Ss=li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Jo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var n=li.prototype._convertLatLngs.call(this,e),o=n.length;return o>=2&&n[0]instanceof rt&&n[0].equals(n[o-1])&&n.pop(),n},_setLatLngs:function(e){li.prototype._setLatLngs.call(this,e),Be(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Be(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,n=this.options.weight,o=new b(n,n);if(e=new z(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,d=this._rings.length,v;f<d;f++)v=Ko(this._rings[f],e,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var n=!1,o,f,d,v,x,E,I,Z;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(v=0,I=this._parts.length;v<I;v++)for(o=this._parts[v],x=0,Z=o.length,E=Z-1;x<Z;E=x++)f=o[x],d=o[E],f.y>e.y!=d.y>e.y&&e.x<(d.x-f.x)*(e.y-f.y)/(d.y-f.y)+f.x&&(n=!n);return n||li.prototype._containsPoint.call(this,e,!0)}});function $f(e,n){return new Ss(e,n)}var ui=hi.extend({initialize:function(e,n){P(this,n),this._layers={},e&&this.addData(e)},addData:function(e){var n=V(e)?e:e.features,o,f,d;if(n){for(o=0,f=n.length;o<f;o++)d=n[o],(d.geometries||d.geometry||d.features||d.coordinates)&&this.addData(d);return this}var v=this.options;if(v.filter&&!v.filter(e))return this;var x=lr(e,v);return x?(x.feature=cr(e),x.defaultOptions=x.options,this.resetStyle(x),v.onEachFeature&&v.onEachFeature(e,x),this.addLayer(x)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=a({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(n){this._setLayerStyle(n,e)},this)},_setLayerStyle:function(e,n){e.setStyle&&(typeof n=="function"&&(n=n(e.feature)),e.setStyle(n))}});function lr(e,n){var o=e.type==="Feature"?e.geometry:e,f=o?o.coordinates:null,d=[],v=n&&n.pointToLayer,x=n&&n.coordsToLatLng||ba,E,I,Z,it;if(!f&&!o)return null;switch(o.type){case"Point":return E=x(f),rh(v,e,E,n);case"MultiPoint":for(Z=0,it=f.length;Z<it;Z++)E=x(f[Z]),d.push(rh(v,e,E,n));return new hi(d);case"LineString":case"MultiLineString":return I=ur(f,o.type==="LineString"?0:1,x),new li(I,n);case"Polygon":case"MultiPolygon":return I=ur(f,o.type==="Polygon"?1:2,x),new Ss(I,n);case"GeometryCollection":for(Z=0,it=o.geometries.length;Z<it;Z++){var dt=lr({geometry:o.geometries[Z],type:"Feature",properties:e.properties},n);dt&&d.push(dt)}return new hi(d);case"FeatureCollection":for(Z=0,it=o.features.length;Z<it;Z++){var Et=lr(o.features[Z],n);Et&&d.push(Et)}return new hi(d);default:throw new Error("Invalid GeoJSON object.")}}function rh(e,n,o,f){return e?e(n,o):new or(o,f&&f.markersInheritOptions&&f)}function ba(e){return new rt(e[1],e[0],e[2])}function ur(e,n,o){for(var f=[],d=0,v=e.length,x;d<v;d++)x=n?ur(e[d],n-1,o):(o||ba)(e[d]),f.push(x);return f}function Ea(e,n){return e=st(e),e.alt!==void 0?[p(e.lng,n),p(e.lat,n),p(e.alt,n)]:[p(e.lng,n),p(e.lat,n)]}function fr(e,n,o,f){for(var d=[],v=0,x=e.length;v<x;v++)d.push(n?fr(e[v],Be(e[v])?0:n-1,o,f):Ea(e[v],f));return!n&&o&&d.length>0&&d.push(d[0].slice()),d}function bs(e,n){return e.feature?a({},e.feature,{geometry:n}):cr(n)}function cr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Ca={toGeoJSON:function(e){return bs(this,{type:"Point",coordinates:Ea(this.getLatLng(),e)})}};or.include(Ca),Sa.include(Ca),hr.include(Ca),li.include({toGeoJSON:function(e){var n=!Be(this._latlngs),o=fr(this._latlngs,n?1:0,!1,e);return bs(this,{type:(n?"Multi":"")+"LineString",coordinates:o})}}),Ss.include({toGeoJSON:function(e){var n=!Be(this._latlngs),o=n&&!Be(this._latlngs[0]),f=fr(this._latlngs,o?2:n?1:0,!0,e);return n||(f=[f]),bs(this,{type:(o?"Multi":"")+"Polygon",coordinates:f})}}),xs.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(o){n.push(o.toGeoJSON(e).geometry.coordinates)}),bs(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(n==="MultiPoint")return this.toMultiPoint(e);var o=n==="GeometryCollection",f=[];return this.eachLayer(function(d){if(d.toGeoJSON){var v=d.toGeoJSON(e);if(o)f.push(v.geometry);else{var x=cr(v);x.type==="FeatureCollection"?f.push.apply(f,x.features):f.push(x)}}}),o?bs(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function ah(e,n){return new ui(e,n)}var Wf=ah,dr=He.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,n,o){this._url=e,this._bounds=J(n),P(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Xt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Ms(this._image),this},bringToBack:function(){return this._map&&ws(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=J(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",n=this._image=e?this._url:Ot("img");if(xt(n,"leaflet-image-layer"),this._zoomAnimated&&xt(n,"leaflet-zoom-animated"),this.options.className&&xt(n,this.options.className),n.onselectstart=m,n.onmousemove=m,n.onload=l(this.fire,this,"load"),n.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=n.src;return}n.src=this._url,n.alt=this.options.alt},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Vi(this._image,o,n)},_reset:function(){var e=this._image,n=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=n.getSize();re(e,n.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),jf=function(e,n,o){return new dr(e,n,o)},oh=dr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",n=this._image=e?this._url:Ot("video");if(xt(n,"leaflet-image-layer"),this._zoomAnimated&&xt(n,"leaflet-zoom-animated"),this.options.className&&xt(n,this.options.className),n.onselectstart=m,n.onmousemove=m,n.onloadeddata=l(this.fire,this,"load"),e){for(var o=n.getElementsByTagName("source"),f=[],d=0;d<o.length;d++)f.push(o[d].src);this._url=o.length>0?f:[n.src];return}V(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(n.style,"objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,n.muted=!!this.options.muted,n.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var x=Ot("source");x.src=this._url[v],n.appendChild(x)}}});function Vf(e,n,o){return new oh(e,n,o)}var hh=dr.extend({_initImage:function(){var e=this._image=this._url;xt(e,"leaflet-image-layer"),this._zoomAnimated&&xt(e,"leaflet-zoom-animated"),this.options.className&&xt(e,this.options.className),e.onselectstart=m,e.onmousemove=m}});function Kf(e,n,o){return new hh(e,n,o)}var Qe=He.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,n){e&&(e instanceof rt||V(e))?(this._latlng=st(e),P(this,n)):(P(this,e),this._source=n),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(l(Xt,void 0,this._container),200)):Xt(this._container),this.options.interactive&&(ee(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=st(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ms(this._container),this},bringToBack:function(){return this._map&&ws(this._container),this},_prepareOpen:function(e){var n=this._source;if(!n._map)return!1;if(n instanceof hi){n=null;var o=this._source._layers;for(var f in o)if(o[f]._map){n=o[f];break}if(!n)return!1;this._source=n}if(!e)if(n.getCenter)e=n.getCenter();else if(n.getLatLng)e=n.getLatLng();else if(n.getBounds)e=n.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,n=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof n=="string")e.innerHTML=n;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),n=G(this.options.offset),o=this._getAnchor();this._zoomAnimated?re(this._container,e.add(o)):n=n.add(e).add(o);var f=this._containerBottom=-n.y,d=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=f+"px",this._container.style.left=d+"px"}},_getAnchor:function(){return[0,0]}});Nt.include({_initOverlay:function(e,n,o,f){var d=n;return d instanceof e||(d=new e(f).setContent(n)),o&&d.setLatLng(o),d}}),He.include({_initOverlay:function(e,n,o,f){var d=o;return d instanceof e?(P(d,f),d._source=this):(d=n&&!f?n:new e(f,this),d.setContent(o)),d}});var _r=Qe.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Qe.prototype.openOn.call(this,e)},onAdd:function(e){Qe.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ai||this._source.on("preclick",Ji))},onRemove:function(e){Qe.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ai||this._source.off("preclick",Ji))},getEvents:function(){var e=Qe.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",n=this._container=Ot("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=Ot("div",e+"-content-wrapper",n);if(this._contentNode=Ot("div",e+"-content",o),an(n),pa(this._contentNode),Mt(n,"contextmenu",Ji),this._tipContainer=Ot("div",e+"-tip-container",n),this._tip=Ot("div",e+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Ot("a",e+"-close-button",n);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',Mt(f,"click",function(d){ue(d),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,n=e.style;n.width="",n.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),n.width=o+1+"px",n.whiteSpace="",n.height="";var f=e.offsetHeight,d=this.options.maxHeight,v="leaflet-popup-scrolled";d&&f>d?(n.height=d+"px",xt(e,v)):ee(e,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();re(this._container,n.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,n=parseInt(en(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+n,f=this._containerWidth,d=new b(this._containerLeft,-o-this._containerBottom);d._add(Ki(this._container));var v=e.layerPointToContainerPoint(d),x=G(this.options.autoPanPadding),E=G(this.options.autoPanPaddingTopLeft||x),I=G(this.options.autoPanPaddingBottomRight||x),Z=e.getSize(),it=0,dt=0;v.x+f+I.x>Z.x&&(it=v.x+f-Z.x+I.x),v.x-it-E.x<0&&(it=v.x-E.x),v.y+o+I.y>Z.y&&(dt=v.y+o-Z.y+I.y),v.y-dt-E.y<0&&(dt=v.y-E.y),(it||dt)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([it,dt]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jf=function(e,n){return new _r(e,n)};Nt.mergeOptions({closePopupOnClick:!0}),Nt.include({openPopup:function(e,n,o){return this._initOverlay(_r,e,n,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),He.include({bindPopup:function(e,n){return this._popup=this._initOverlay(_r,this._popup,e,n),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof hi||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){Xi(e);var n=e.layer||e.target;if(this._popup._source===n&&!(n instanceof Ai)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=n,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var mr=Qe.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Qe.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Qe.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Qe.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",n=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ot("div",n),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var n,o,f=this._map,d=this._container,v=f.latLngToContainerPoint(f.getCenter()),x=f.layerPointToContainerPoint(e),E=this.options.direction,I=d.offsetWidth,Z=d.offsetHeight,it=G(this.options.offset),dt=this._getAnchor();E==="top"?(n=I/2,o=Z):E==="bottom"?(n=I/2,o=0):E==="center"?(n=I/2,o=Z/2):E==="right"?(n=0,o=Z/2):E==="left"?(n=I,o=Z/2):x.x<v.x?(E="right",n=0,o=Z/2):(E="left",n=I+(it.x+dt.x)*2,o=Z/2),e=e.subtract(G(n,o,!0)).add(it).add(dt),ee(d,"leaflet-tooltip-right"),ee(d,"leaflet-tooltip-left"),ee(d,"leaflet-tooltip-top"),ee(d,"leaflet-tooltip-bottom"),xt(d,"leaflet-tooltip-"+E),re(d,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ze(this._container,e)},_animateZoom:function(e){var n=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(n)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xf=function(e,n){return new mr(e,n)};Nt.include({openTooltip:function(e,n,o){return this._initOverlay(mr,e,n,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),He.include({bindTooltip:function(e,n){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(mr,this._tooltip,e,n),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var n=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[n](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof hi||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&(Mt(n,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),Mt(n,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var n=typeof e.getElement=="function"&&e.getElement();n&&n.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var n=this;this._map.once("moveend",function(){n._openOnceFlag=!1,n._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var n=e.latlng,o,f;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),f=this._map.containerPointToLayerPoint(o),n=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(n)}});var lh=Ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var n=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(er(n),n.appendChild(o.html)):n.innerHTML=o.html!==!1?o.html:"",o.bgPos){var f=G(o.bgPos);n.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(n,"icon"),n},createShadow:function(){return null}});function Qf(e){return new lh(e)}Ps.Default=ln;var un=He.extend({options:{tileSize:256,opacity:1,updateWhenIdle:at.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){P(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Xt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ms(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ws(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof b?e:new b(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var n=this.getPane().children,o=-e(-1/0,1/0),f=0,d=n.length,v;f<d;f++)v=n[f].style.zIndex,n[f]!==this._container&&v&&(o=e(o,+v));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!at.ielt9){ze(this._container,this.options.opacity);var e=+new Date,n=!1,o=!1;for(var f in this._tiles){var d=this._tiles[f];if(!(!d.current||!d.loaded)){var v=Math.min(1,(e-d.loaded)/200);ze(d.el,v),v<1?n=!0:(d.active?o=!0:this._onOpaqueTile(d),d.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),n&&(X(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,n=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=n-Math.abs(e-o),this._onUpdateLevel(o)):(Xt(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var f=this._levels[e],d=this._map;return f||(f=this._levels[e]={},f.el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=n,f.origin=d.project(d.unproject(d.getPixelOrigin()),e).round(),f.zoom=e,this._setZoomTransform(f,d.getCenter(),d.getZoom()),m(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var e,n,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)n=this._tiles[e],n.retain=n.current;for(e in this._tiles)if(n=this._tiles[e],n.current&&!n.active){var f=n.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var n in this._tiles)this._tiles[n].coords.z===e&&this._removeTile(n)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Xt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,n,o,f){var d=Math.floor(e/2),v=Math.floor(n/2),x=o-1,E=new b(+d,+v);E.z=+x;var I=this._tileCoordsToKey(E),Z=this._tiles[I];return Z&&Z.active?(Z.retain=!0,!0):(Z&&Z.loaded&&(Z.retain=!0),x>f?this._retainParent(d,v,x,f):!1)},_retainChildren:function(e,n,o,f){for(var d=2*e;d<2*e+2;d++)for(var v=2*n;v<2*n+2;v++){var x=new b(d,v);x.z=o+1;var E=this._tileCoordsToKey(x),I=this._tiles[E];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);o+1<f&&this._retainChildren(d,v,o+1,f)}},_resetView:function(e){var n=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),n,n)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var n=this.options;return n.minNativeZoom!==void 0&&e<n.minNativeZoom?n.minNativeZoom:n.maxNativeZoom!==void 0&&n.maxNativeZoom<e?n.maxNativeZoom:e},_setView:function(e,n,o,f){var d=Math.round(n);this.options.maxZoom!==void 0&&d>this.options.maxZoom||this.options.minZoom!==void 0&&d<this.options.minZoom?d=void 0:d=this._clampZoom(d);var v=this.options.updateWhenZooming&&d!==this._tileZoom;(!f||v)&&(this._tileZoom=d,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),d!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,n)},_setZoomTransforms:function(e,n){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,n)},_setZoomTransform:function(e,n,o){var f=this._map.getZoomScale(o,e.zoom),d=e.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(n,o)).round();at.any3d?Vi(e.el,d,f):re(e.el,d)},_resetGrid:function(){var e=this._map,n=e.options.crs,o=this._tileSize=this.getTileSize(),f=this._tileZoom,d=this._map.getPixelWorldBounds(this._tileZoom);d&&(this._globalTileRange=this._pxBoundsToTileRange(d)),this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,n.wrapLng[0]],f).x/o.x),Math.ceil(e.project([0,n.wrapLng[1]],f).x/o.y)],this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([n.wrapLat[0],0],f).y/o.x),Math.ceil(e.project([n.wrapLat[1],0],f).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var n=this._map,o=n._animatingZoom?Math.max(n._animateToZoom,n.getZoom()):n.getZoom(),f=n.getZoomScale(o,this._tileZoom),d=n.project(e,this._tileZoom).floor(),v=n.getSize().divideBy(f*2);return new z(d.subtract(v),d.add(v))},_update:function(e){var n=this._map;if(n){var o=this._clampZoom(n.getZoom());if(e===void 0&&(e=n.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(e),d=this._pxBoundsToTileRange(f),v=d.getCenter(),x=[],E=this.options.keepBuffer,I=new z(d.getBottomLeft().subtract([E,-E]),d.getTopRight().add([E,-E]));if(!(isFinite(d.min.x)&&isFinite(d.min.y)&&isFinite(d.max.x)&&isFinite(d.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Z in this._tiles){var it=this._tiles[Z].coords;(it.z!==this._tileZoom||!I.contains(new b(it.x,it.y)))&&(this._tiles[Z].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var dt=d.min.y;dt<=d.max.y;dt++)for(var Et=d.min.x;Et<=d.max.x;Et++){var Me=new b(Et,dt);if(Me.z=this._tileZoom,!!this._isValidTile(Me)){var he=this._tiles[this._tileCoordsToKey(Me)];he?he.current=!0:x.push(Me)}}if(x.sort(function(Ae,Cs){return Ae.distanceTo(v)-Cs.distanceTo(v)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Fe=document.createDocumentFragment();for(Et=0;Et<x.length;Et++)this._addTile(x[Et],Fe);this._level.el.appendChild(Fe)}}}},_isValidTile:function(e){var n=this._map.options.crs;if(!n.infinite){var o=this._globalTileRange;if(!n.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!n.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(e);return J(this.options.bounds).overlaps(f)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var n=this._map,o=this.getTileSize(),f=e.scaleBy(o),d=f.add(o),v=n.unproject(f,e.z),x=n.unproject(d,e.z);return[v,x]},_tileCoordsToBounds:function(e){var n=this._tileCoordsToNwSe(e),o=new R(n[0],n[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var n=e.split(":"),o=new b(+n[0],+n[1]);return o.z=+n[2],o},_removeTile:function(e){var n=this._tiles[e];n&&(Xt(n.el),delete this._tiles[e],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){xt(e,"leaflet-tile");var n=this.getTileSize();e.style.width=n.x+"px",e.style.height=n.y+"px",e.onselectstart=m,e.onmousemove=m,at.ielt9&&this.options.opacity<1&&ze(e,this.options.opacity)},_addTile:function(e,n){var o=this._getTilePos(e),f=this._tileCoordsToKey(e),d=this.createTile(this._wrapCoords(e),l(this._tileReady,this,e));this._initTile(d),this.createTile.length<2&&ft(l(this._tileReady,this,e,null,d)),re(d,o),this._tiles[f]={el:d,coords:e,current:!0},n.appendChild(d),this.fire("tileloadstart",{tile:d,coords:e})},_tileReady:function(e,n,o){n&&this.fire("tileerror",{error:n,tile:o,coords:e});var f=this._tileCoordsToKey(e);o=this._tiles[f],o&&(o.loaded=+new Date,this._map._fadeAnimated?(ze(o.el,0),X(this._fadeFrame),this._fadeFrame=ft(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),n||(xt(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),at.ielt9||!this._map._fadeAnimated?ft(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var n=new b(this._wrapX?g(e.x,this._wrapX):e.x,this._wrapY?g(e.y,this._wrapY):e.y);return n.z=e.z,n},_pxBoundsToTileRange:function(e){var n=this.getTileSize();return new z(e.min.unscaleBy(n).floor(),e.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Yf(e){return new un(e)}var Es=un.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,n){this._url=e,n=P(this,n),n.detectRetina&&at.retina&&n.maxZoom>0?(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom=Math.min(n.maxZoom,n.minZoom+1)):(n.zoomOffset++,n.maxZoom=Math.max(n.minZoom,n.maxZoom-1)),n.minZoom=Math.max(0,n.minZoom)):n.zoomReverse?n.minZoom=Math.min(n.maxZoom,n.minZoom):n.maxZoom=Math.max(n.minZoom,n.maxZoom),typeof n.subdomains=="string"&&(n.subdomains=n.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,n){return this._url===e&&n===void 0&&(n=!0),this._url=e,n||this.redraw(),this},createTile:function(e,n){var o=document.createElement("img");return Mt(o,"load",l(this._tileOnLoad,this,n,o)),Mt(o,"error",l(this._tileOnError,this,n,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var n={r:at.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=o),n["-y"]=o}return j(this._url,a(n,this.options))},_tileOnLoad:function(e,n){at.ielt9?setTimeout(l(e,this,null,n),0):e(null,n)},_tileOnError:function(e,n,o){var f=this.options.errorTileUrl;f&&n.getAttribute("src")!==f&&(n.src=f),e(o,n)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,n=this.options.maxZoom,o=this.options.zoomReverse,f=this.options.zoomOffset;return o&&(e=n-e),e+f},_getSubdomain:function(e){var n=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[n]},_abortLoading:function(){var e,n;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(n=this._tiles[e].el,n.onload=m,n.onerror=m,!n.complete)){n.src=lt;var o=this._tiles[e].coords;Xt(n),delete this._tiles[e],this.fire("tileabort",{tile:n,coords:o})}},_removeTile:function(e){var n=this._tiles[e];if(n)return n.el.setAttribute("src",lt),un.prototype._removeTile.call(this,e)},_tileReady:function(e,n,o){if(!(!this._map||o&&o.getAttribute("src")===lt))return un.prototype._tileReady.call(this,e,n,o)}});function uh(e,n){return new Es(e,n)}var fh=Es.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var o=a({},this.defaultWmsParams);for(var f in n)f in this.options||(o[f]=n[f]);n=P(this,n);var d=n.detectRetina&&at.retina?2:1,v=this.getTileSize();o.width=v.x*d,o.height=v.y*d,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var n=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[n]=this._crs.code,Es.prototype.onAdd.call(this,e)},getTileUrl:function(e){var n=this._tileCoordsToNwSe(e),o=this._crs,f=T(o.project(n[0]),o.project(n[1])),d=f.min,v=f.max,x=(this._wmsVersion>=1.3&&this._crs===sh?[d.y,d.x,v.y,v.x]:[d.x,d.y,v.x,v.y]).join(","),E=Es.prototype.getTileUrl.call(this,e);return E+A(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(e,n){return a(this.wmsParams,e),n||this.redraw(),this}});function tc(e,n){return new fh(e,n)}Es.WMS=fh,uh.wms=tc;var fi=He.extend({options:{padding:.1},initialize:function(e){P(this,e),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,n){var o=this._map.getZoomScale(n,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),d=this._map.project(this._center,n),v=f.multiplyBy(-o).add(d).subtract(this._map._getNewPixelOrigin(e,n));at.any3d?Vi(this._container,v,o):re(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-e)).round();this._bounds=new z(o,o.add(n.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ch=fi.extend({options:{tolerance:0},getEvents:function(){var e=fi.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Mt(e,"mousemove",this._onMouseMove,this),Mt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Mt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){X(this._redrawRequest),delete this._ctx,Xt(this._container),jt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var n in this._layers)e=this._layers[n],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fi.prototype._update.call(this);var e=this._bounds,n=this._container,o=e.getSize(),f=at.retina?2:1;re(n,e.min),n.width=f*o.x,n.height=f*o.y,n.style.width=o.x+"px",n.style.height=o.y+"px",at.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){fi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[c(e)]=e;var n=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=n),this._drawLast=n,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var n=e._order,o=n.next,f=n.prev;o?o.prev=f:this._drawLast=f,f?f.next=o:this._drawFirst=o,delete e._order,delete this._layers[c(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var n=e.options.dashArray.split(/[, ]+/),o=[],f,d;for(d=0;d<n.length;d++){if(f=Number(n[d]),isNaN(f))return;o.push(f)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ft(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var n=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(e._pxBounds.min.subtract([n,n])),this._redrawBounds.extend(e._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var n=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,n.x,n.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,n=this._redrawBounds;if(this._ctx.save(),n){var o=n.getSize();this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)e=f.layer,(!n||e._pxBounds&&e._pxBounds.intersects(n))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,n){if(this._drawing){var o,f,d,v,x=e._parts,E=x.length,I=this._ctx;if(E){for(I.beginPath(),o=0;o<E;o++){for(f=0,d=x[o].length;f<d;f++)v=x[o][f],I[f?"lineTo":"moveTo"](v.x,v.y);n&&I.closePath()}this._fillStroke(I,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var n=e._point,o=this._ctx,f=Math.max(Math.round(e._radius),1),d=(Math.max(Math.round(e._radiusY),1)||f)/f;d!==1&&(o.save(),o.scale(1,d)),o.beginPath(),o.arc(n.x,n.y/d,f,0,Math.PI*2,!1),d!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,n){var o=n.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(n.options&&n.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var n=this._map.mouseEventToLayerPoint(e),o,f,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(n)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(f=o);this._fireEvent(f?[f]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var n=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,n)}},_handleMouseOut:function(e){var n=this._hoveredLayer;n&&(ee(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,n){if(!this._mouseHoverThrottled){for(var o,f,d=this._drawFirst;d;d=d.next)o=d.layer,o.options.interactive&&o._containsPoint(n)&&(f=o);f!==this._hoveredLayer&&(this._handleMouseOut(e),f&&(xt(this._container,"leaflet-interactive"),this._fireEvent([f],e,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,n,o){this._map._fireDOMEvent(n,o||n.type,e)},_bringToFront:function(e){var n=e._order;if(n){var o=n.next,f=n.prev;if(o)o.prev=f;else return;f?f.next=o:o&&(this._drawFirst=o),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(e)}},_bringToBack:function(e){var n=e._order;if(n){var o=n.next,f=n.prev;if(f)f.next=o;else return;o?o.prev=f:f&&(this._drawLast=f),n.prev=null,n.next=this._drawFirst,this._drawFirst.prev=n,this._drawFirst=n,this._requestRedraw(e)}}});function dh(e){return at.canvas?new ch(e):null}var fn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ec={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fi.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var n=e._container=fn("shape");xt(n,"leaflet-vml-shape "+(this.options.className||"")),n.coordsize="1 1",e._path=fn("path"),n.appendChild(e._path),this._updateStyle(e),this._layers[c(e)]=e},_addPath:function(e){var n=e._container;this._container.appendChild(n),e.options.interactive&&e.addInteractiveTarget(n)},_removePath:function(e){var n=e._container;Xt(n),e.removeInteractiveTarget(n),delete this._layers[c(e)]},_updateStyle:function(e){var n=e._stroke,o=e._fill,f=e.options,d=e._container;d.stroked=!!f.stroke,d.filled=!!f.fill,f.stroke?(n||(n=e._stroke=fn("stroke")),d.appendChild(n),n.weight=f.weight+"px",n.color=f.color,n.opacity=f.opacity,f.dashArray?n.dashStyle=V(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):n.dashStyle="",n.endcap=f.lineCap.replace("butt","flat"),n.joinstyle=f.lineJoin):n&&(d.removeChild(n),e._stroke=null),f.fill?(o||(o=e._fill=fn("fill")),d.appendChild(o),o.color=f.fillColor||f.color,o.opacity=f.fillOpacity):o&&(d.removeChild(o),e._fill=null)},_updateCircle:function(e){var n=e._point.round(),o=Math.round(e._radius),f=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+n.x+","+n.y+" "+o+","+f+" 0,"+65535*360)},_setPath:function(e,n){e._path.v=n},_bringToFront:function(e){Ms(e._container)},_bringToBack:function(e){ws(e._container)}},pr=at.vml?fn:D,cn=fi.extend({_initContainer:function(){this._container=pr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=pr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Xt(this._container),jt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fi.prototype._update.call(this);var e=this._bounds,n=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(n))&&(this._svgSize=n,o.setAttribute("width",n.x),o.setAttribute("height",n.y)),re(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,n.x,n.y].join(" ")),this.fire("update")}},_initPath:function(e){var n=e._path=pr("path");e.options.className&&xt(n,e.options.className),e.options.interactive&&xt(n,"leaflet-interactive"),this._updateStyle(e),this._layers[c(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Xt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[c(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var n=e._path,o=e.options;n&&(o.stroke?(n.setAttribute("stroke",o.color),n.setAttribute("stroke-opacity",o.opacity),n.setAttribute("stroke-width",o.weight),n.setAttribute("stroke-linecap",o.lineCap),n.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?n.setAttribute("stroke-dasharray",o.dashArray):n.removeAttribute("stroke-dasharray"),o.dashOffset?n.setAttribute("stroke-dashoffset",o.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),o.fill?(n.setAttribute("fill",o.fillColor||o.color),n.setAttribute("fill-opacity",o.fillOpacity),n.setAttribute("fill-rule",o.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(e,n){this._setPath(e,O(e._parts,n))},_updateCircle:function(e){var n=e._point,o=Math.max(Math.round(e._radius),1),f=Math.max(Math.round(e._radiusY),1)||o,d="a"+o+","+f+" 0 1,0 ",v=e._empty()?"M0 0":"M"+(n.x-o)+","+n.y+d+o*2+",0 "+d+-o*2+",0 ";this._setPath(e,v)},_setPath:function(e,n){e._path.setAttribute("d",n)},_bringToFront:function(e){Ms(e._path)},_bringToBack:function(e){ws(e._path)}});at.vml&&cn.include(ec);function _h(e){return at.svg||at.vml?new cn(e):null}Nt.include({getRenderer:function(e){var n=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return n||(n=this._renderer=this._createRenderer()),this.hasLayer(n)||this.addLayer(n),n},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var n=this._paneRenderers[e];return n===void 0&&(n=this._createRenderer({pane:e}),this._paneRenderers[e]=n),n},_createRenderer:function(e){return this.options.preferCanvas&&dh(e)||_h(e)}});var mh=Ss.extend({initialize:function(e,n){Ss.prototype.initialize.call(this,this._boundsToLatLngs(e),n)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=J(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function ic(e,n){return new mh(e,n)}cn.create=pr,cn.pointsToPath=O,ui.geometryToLayer=lr,ui.coordsToLatLng=ba,ui.coordsToLatLngs=ur,ui.latLngToCoords=Ea,ui.latLngsToCoords=fr,ui.getFeature=bs,ui.asFeature=cr,Nt.mergeOptions({boxZoom:!0});var ph=Xe.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Xt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),sn(),ha(),this._startPoint=this._map.mouseEventToContainerPoint(e),Mt(document,{contextmenu:Xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var n=new z(this._point,this._startPoint),o=n.getSize();re(this._box,n.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(Xt(this._box),ee(this._container,"leaflet-crosshair")),nn(),la(),jt(document,{contextmenu:Xi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var n=new R(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(n).fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Nt.addInitHook("addHandler","boxZoom",ph),Nt.mergeOptions({doubleClickZoom:!0});var gh=Xe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var n=this._map,o=n.getZoom(),f=n.options.zoomDelta,d=e.originalEvent.shiftKey?o-f:o+f;n.options.doubleClickZoom==="center"?n.setZoom(d):n.setZoomAround(e.containerPoint,d)}});Nt.addInitHook("addHandler","doubleClickZoom",gh),Nt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vh=Xe.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Ci(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ee(this._map._container,"leaflet-grab"),ee(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=J(this._map.options.maxBounds);this._offsetLimit=T(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var n=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(n),this._prunePositions(n)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),n=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=n.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,n){return e-(e-n)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;e.x<n.min.x&&(e.x=this._viscousLimit(e.x,n.min.x)),e.y<n.min.y&&(e.y=this._viscousLimit(e.y,n.min.y)),e.x>n.max.x&&(e.x=this._viscousLimit(e.x,n.max.x)),e.y>n.max.y&&(e.y=this._viscousLimit(e.y,n.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,n=Math.round(e/2),o=this._initialWorldOffset,f=this._draggable._newPos.x,d=(f-n+o)%e+n-o,v=(f+n+o)%e-n-o,x=Math.abs(d+o)<Math.abs(v+o)?d:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(e){var n=this._map,o=n.options,f=!o.inertia||e.noInertia||this._times.length<2;if(n.fire("dragend",e),f)n.fire("moveend");else{this._prunePositions(+new Date);var d=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,x=o.easeLinearity,E=d.multiplyBy(x/v),I=E.distanceTo([0,0]),Z=Math.min(o.inertiaMaxSpeed,I),it=E.multiplyBy(Z/I),dt=Z/(o.inertiaDeceleration*x),Et=it.multiplyBy(-dt/2).round();!Et.x&&!Et.y?n.fire("moveend"):(Et=n._limitOffset(Et,n.options.maxBounds),ft(function(){n.panBy(Et,{duration:dt,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});Nt.addInitHook("addHandler","dragging",vh),Nt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var yh=Xe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Mt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,n=document.documentElement,o=e.scrollTop||n.scrollTop,f=e.scrollLeft||n.scrollLeft;this._map._container.focus(),window.scrollTo(f,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var n=this._panKeys={},o=this.keyCodes,f,d;for(f=0,d=o.left.length;f<d;f++)n[o.left[f]]=[-1*e,0];for(f=0,d=o.right.length;f<d;f++)n[o.right[f]]=[e,0];for(f=0,d=o.down.length;f<d;f++)n[o.down[f]]=[0,e];for(f=0,d=o.up.length;f<d;f++)n[o.up[f]]=[0,-1*e]},_setZoomDelta:function(e){var n=this._zoomKeys={},o=this.keyCodes,f,d;for(f=0,d=o.zoomIn.length;f<d;f++)n[o.zoomIn[f]]=e;for(f=0,d=o.zoomOut.length;f<d;f++)n[o.zoomOut[f]]=-e},_addHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=e.keyCode,o=this._map,f;if(n in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(f=this._panKeys[n],e.shiftKey&&(f=G(f).multiplyBy(3)),o.options.maxBounds&&(f=o._limitOffset(G(f),o.options.maxBounds)),o.options.worldCopyJump){var d=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(f)));o.panTo(d)}else o.panBy(f)}else if(n in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else if(n===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Xi(e)}}});Nt.addInitHook("addHandler","keyboard",yh),Nt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Mh=Xe.extend({addHooks:function(){Mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var n=Ho(e),o=this._map.options.wheelDebounceTime;this._delta+=n,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var f=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),f),Xi(e)},_performZoom:function(){var e=this._map,n=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),d=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,v=o?Math.ceil(d/o)*o:d,x=e._limitZoom(n+(this._delta>0?v:-v))-n;this._delta=0,this._startTime=null,x&&(e.options.scrollWheelZoom==="center"?e.setZoom(n+x):e.setZoomAround(this._lastMousePos,n+x))}});Nt.addInitHook("addHandler","scrollWheelZoom",Mh);var sc=600;Nt.mergeOptions({tapHold:at.touchNative&&at.safari&&at.mobile,tapTolerance:15});var wh=Xe.extend({addHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var n=e.touches[0];this._startPos=this._newPos=new b(n.clientX,n.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Mt(document,"touchend",ue),Mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",n))},this),sc),Mt(document,"touchend touchcancel contextmenu",this._cancel,this),Mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){jt(document,"touchend",ue),jt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),jt(document,"touchend touchcancel contextmenu",this._cancel,this),jt(document,"touchmove",this._onMove,this)},_onMove:function(e){var n=e.touches[0];this._newPos=new b(n.clientX,n.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,n){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY});o._simulated=!0,n.target.dispatchEvent(o)}});Nt.addInitHook("addHandler","tapHold",wh),Nt.mergeOptions({touchZoom:at.touch,bounceAtZoomLimits:!0});var xh=Xe.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ee(this._map._container,"leaflet-touch-zoom"),jt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var n=this._map;if(!(!e.touches||e.touches.length!==2||n._animatingZoom||this._zooming)){var o=n.mouseEventToContainerPoint(e.touches[0]),f=n.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=n.getSize()._divideBy(2),this._startLatLng=n.containerPointToLatLng(this._centerPoint),n.options.touchZoom!=="center"&&(this._pinchStartLatLng=n.containerPointToLatLng(o.add(f)._divideBy(2))),this._startDist=o.distanceTo(f),this._startZoom=n.getZoom(),this._moved=!1,this._zooming=!0,n._stop(),Mt(document,"touchmove",this._onTouchMove,this),Mt(document,"touchend touchcancel",this._onTouchEnd,this),ue(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var n=this._map,o=n.mouseEventToContainerPoint(e.touches[0]),f=n.mouseEventToContainerPoint(e.touches[1]),d=o.distanceTo(f)/this._startDist;if(this._zoom=n.getScaleZoom(d,this._startZoom),!n.options.bounceAtZoomLimits&&(this._zoom<n.getMinZoom()&&d<1||this._zoom>n.getMaxZoom()&&d>1)&&(this._zoom=n._limitZoom(this._zoom)),n.options.touchZoom==="center"){if(this._center=this._startLatLng,d===1)return}else{var v=o._add(f)._divideBy(2)._subtract(this._centerPoint);if(d===1&&v.x===0&&v.y===0)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0),X(this._animRequest);var x=l(n._move,n,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ft(x,this,!0),ue(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,X(this._animRequest),jt(document,"touchmove",this._onTouchMove,this),jt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Nt.addInitHook("addHandler","touchZoom",xh),Nt.BoxZoom=ph,Nt.DoubleClickZoom=gh,Nt.Drag=vh,Nt.Keyboard=yh,Nt.ScrollWheelZoom=Mh,Nt.TapHold=wh,Nt.TouchZoom=xh,s.Bounds=z,s.Browser=at,s.CRS=ot,s.Canvas=ch,s.Circle=Sa,s.CircleMarker=hr,s.Class=It,s.Control=Ue,s.DivIcon=lh,s.DivOverlay=Qe,s.DomEvent=wf,s.DomUtil=yf,s.Draggable=Ci,s.Evented=Lt,s.FeatureGroup=hi,s.GeoJSON=ui,s.GridLayer=un,s.Handler=Xe,s.Icon=Ps,s.ImageOverlay=dr,s.LatLng=rt,s.LatLngBounds=R,s.Layer=He,s.LayerGroup=xs,s.LineUtil=Of,s.Map=Nt,s.Marker=or,s.Mixin=Af,s.Path=Ai,s.Point=b,s.PolyUtil=Lf,s.Polygon=Ss,s.Polyline=li,s.Popup=_r,s.PosAnimation=$o,s.Projection=Rf,s.Rectangle=mh,s.Renderer=fi,s.SVG=cn,s.SVGOverlay=hh,s.TileLayer=Es,s.Tooltip=mr,s.Transformation=At,s.Util=Ct,s.VideoOverlay=oh,s.bind=l,s.bounds=T,s.canvas=dh,s.circle=Uf,s.circleMarker=qf,s.control=on,s.divIcon=Qf,s.extend=a,s.featureGroup=Bf,s.geoJSON=ah,s.geoJson=Wf,s.gridLayer=Yf,s.icon=Ff,s.imageOverlay=jf,s.latLng=st,s.latLngBounds=J,s.layerGroup=zf,s.map=xf,s.marker=Zf,s.point=G,s.polygon=$f,s.polyline=Hf,s.popup=Jf,s.rectangle=ic,s.setOptions=P,s.stamp=c,s.svg=_h,s.svgOverlay=Kf,s.tileLayer=uh,s.tooltip=Xf,s.transformation=y,s.version=r,s.videoOverlay=Vf;var nc=window.L;s.noConflict=function(){return window.L=nc,this},window.L=s})})(so,so.exports);var w0=so.exports;const _e=M0(w0),x0=(t,i)=>{const s=t.__vccOpts||t;for(const[r,a]of i)s[r]=a;return s},P0={__name:"MapBase",emits:["map-ready"],setup(t,{emit:i}){const s=ki(null),r=i;let a=null;return qi(()=>{a=_e.map(s.value).setView([10.3369959599,-68.272687215],12),r("map-ready",a)}),Wn(()=>{a&&a.remove()}),(h,l)=>(Zt(),Yt("div",{ref_key:"mapContainer",ref:s,class:"w-full h-full min-h-[400px]"},null,512))}},S0=x0(P0,[["__scopeId","data-v-323c1f17"]]),b0={__name:"MapLayers",props:{map:{type:Object,required:!0}},emits:["suelo-ready"],setup(t,{emit:i}){const s=t,r=i,{map:a}=Xr(s);return qi(()=>{if(!a.value)return;const h=_e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),l=_e.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),u=_e.tileLayer.wms("http://geoserver.gira360.com:8080/geoserver/canoabo/wms",{layers:"canoabo:pg_perimetro",format:"image/png",transparent:!0,version:"1.1.0",attribution:"GeoServer Gira360"}),c=_e.tileLayer.wms("http://geoserver.gira360.com:8080/geoserver/canoabo/wms",{layers:"canoabo:pg_rios_ur",format:"image/png",transparent:!0,version:"1.1.0",attribution:"GeoServer Gira360"}),_=_e.tileLayer.wms("http://geoserver.gira360.com:8080/geoserver/canoabo/wms",{layers:"canoabo:pg_embalse_ur",format:"image/png",transparent:!0,version:"1.1.0",attribution:"GeoServer Gira360"}),g=_e.tileLayer.wms("http://geoserver.gira360.com:8080/geoserver/canoabo/wms",{layers:"canoabo:pg_Suelo8_ur",format:"image/png",transparent:!0,version:"1.1.0",attribution:"GeoServer Gira360"});l.addTo(a.value),u.addTo(a.value);const m={OpenStreetMap:h,"Esri Satelital":l},p={"Permetro Canoabo":u,Ros:c,Embalse:_,Suelo:g};_e.control.layers(m,p,{collapsed:!0}).addTo(a.value),r("suelo-ready",g)}),()=>{}}},E0={__name:"MapPopupSuelo",props:{map:{type:Object,required:!0},sueloLayer:{type:Object,required:!0}},setup(t){const i=t,{map:s,sueloLayer:r}=Xr(i);function a(h,l,u,c={}){const _=h.latLngToContainerPoint(u,h.getZoom()),g=h.getSize(),p={...{request:"GetFeatureInfo",service:"WMS",srs:"EPSG:4326",styles:"",transparent:!0,version:"1.1.0",format:"image/png",bbox:h.getBounds().toBBoxString(),height:g.y,width:g.x,layers:"canoabo:pg_Suelo8_ur",query_layers:"canoabo:pg_Suelo8_ur",info_format:"application/json",x:Math.floor(_.x),y:Math.floor(_.y)},...c};return l._url+_e.Util.getParamString(p,l._url,!0)}return qi(()=>{!s.value||!r.value||s.value.on("click",function(h){if(s.value.hasLayer(r.value)){const l=a(s.value,r.value,h.latlng,{info_format:"application/json",propertyName:""});fetch(l).then(u=>{if(!u.ok)throw new Error("No JSON");return u.json()}).then(u=>{if(u.features&&u.features.length>0){const c=u.features[0].properties;let _="<b>Atributos de Suelo:</b><ul>";for(const g in c)_+=`<li><b>${g}:</b> ${c[g]}</li>`;_+="</ul>",_e.popup().setLatLng(h.latlng).setContent(_).openOn(s.value)}else _e.popup().setLatLng(h.latlng).setContent("No hay datos en este punto.").openOn(s.value)}).catch(()=>{const u=a(s.value,r.value,h.latlng,{info_format:"text/html",propertyName:""});fetch(u).then(c=>{if(!c.ok)throw new Error("No HTML");return c.text()}).then(c=>{_e.popup().setLatLng(h.latlng).setContent(c).openOn(s.value)}).catch(()=>{_e.popup().setLatLng(h.latlng).setContent("Error consultando atributos.").openOn(s.value)})})}})}),()=>{}}},C0={__name:"MapScale",props:{map:{type:Object,required:!0}},setup(t){const i=t,{map:s}=Xr(i);let r=null;return qi(()=>{s.value&&(r=_e.control.scale({position:"bottomleft",metric:!0,imperial:!1}),r.addTo(s.value))}),Wn(()=>{r&&s.value&&r.remove()}),()=>{}}};function A0(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var i=1;i<=60;++i)t("EPSG:"+(32600+i),"+proj=utm +zone="+i+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+i),"+proj=utm +zone="+i+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var fs=1,cs=2,Fs=3,L0=4,no=5,ll=6378137,T0=6356752314e-3,ul=.0066943799901413165,An=484813681109536e-20,W=Math.PI/2,I0=.16666666666666666,G0=.04722222222222222,N0=.022156084656084655,tt=1e-10,Ht=.017453292519943295,ii=57.29577951308232,Dt=Math.PI/4,Zn=Math.PI*2,fe=3.14159265359,ve={};ve.greenwich=0;ve.lisbon=-9.131906111111;ve.paris=2.337229166667;ve.bogota=-74.080916666667;ve.madrid=-3.687938888889;ve.rome=12.452333333333;ve.bern=7.439583333333;ve.jakarta=106.807719444444;ve.ferro=-17.666666666667;ve.brussels=4.367975;ve.stockholm=18.058277777778;ve.athens=23.7163375;ve.oslo=10.722916666667;const O0={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.1},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}};var fl=/[\s_\-\/\(\)]/g;function Bi(t,i){if(t[i])return t[i];for(var s=Object.keys(t),r=i.toLowerCase().replace(fl,""),a=-1,h,l;++a<s.length;)if(h=s[a],l=h.toLowerCase().replace(fl,""),l===r)return t[h]}function ro(t){var i={},s=t.split("+").map(function(u){return u.trim()}).filter(function(u){return u}).reduce(function(u,c){var _=c.split("=");return _.push(!0),u[_[0].toLowerCase()]=_[1],u},{}),r,a,h,l={proj:"projName",datum:"datumCode",rf:function(u){i.rf=parseFloat(u)},lat_0:function(u){i.lat0=u*Ht},lat_1:function(u){i.lat1=u*Ht},lat_2:function(u){i.lat2=u*Ht},lat_ts:function(u){i.lat_ts=u*Ht},lon_0:function(u){i.long0=u*Ht},lon_1:function(u){i.long1=u*Ht},lon_2:function(u){i.long2=u*Ht},alpha:function(u){i.alpha=parseFloat(u)*Ht},gamma:function(u){i.rectified_grid_angle=parseFloat(u)*Ht},lonc:function(u){i.longc=u*Ht},x_0:function(u){i.x0=parseFloat(u)},y_0:function(u){i.y0=parseFloat(u)},k_0:function(u){i.k0=parseFloat(u)},k:function(u){i.k0=parseFloat(u)},a:function(u){i.a=parseFloat(u)},b:function(u){i.b=parseFloat(u)},r:function(u){i.a=i.b=parseFloat(u)},r_a:function(){i.R_A=!0},zone:function(u){i.zone=parseInt(u,10)},south:function(){i.utmSouth=!0},towgs84:function(u){i.datum_params=u.split(",").map(function(c){return parseFloat(c)})},to_meter:function(u){i.to_meter=parseFloat(u)},units:function(u){i.units=u;var c=Bi(O0,u);c&&(i.to_meter=c.to_meter)},from_greenwich:function(u){i.from_greenwich=u*Ht},pm:function(u){var c=Bi(ve,u);i.from_greenwich=(c||parseFloat(u))*Ht},nadgrids:function(u){u==="@null"?i.datumCode="none":i.nadgrids=u},axis:function(u){var c="ewnsud";u.length===3&&c.indexOf(u.substr(0,1))!==-1&&c.indexOf(u.substr(1,1))!==-1&&c.indexOf(u.substr(2,1))!==-1&&(i.axis=u)},approx:function(){i.approx=!0}};for(r in s)a=s[r],r in l?(h=l[r],typeof h=="function"?h(a):i[h]=a):i[r]=a;return typeof i.datumCode=="string"&&i.datumCode!=="WGS84"&&(i.datumCode=i.datumCode.toLowerCase()),i}class Fu{static getId(i){const s=i.find(r=>Array.isArray(r)&&r[0]==="ID");return s&&s.length>=3?{authority:s[1],code:parseInt(s[2],10)}:null}static convertUnit(i,s="unit"){if(!i||i.length<3)return{type:s,name:"unknown",conversion_factor:null};const r=i[1],a=parseFloat(i[2])||null,h=i.find(u=>Array.isArray(u)&&u[0]==="ID"),l=h?{authority:h[1],code:parseInt(h[2],10)}:null;return{type:s,name:r,conversion_factor:a,id:l}}static convertAxis(i){const s=i[1]||"Unknown";let r;const a=s.match(/^\((.)\)$/);if(a){const _=a[1].toUpperCase();if(_==="E")r="east";else if(_==="N")r="north";else if(_==="U")r="up";else throw new Error(`Unknown axis abbreviation: ${_}`)}else r=i[2]?i[2].toLowerCase():"unknown";const h=i.find(_=>Array.isArray(_)&&_[0]==="ORDER"),l=h?parseInt(h[1],10):null,u=i.find(_=>Array.isArray(_)&&(_[0]==="LENGTHUNIT"||_[0]==="ANGLEUNIT"||_[0]==="SCALEUNIT")),c=this.convertUnit(u);return{name:s,direction:r,unit:c,order:l}}static extractAxes(i){return i.filter(s=>Array.isArray(s)&&s[0]==="AXIS").map(s=>this.convertAxis(s)).sort((s,r)=>(s.order||0)-(r.order||0))}static convert(i,s={}){switch(i[0]){case"PROJCRS":s.type="ProjectedCRS",s.name=i[1],s.base_crs=i.find(p=>Array.isArray(p)&&p[0]==="BASEGEOGCRS")?this.convert(i.find(p=>Array.isArray(p)&&p[0]==="BASEGEOGCRS")):null,s.conversion=i.find(p=>Array.isArray(p)&&p[0]==="CONVERSION")?this.convert(i.find(p=>Array.isArray(p)&&p[0]==="CONVERSION")):null;const r=i.find(p=>Array.isArray(p)&&p[0]==="CS");r&&(s.coordinate_system={type:r[1],axis:this.extractAxes(i)});const a=i.find(p=>Array.isArray(p)&&p[0]==="LENGTHUNIT");if(a){const p=this.convertUnit(a);s.coordinate_system.unit=p}s.id=this.getId(i);break;case"BASEGEOGCRS":case"GEOGCRS":s.type="GeographicCRS",s.name=i[1];const h=i.find(p=>Array.isArray(p)&&(p[0]==="DATUM"||p[0]==="ENSEMBLE"));if(h){const p=this.convert(h);h[0]==="ENSEMBLE"?s.datum_ensemble=p:s.datum=p;const M=i.find(S=>Array.isArray(S)&&S[0]==="PRIMEM");M&&M[1]!=="Greenwich"&&(p.prime_meridian={name:M[1],longitude:parseFloat(M[2])})}s.coordinate_system={type:"ellipsoidal",axis:this.extractAxes(i)},s.id=this.getId(i);break;case"DATUM":s.type="GeodeticReferenceFrame",s.name=i[1],s.ellipsoid=i.find(p=>Array.isArray(p)&&p[0]==="ELLIPSOID")?this.convert(i.find(p=>Array.isArray(p)&&p[0]==="ELLIPSOID")):null;break;case"ENSEMBLE":s.type="DatumEnsemble",s.name=i[1],s.members=i.filter(p=>Array.isArray(p)&&p[0]==="MEMBER").map(p=>({type:"DatumEnsembleMember",name:p[1],id:this.getId(p)}));const l=i.find(p=>Array.isArray(p)&&p[0]==="ENSEMBLEACCURACY");l&&(s.accuracy=parseFloat(l[1]));const u=i.find(p=>Array.isArray(p)&&p[0]==="ELLIPSOID");u&&(s.ellipsoid=this.convert(u)),s.id=this.getId(i);break;case"ELLIPSOID":s.type="Ellipsoid",s.name=i[1],s.semi_major_axis=parseFloat(i[2]),s.inverse_flattening=parseFloat(i[3]),i.find(p=>Array.isArray(p)&&p[0]==="LENGTHUNIT")&&this.convert(i.find(p=>Array.isArray(p)&&p[0]==="LENGTHUNIT"),s);break;case"CONVERSION":s.type="Conversion",s.name=i[1],s.method=i.find(p=>Array.isArray(p)&&p[0]==="METHOD")?this.convert(i.find(p=>Array.isArray(p)&&p[0]==="METHOD")):null,s.parameters=i.filter(p=>Array.isArray(p)&&p[0]==="PARAMETER").map(p=>this.convert(p));break;case"METHOD":s.type="Method",s.name=i[1],s.id=this.getId(i);break;case"PARAMETER":s.type="Parameter",s.name=i[1],s.value=parseFloat(i[2]),s.unit=this.convertUnit(i.find(p=>Array.isArray(p)&&(p[0]==="LENGTHUNIT"||p[0]==="ANGLEUNIT"||p[0]==="SCALEUNIT"))),s.id=this.getId(i);break;case"BOUNDCRS":s.type="BoundCRS";const c=i.find(p=>Array.isArray(p)&&p[0]==="SOURCECRS");if(c){const p=c.find(M=>Array.isArray(M));s.source_crs=p?this.convert(p):null}const _=i.find(p=>Array.isArray(p)&&p[0]==="TARGETCRS");if(_){const p=_.find(M=>Array.isArray(M));s.target_crs=p?this.convert(p):null}const g=i.find(p=>Array.isArray(p)&&p[0]==="ABRIDGEDTRANSFORMATION");g?s.transformation=this.convert(g):s.transformation=null;break;case"ABRIDGEDTRANSFORMATION":if(s.type="Transformation",s.name=i[1],s.method=i.find(p=>Array.isArray(p)&&p[0]==="METHOD")?this.convert(i.find(p=>Array.isArray(p)&&p[0]==="METHOD")):null,s.parameters=i.filter(p=>Array.isArray(p)&&(p[0]==="PARAMETER"||p[0]==="PARAMETERFILE")).map(p=>{if(p[0]==="PARAMETER")return this.convert(p);if(p[0]==="PARAMETERFILE")return{name:p[1],value:p[2],id:{authority:"EPSG",code:8656}}}),s.parameters.length===7){const p=s.parameters[6];p.name==="Scale difference"&&(p.value=Math.round((p.value-1)*1e12)/1e6)}s.id=this.getId(i);break;case"AXIS":s.coordinate_system||(s.coordinate_system={type:"unspecified",axis:[]}),s.coordinate_system.axis.push(this.convertAxis(i));break;case"LENGTHUNIT":const m=this.convertUnit(i,"LinearUnit");s.coordinate_system&&s.coordinate_system.axis&&s.coordinate_system.axis.forEach(p=>{p.unit||(p.unit=m)}),m.conversion_factor&&m.conversion_factor!==1&&s.semi_major_axis&&(s.semi_major_axis={value:s.semi_major_axis,unit:m});break;default:s.keyword=i[0];break}return s}}class R0 extends Fu{static convert(i,s={}){return super.convert(i,s),s.coordinate_system&&s.coordinate_system.subtype==="Cartesian"&&delete s.coordinate_system,s.usage&&delete s.usage,s}}class k0 extends Fu{static convert(i,s={}){super.convert(i,s);const r=i.find(h=>Array.isArray(h)&&h[0]==="CS");r&&(s.coordinate_system={subtype:r[1],axis:this.extractAxes(i)});const a=i.find(h=>Array.isArray(h)&&h[0]==="USAGE");if(a){const h=a.find(c=>Array.isArray(c)&&c[0]==="SCOPE"),l=a.find(c=>Array.isArray(c)&&c[0]==="AREA"),u=a.find(c=>Array.isArray(c)&&c[0]==="BBOX");s.usage={},h&&(s.usage.scope=h[1]),l&&(s.usage.area=l[1]),u&&(s.usage.bbox=u.slice(1))}return s}}function D0(t){return t.find(i=>Array.isArray(i)&&i[0]==="USAGE")?"2019":(t.find(i=>Array.isArray(i)&&i[0]==="CS")||t[0]==="BOUNDCRS"||t[0]==="PROJCRS"||t[0]==="GEOGCRS","2015")}function z0(t){return(D0(t)==="2019"?k0:R0).convert(t)}function B0(t){const i=t.toUpperCase();return i.includes("PROJCRS")||i.includes("GEOGCRS")||i.includes("BOUNDCRS")||i.includes("VERTCRS")||i.includes("LENGTHUNIT")||i.includes("ANGLEUNIT")||i.includes("SCALEUNIT")?"WKT2":(i.includes("PROJCS")||i.includes("GEOGCS")||i.includes("LOCAL_CS")||i.includes("VERT_CS")||i.includes("UNIT"),"WKT1")}var qn=1,Zu=2,qu=3,Br=4,Uu=5,Lo=-1,F0=/\s/,Z0=/[A-Za-z]/,q0=/[A-Za-z84_]/,sa=/[,\]]/,Hu=/[\d\.E\-\+]/;function xi(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=qn}xi.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==Br)for(;F0.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case qn:return this.neutral(t);case Zu:return this.keyword(t);case Br:return this.quoted(t);case Uu:return this.afterquote(t);case qu:return this.number(t);case Lo:return}};xi.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=Br;return}if(sa.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in afterquote yet, index '+this.place)};xi.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=qn;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=qn,this.currentObject=this.stack.pop(),this.currentObject||(this.state=Lo);return}};xi.prototype.number=function(t){if(Hu.test(t)){this.word+=t;return}if(sa.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in number yet, index '+this.place)};xi.prototype.quoted=function(t){if(t==='"'){this.state=Uu;return}this.word+=t};xi.prototype.keyword=function(t){if(q0.test(t)){this.word+=t;return}if(t==="["){var i=[];i.push(this.word),this.level++,this.root===null?this.root=i:this.currentObject.push(i),this.stack.push(this.currentObject),this.currentObject=i,this.state=qn;return}if(sa.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in keyword yet, index '+this.place)};xi.prototype.neutral=function(t){if(Z0.test(t)){this.word=t,this.state=Zu;return}if(t==='"'){this.word="",this.state=Br;return}if(Hu.test(t)){this.word=t,this.state=qu;return}if(sa.test(t)){this.afterItem(t);return}throw new Error(`havn't handled "`+t+'" in neutral yet, index '+this.place)};xi.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===Lo)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function U0(t){var i=new xi(t);return i.output()}function qa(t,i,s){Array.isArray(i)&&(s.unshift(i),i=null);var r=i?{}:t,a=s.reduce(function(h,l){return Is(l,h),h},r);i&&(t[i]=a)}function Is(t,i){if(!Array.isArray(t)){i[t]=!0;return}var s=t.shift();if(s==="PARAMETER"&&(s=t.shift()),t.length===1){if(Array.isArray(t[0])){i[s]={},Is(t[0],i[s]);return}i[s]=t[0];return}if(!t.length){i[s]=!0;return}if(s==="TOWGS84"){i[s]=t;return}if(s==="AXIS"){s in i||(i[s]=[]),i[s].push(t);return}Array.isArray(s)||(i[s]={});var r;switch(s){case"UNIT":case"PRIMEM":case"VERT_DATUM":i[s]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&Is(t[2],i[s]);return;case"SPHEROID":case"ELLIPSOID":i[s]={name:t[0],a:t[1],rf:t[2]},t.length===4&&Is(t[3],i[s]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],qa(i,s,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],qa(i,s,t),i[s].type=s;return;default:for(r=-1;++r<t.length;)if(!Array.isArray(t[r]))return Is(t,i[s]);return qa(i,s,t)}}var H0=.017453292519943295;function $e(t){return t*H0}function $u(t){const i=(t.projName||"").toLowerCase().replace(/_/g," ");!t.long0&&t.longc&&(i==="albers conic equal area"||i==="lambert azimuthal equal area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(i==="stereographic south pole"||i==="polar stereographic (variant b)")?(t.lat0=$e(t.lat1>0?90:-90),t.lat_ts=t.lat1,delete t.lat1):!t.lat_ts&&t.lat0&&(i==="polar stereographic"||i==="polar stereographic (variant a)")&&(t.lat_ts=t.lat0,t.lat0=$e(t.lat0>0?90:-90),delete t.lat1)}function cl(t){let i={units:null,to_meter:void 0};return typeof t=="string"?(i.units=t.toLowerCase(),i.units==="metre"&&(i.units="meter"),i.units==="meter"&&(i.to_meter=1)):t&&t.name&&(i.units=t.name.toLowerCase(),i.units==="metre"&&(i.units="meter"),i.to_meter=t.conversion_factor),i}function dl(t){return typeof t=="object"?t.value*t.unit.conversion_factor:t}function _l(t,i){t.ellipsoid.radius?(i.a=t.ellipsoid.radius,i.rf=0):(i.a=dl(t.ellipsoid.semi_major_axis),t.ellipsoid.inverse_flattening!==void 0?i.rf=t.ellipsoid.inverse_flattening:t.ellipsoid.semi_major_axis!==void 0&&t.ellipsoid.semi_minor_axis!==void 0&&(i.rf=i.a/(i.a-dl(t.ellipsoid.semi_minor_axis))))}function Fr(t,i={}){return!t||typeof t!="object"?t:t.type==="BoundCRS"?(Fr(t.source_crs,i),t.transformation&&(t.transformation.method&&t.transformation.method.name==="NTv2"?i.nadgrids=t.transformation.parameters[0].value:i.datum_params=t.transformation.parameters.map(s=>s.value)),i):(Object.keys(t).forEach(s=>{const r=t[s];if(r!==null)switch(s){case"name":if(i.srsCode)break;i.name=r,i.srsCode=r;break;case"type":r==="GeographicCRS"?i.projName="longlat":r==="ProjectedCRS"&&t.conversion&&t.conversion.method&&(i.projName=t.conversion.method.name);break;case"datum":case"datum_ensemble":r.ellipsoid&&(i.ellps=r.ellipsoid.name,_l(r,i)),r.prime_meridian&&(i.from_greenwich=r.prime_meridian.longitude*Math.PI/180);break;case"ellipsoid":i.ellps=r.name,_l(r,i);break;case"prime_meridian":i.long0=(r.longitude||0)*Math.PI/180;break;case"coordinate_system":if(r.axis){if(i.axis=r.axis.map(a=>{const h=a.direction;if(h==="east")return"e";if(h==="north")return"n";if(h==="west")return"w";if(h==="south")return"s";throw new Error(`Unknown axis direction: ${h}`)}).join("")+"u",r.unit){const{units:a,to_meter:h}=cl(r.unit);i.units=a,i.to_meter=h}else if(r.axis[0]&&r.axis[0].unit){const{units:a,to_meter:h}=cl(r.axis[0].unit);i.units=a,i.to_meter=h}}break;case"id":r.authority&&r.code&&(i.title=r.authority+":"+r.code);break;case"conversion":r.method&&r.method.name&&(i.projName=r.method.name),r.parameters&&r.parameters.forEach(a=>{const h=a.name.toLowerCase().replace(/\s+/g,"_"),l=a.value;a.unit&&a.unit.conversion_factor?i[h]=l*a.unit.conversion_factor:a.unit==="degree"?i[h]=l*Math.PI/180:i[h]=l});break;case"unit":r.name&&(i.units=r.name.toLowerCase(),i.units==="metre"&&(i.units="meter")),r.conversion_factor&&(i.to_meter=r.conversion_factor);break;case"base_crs":Fr(r,i),i.datumCode=r.id?r.id.authority+"_"+r.id.code:r.name;break}}),i.latitude_of_false_origin!==void 0&&(i.lat0=i.latitude_of_false_origin),i.longitude_of_false_origin!==void 0&&(i.long0=i.longitude_of_false_origin),i.latitude_of_standard_parallel!==void 0&&(i.lat0=i.latitude_of_standard_parallel,i.lat1=i.latitude_of_standard_parallel),i.latitude_of_1st_standard_parallel!==void 0&&(i.lat1=i.latitude_of_1st_standard_parallel),i.latitude_of_2nd_standard_parallel!==void 0&&(i.lat2=i.latitude_of_2nd_standard_parallel),i.latitude_of_projection_centre!==void 0&&(i.lat0=i.latitude_of_projection_centre),i.longitude_of_projection_centre!==void 0&&(i.longc=i.longitude_of_projection_centre),i.easting_at_false_origin!==void 0&&(i.x0=i.easting_at_false_origin),i.northing_at_false_origin!==void 0&&(i.y0=i.northing_at_false_origin),i.latitude_of_natural_origin!==void 0&&(i.lat0=i.latitude_of_natural_origin),i.longitude_of_natural_origin!==void 0&&(i.long0=i.longitude_of_natural_origin),i.longitude_of_origin!==void 0&&(i.long0=i.longitude_of_origin),i.false_easting!==void 0&&(i.x0=i.false_easting),i.easting_at_projection_centre&&(i.x0=i.easting_at_projection_centre),i.false_northing!==void 0&&(i.y0=i.false_northing),i.northing_at_projection_centre&&(i.y0=i.northing_at_projection_centre),i.standard_parallel_1!==void 0&&(i.lat1=i.standard_parallel_1),i.standard_parallel_2!==void 0&&(i.lat2=i.standard_parallel_2),i.scale_factor_at_natural_origin!==void 0&&(i.k0=i.scale_factor_at_natural_origin),i.scale_factor_at_projection_centre!==void 0&&(i.k0=i.scale_factor_at_projection_centre),i.scale_factor_on_pseudo_standard_parallel!==void 0&&(i.k0=i.scale_factor_on_pseudo_standard_parallel),i.azimuth!==void 0&&(i.alpha=i.azimuth),i.azimuth_at_projection_centre!==void 0&&(i.alpha=i.azimuth_at_projection_centre),i.angle_from_rectified_to_skew_grid&&(i.rectified_grid_angle=i.angle_from_rectified_to_skew_grid),$u(i),i)}var $0=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function W0(t,i){var s=i[0],r=i[1];!(s in t)&&r in t&&(t[s]=t[r],i.length===3&&(t[s]=i[2](t[s])))}function Wu(t){for(var i=Object.keys(t),s=0,r=i.length;s<r;++s){var a=i[s];$0.indexOf(a)!==-1&&j0(t[a]),typeof t[a]=="object"&&Wu(t[a])}}function j0(t){if(t.AUTHORITY){var i=Object.keys(t.AUTHORITY)[0];i&&i in t.AUTHORITY&&(t.title=i+":"+t.AUTHORITY[i])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var s="",r=0,a=t.AXIS.length;r<a;++r){var h=[t.AXIS[r][0].toLowerCase(),t.AXIS[r][1].toLowerCase()];h[0].indexOf("north")!==-1||(h[0]==="y"||h[0]==="lat")&&h[1]==="north"?s+="n":h[0].indexOf("south")!==-1||(h[0]==="y"||h[0]==="lat")&&h[1]==="south"?s+="s":h[0].indexOf("east")!==-1||(h[0]==="x"||h[0]==="lon")&&h[1]==="east"?s+="e":(h[0].indexOf("west")!==-1||(h[0]==="x"||h[0]==="lon")&&h[1]==="west")&&(s+="w")}s.length===2&&(s+="u"),s.length===3&&(t.axis=s)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var l=t.GEOGCS;t.type==="GEOGCS"&&(l=t),l&&(l.DATUM?t.datumCode=l.DATUM.name.toLowerCase():t.datumCode=l.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),l.DATUM&&l.DATUM.SPHEROID&&(t.ellps=l.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=l.DATUM.SPHEROID.a,t.rf=parseFloat(l.DATUM.SPHEROID.rf,10)),l.DATUM&&l.DATUM.TOWGS84&&(t.datum_params=l.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),t.rectified_grid_angle&&(t.rectified_grid_angle=$e(t.rectified_grid_angle));function u(g){var m=t.to_meter||1;return g*m}var c=function(g){return W0(t,g)},_=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",$e],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",$e],["x0","false_easting",u],["y0","false_northing",u],["long0","central_meridian",$e],["lat0","latitude_of_origin",$e],["lat0","standard_parallel_1",$e],["lat1","standard_parallel_1",$e],["lat2","standard_parallel_2",$e],["azimuth","Azimuth"],["alpha","azimuth",$e],["srsCode","name"]];_.forEach(c),$u(t)}function ao(t){if(typeof t=="object")return Fr(t);const i=B0(t);var s=U0(t);if(i==="WKT2"){const h=z0(s);return Fr(h)}var r=s[0],a={};return Is(s,a),Wu(a),a[r]}function xe(t){var i=this;if(arguments.length===2){var s=arguments[1];typeof s=="string"?s.charAt(0)==="+"?xe[t]=ro(arguments[1]):xe[t]=ao(arguments[1]):xe[t]=s}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(r){Array.isArray(r)?xe.apply(i,r):xe(r)});if(typeof t=="string"){if(t in xe)return xe[t]}else"EPSG"in t?xe["EPSG:"+t.EPSG]=t:"ESRI"in t?xe["ESRI:"+t.ESRI]=t:"IAU2000"in t?xe["IAU2000:"+t.IAU2000]=t:console.log(t);return}}A0(xe);function V0(t){return typeof t=="string"}function K0(t){return t in xe}function J0(t){return t.indexOf("+")!==0&&t.indexOf("[")!==-1||typeof t=="object"&&!("srsCode"in t)}var X0=["3857","900913","3785","102113"];function Q0(t){var i=Bi(t,"authority");if(i){var s=Bi(i,"epsg");return s&&X0.indexOf(s)>-1}}function Y0(t){var i=Bi(t,"extension");if(i)return Bi(i,"proj4")}function tm(t){return t[0]==="+"}function em(t){if(V0(t)){if(K0(t))return xe[t];if(J0(t)){var i=ao(t);if(Q0(i))return xe["EPSG:3857"];var s=Y0(i);return s?ro(s):i}if(tm(t))return ro(t)}else return t.projName?t:ao(t)}function ml(t,i){t=t||{};var s,r;if(!i)return t;for(r in i)s=i[r],s!==void 0&&(t[r]=s);return t}function ri(t,i,s){var r=t*i;return s/Math.sqrt(1-r*r)}function Vn(t){return t<0?-1:1}function et(t){return Math.abs(t)<=fe?t:t-Vn(t)*Zn}function Ve(t,i,s){var r=t*s,a=.5*t;return r=Math.pow((1-r)/(1+r),a),Math.tan(.5*(W-i))/r}function Un(t,i){for(var s=.5*t,r,a,h=W-2*Math.atan(i),l=0;l<=15;l++)if(r=t*Math.sin(h),a=W-2*Math.atan(i*Math.pow((1-r)/(1+r),s))-h,h+=a,Math.abs(a)<=1e-10)return h;return-9999}function im(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=ri(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function sm(t){var i=t.x,s=t.y;if(s*ii>90&&s*ii<-90&&i*ii>180&&i*ii<-180)return null;var r,a;if(Math.abs(Math.abs(s)-W)<=tt)return null;if(this.sphere)r=this.x0+this.a*this.k0*et(i-this.long0),a=this.y0+this.a*this.k0*Math.log(Math.tan(Dt+.5*s));else{var h=Math.sin(s),l=Ve(this.e,s,h);r=this.x0+this.a*this.k0*et(i-this.long0),a=this.y0-this.a*this.k0*Math.log(l)}return t.x=r,t.y=a,t}function nm(t){var i=t.x-this.x0,s=t.y-this.y0,r,a;if(this.sphere)a=W-2*Math.atan(Math.exp(-s/(this.a*this.k0)));else{var h=Math.exp(-s/(this.a*this.k0));if(a=Un(this.e,h),a===-9999)return null}return r=et(this.long0+i/(this.a*this.k0)),t.x=r,t.y=a,t}var rm=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","Mercator_Variant_A","merc"];const am={init:im,forward:sm,inverse:nm,names:rm};function om(){}function pl(t){return t}var hm=["longlat","identity"];const lm={init:om,forward:pl,inverse:pl,names:hm};var um=[am,lm],ns={},Gs=[];function ju(t,i){var s=Gs.length;return t.names?(Gs[s]=t,t.names.forEach(function(r){ns[r.toLowerCase()]=s}),this):(console.log(i),!0)}function Vu(t){return t.replace(/[-\(\)\s]+/g," ").trim().replace(/ /g,"_")}function fm(t){if(!t)return!1;var i=t.toLowerCase();if(typeof ns[i]<"u"&&Gs[ns[i]]||(i=Vu(i),i in ns&&Gs[ns[i]]))return Gs[ns[i]]}function cm(){um.forEach(ju)}const dm={start:cm,add:ju,get:fm};var Ku={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"},andrae:{a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"},clrk80:{a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk80ign:{a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"},clrk58:{a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:63558348467e-4,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"},WGS84:{a:6378137,rf:298.257223563,ellipseName:"WGS 84"},sphere:{a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}};const _m=Ku.WGS84;function mm(t,i,s,r){var a=t*t,h=i*i,l=(a-h)/a,u=0;r?(t*=1-l*(I0+l*(G0+l*N0)),a=t*t,l=0):u=Math.sqrt(l);var c=(a-h)/h;return{es:l,e:u,ep2:c}}function pm(t,i,s,r,a){if(!t){var h=Bi(Ku,r);h||(h=_m),t=h.a,i=h.b,s=h.rf}return s&&!i&&(i=(1-1/s)*t),(s===0||Math.abs(t-i)<tt)&&(a=!0,i=t),{a:t,b:i,rf:s,sphere:a}}var Er={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},EPSG_5451:{towgs84:"6.41,-49.05,-11.28,1.5657,0.5242,6.9718,-5.7649"},IGNF_LURESG:{towgs84:"-192.986,13.673,-39.309,-0.4099,-2.9332,2.6881,0.43"},EPSG_4614:{towgs84:"-119.4248,-303.65872,-11.00061,1.164298,0.174458,1.096259,3.657065"},EPSG_4615:{towgs84:"-494.088,-312.129,279.877,-1.423,-1.013,1.59,-0.748"},ESRI_37241:{towgs84:"-76.822,257.457,-12.817,2.136,-0.033,-2.392,-0.031"},ESRI_37249:{towgs84:"-440.296,58.548,296.265,1.128,10.202,4.559,-0.438"},ESRI_37245:{towgs84:"-511.151,-181.269,139.609,1.05,2.703,1.798,3.071"},EPSG_4178:{towgs84:"24.9,-126.4,-93.2,-0.063,-0.247,-0.041,1.01"},EPSG_4622:{towgs84:"-472.29,-5.63,-304.12,0.4362,-0.8374,0.2563,1.8984"},EPSG_4625:{towgs84:"126.93,547.94,130.41,-2.7867,5.1612,-0.8584,13.8227"},EPSG_5252:{towgs84:"0.023,0.036,-0.068,0.00176,0.00912,-0.01136,0.00439"},EPSG_4314:{towgs84:"597.1,71.4,412.1,0.894,0.068,-1.563,7.58"},EPSG_4282:{towgs84:"-178.3,-316.7,-131.5,5.278,6.077,10.979,19.166"},EPSG_4231:{towgs84:"-83.11,-97.38,-117.22,0.0276,-0.2167,0.2147,0.1218"},EPSG_4274:{towgs84:"-230.994,102.591,25.199,0.633,-0.239,0.9,1.95"},EPSG_4134:{towgs84:"-180.624,-225.516,173.919,-0.81,-1.898,8.336,16.71006"},EPSG_4254:{towgs84:"18.38,192.45,96.82,0.056,-0.142,-0.2,-0.0013"},EPSG_4159:{towgs84:"-194.513,-63.978,-25.759,-3.4027,3.756,-3.352,-0.9175"},EPSG_4687:{towgs84:"0.072,-0.507,-0.245,0.0183,-0.0003,0.007,-0.0093"},EPSG_4227:{towgs84:"-83.58,-397.54,458.78,-17.595,-2.847,4.256,3.225"},EPSG_4746:{towgs84:"599.4,72.4,419.2,-0.062,-0.022,-2.723,6.46"},EPSG_4745:{towgs84:"612.4,77,440.2,-0.054,0.057,-2.797,2.55"},EPSG_6311:{towgs84:"8.846,-4.394,-1.122,-0.00237,-0.146528,0.130428,0.783926"},EPSG_4289:{towgs84:"565.7381,50.4018,465.2904,-1.91514,1.60363,-9.09546,4.07244"},EPSG_4230:{towgs84:"-68.863,-134.888,-111.49,-0.53,-0.14,0.57,-3.4"},EPSG_4154:{towgs84:"-123.02,-158.95,-168.47"},EPSG_4156:{towgs84:"570.8,85.7,462.8,4.998,1.587,5.261,3.56"},EPSG_4299:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4179:{towgs84:"33.4,-146.6,-76.3,-0.359,-0.053,0.844,-0.84"},EPSG_4313:{towgs84:"-106.8686,52.2978,-103.7239,0.3366,-0.457,1.8422,-1.2747"},EPSG_4194:{towgs84:"163.511,127.533,-159.789"},EPSG_4195:{towgs84:"105,326,-102.5"},EPSG_4196:{towgs84:"-45,417,-3.5"},EPSG_4611:{towgs84:"-162.619,-276.959,-161.764,0.067753,-2.243649,-1.158827,-1.094246"},EPSG_4633:{towgs84:"137.092,131.66,91.475,-1.9436,-11.5993,-4.3321,-7.4824"},EPSG_4641:{towgs84:"-408.809,366.856,-412.987,1.8842,-0.5308,2.1655,-121.0993"},EPSG_4643:{towgs84:"-480.26,-438.32,-643.429,16.3119,20.1721,-4.0349,-111.7002"},EPSG_4300:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4188:{towgs84:"482.5,-130.6,564.6,-1.042,-0.214,-0.631,8.15"},EPSG_4660:{towgs84:"982.6087,552.753,-540.873,32.39344,-153.25684,-96.2266,16.805"},EPSG_4662:{towgs84:"97.295,-263.247,310.882,-1.5999,0.8386,3.1409,13.3259"},EPSG_3906:{towgs84:"577.88891,165.22205,391.18289,4.9145,-0.94729,-13.05098,7.78664"},EPSG_4307:{towgs84:"-209.3622,-87.8162,404.6198,0.0046,3.4784,0.5805,-1.4547"},EPSG_6892:{towgs84:"-76.269,-16.683,68.562,-6.275,10.536,-4.286,-13.686"},EPSG_4690:{towgs84:"221.597,152.441,176.523,2.403,1.3893,0.884,11.4648"},EPSG_4691:{towgs84:"218.769,150.75,176.75,3.5231,2.0037,1.288,10.9817"},EPSG_4629:{towgs84:"72.51,345.411,79.241,-1.5862,-0.8826,-0.5495,1.3653"},EPSG_4630:{towgs84:"165.804,216.213,180.26,-0.6251,-0.4515,-0.0721,7.4111"},EPSG_4692:{towgs84:"217.109,86.452,23.711,0.0183,-0.0003,0.007,-0.0093"},EPSG_9333:{towgs84:"0,0,0,-8.393,0.749,-10.276,0"},EPSG_9059:{towgs84:"0,0,0"},EPSG_4312:{towgs84:"601.705,84.263,485.227,4.7354,1.3145,5.393,-2.3887"},EPSG_4123:{towgs84:"-96.062,-82.428,-121.753,4.801,0.345,-1.376,1.496"},EPSG_4309:{towgs84:"-124.45,183.74,44.64,-0.4384,0.5446,-0.9706,-2.1365"},ESRI_104106:{towgs84:"-283.088,-70.693,117.445,-1.157,0.059,-0.652,-4.058"},EPSG_4281:{towgs84:"-219.247,-73.802,269.529"},EPSG_4322:{towgs84:"0,0,4.5"},EPSG_4324:{towgs84:"0,0,1.9"},EPSG_4284:{towgs84:"43.822,-108.842,-119.585,1.455,-0.761,0.737,0.549"},EPSG_4277:{towgs84:"446.448,-125.157,542.06,0.15,0.247,0.842,-20.489"},EPSG_4207:{towgs84:"-282.1,-72.2,120,-1.529,0.145,-0.89,-4.46"},EPSG_4688:{towgs84:"347.175,1077.618,2623.677,33.9058,-70.6776,9.4013,186.0647"},EPSG_4689:{towgs84:"410.793,54.542,80.501,-2.5596,-2.3517,-0.6594,17.3218"},EPSG_4720:{towgs84:"0,0,4.5"},EPSG_4273:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},EPSG_4240:{towgs84:"204.64,834.74,293.8"},EPSG_4817:{towgs84:"278.3,93,474.5,7.889,0.05,-6.61,6.21"},ESRI_104131:{towgs84:"426.62,142.62,460.09,4.98,4.49,-12.42,-17.1"},EPSG_4265:{towgs84:"-104.1,-49.1,-9.9,0.971,-2.917,0.714,-11.68"},EPSG_4263:{towgs84:"-111.92,-87.85,114.5,1.875,0.202,0.219,0.032"},EPSG_4298:{towgs84:"-689.5937,623.84046,-65.93566,-0.02331,1.17094,-0.80054,5.88536"},EPSG_4270:{towgs84:"-253.4392,-148.452,386.5267,0.15605,0.43,-0.1013,-0.0424"},EPSG_4229:{towgs84:"-121.8,98.1,-10.7"},EPSG_4220:{towgs84:"-55.5,-348,-229.2"},EPSG_4214:{towgs84:"12.646,-155.176,-80.863"},EPSG_4232:{towgs84:"-345,3,223"},EPSG_4238:{towgs84:"-1.977,-13.06,-9.993,0.364,0.254,0.689,-1.037"},EPSG_4168:{towgs84:"-170,33,326"},EPSG_4131:{towgs84:"199,931,318.9"},EPSG_4152:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_5228:{towgs84:"572.213,85.334,461.94,4.9732,1.529,5.2484,3.5378"},EPSG_8351:{towgs84:"485.021,169.465,483.839,7.786342,4.397554,4.102655,0"},EPSG_4683:{towgs84:"-127.62,-67.24,-47.04,-3.068,4.903,1.578,-1.06"},EPSG_4133:{towgs84:"0,0,0"},EPSG_7373:{towgs84:"0.819,-0.5762,-1.6446,-0.00378,-0.03317,0.00318,0.0693"},EPSG_9075:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9072:{towgs84:"-0.9102,2.0141,0.5602,0.029039,0.010065,0.010101,0"},EPSG_9294:{towgs84:"1.16835,-1.42001,-2.24431,-0.00822,-0.05508,0.01818,0.23388"},EPSG_4212:{towgs84:"-267.434,173.496,181.814,-13.4704,8.7154,7.3926,14.7492"},EPSG_4191:{towgs84:"-44.183,-0.58,-38.489,2.3867,2.7072,-3.5196,-8.2703"},EPSG_4237:{towgs84:"52.684,-71.194,-13.975,-0.312,-0.1063,-0.3729,1.0191"},EPSG_4740:{towgs84:"-1.08,-0.27,-0.9"},EPSG_4124:{towgs84:"419.3836,99.3335,591.3451,0.850389,1.817277,-7.862238,-0.99496"},EPSG_5681:{towgs84:"584.9636,107.7175,413.8067,1.1155,0.2824,-3.1384,7.9922"},EPSG_4141:{towgs84:"23.772,17.49,17.859,-0.3132,-1.85274,1.67299,-5.4262"},EPSG_4204:{towgs84:"-85.645,-273.077,-79.708,2.289,-1.421,2.532,3.194"},EPSG_4319:{towgs84:"226.702,-193.337,-35.371,-2.229,-4.391,9.238,0.9798"},EPSG_4200:{towgs84:"24.82,-131.21,-82.66"},EPSG_4130:{towgs84:"0,0,0"},EPSG_4127:{towgs84:"-82.875,-57.097,-156.768,-2.158,1.524,-0.982,-0.359"},EPSG_4149:{towgs84:"674.374,15.056,405.346"},EPSG_4617:{towgs84:"-0.991,1.9072,0.5129,1.25033e-7,4.6785e-8,5.6529e-8,0"},EPSG_4663:{towgs84:"-210.502,-66.902,-48.476,2.094,-15.067,-5.817,0.485"},EPSG_4664:{towgs84:"-211.939,137.626,58.3,-0.089,0.251,0.079,0.384"},EPSG_4665:{towgs84:"-105.854,165.589,-38.312,-0.003,-0.026,0.024,-0.048"},EPSG_4666:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},EPSG_4756:{towgs84:"-192.873,-39.382,-111.202,-0.00205,-0.0005,0.00335,0.0188"},EPSG_4723:{towgs84:"-179.483,-69.379,-27.584,-7.862,8.163,6.042,-13.925"},EPSG_4726:{towgs84:"8.853,-52.644,180.304,-0.393,-2.323,2.96,-24.081"},EPSG_4267:{towgs84:"-8.0,160.0,176.0"},EPSG_5365:{towgs84:"-0.16959,0.35312,0.51846,0.03385,-0.16325,0.03446,0.03693"},EPSG_4218:{towgs84:"304.5,306.5,-318.1"},EPSG_4242:{towgs84:"-33.722,153.789,94.959,-8.581,-4.478,4.54,8.95"},EPSG_4216:{towgs84:"-292.295,248.758,429.447,4.9971,2.99,6.6906,1.0289"},ESRI_104105:{towgs84:"631.392,-66.551,481.442,1.09,-4.445,-4.487,-4.43"},ESRI_104129:{towgs84:"0,0,0"},EPSG_4673:{towgs84:"174.05,-25.49,112.57"},EPSG_4202:{towgs84:"-124,-60,154"},EPSG_4203:{towgs84:"-117.763,-51.51,139.061,0.292,0.443,0.277,-0.191"},EPSG_3819:{towgs84:"595.48,121.69,515.35,4.115,-2.9383,0.853,-3.408"},EPSG_8694:{towgs84:"-93.799,-132.737,-219.073,-1.844,0.648,-6.37,-0.169"},EPSG_4145:{towgs84:"275.57,676.78,229.6"},EPSG_4283:{towgs84:"61.55,-10.87,-40.19,39.4924,32.7221,32.8979,-9.994"},EPSG_4317:{towgs84:"2.3287,-147.0425,-92.0802,-0.3092483,0.32482185,0.49729934,5.68906266"},EPSG_4272:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993"},EPSG_4248:{towgs84:"-307.7,265.3,-363.5"},EPSG_5561:{towgs84:"24,-121,-76"},EPSG_5233:{towgs84:"-0.293,766.95,87.713,0.195704,1.695068,3.473016,-0.039338"},ESRI_104130:{towgs84:"-86,-98,-119"},ESRI_104102:{towgs84:"682,-203,480"},ESRI_37207:{towgs84:"7,-10,-26"},EPSG_4675:{towgs84:"59.935,118.4,-10.871"},ESRI_104109:{towgs84:"-89.121,-348.182,260.871"},ESRI_104112:{towgs84:"-185.583,-230.096,281.361"},ESRI_104113:{towgs84:"25.1,-275.6,222.6"},IGNF_WGS72G:{towgs84:"0,12,6"},IGNF_NTFG:{towgs84:"-168,-60,320"},IGNF_EFATE57G:{towgs84:"-127,-769,472"},IGNF_PGP50G:{towgs84:"324.8,153.6,172.1"},IGNF_REUN47G:{towgs84:"94,-948,-1262"},IGNF_CSG67G:{towgs84:"-186,230,110"},IGNF_GUAD48G:{towgs84:"-467,-16,-300"},IGNF_TAHI51G:{towgs84:"162,117,154"},IGNF_TAHAAG:{towgs84:"65,342,77"},IGNF_NUKU72G:{towgs84:"84,274,65"},IGNF_PETRELS72G:{towgs84:"365,194,166"},IGNF_WALL78G:{towgs84:"253,-133,-127"},IGNF_MAYO50G:{towgs84:"-382,-59,-262"},IGNF_TANNAG:{towgs84:"-139,-967,436"},IGNF_IGN72G:{towgs84:"-13,-348,292"},IGNF_ATIGG:{towgs84:"1118,23,66"},IGNF_FANGA84G:{towgs84:"150.57,158.33,118.32"},IGNF_RUSAT84G:{towgs84:"202.13,174.6,-15.74"},IGNF_KAUE70G:{towgs84:"126.74,300.1,-75.49"},IGNF_MOP90G:{towgs84:"-10.8,-1.8,12.77"},IGNF_MHPF67G:{towgs84:"338.08,212.58,-296.17"},IGNF_TAHI79G:{towgs84:"160.61,116.05,153.69"},IGNF_ANAA92G:{towgs84:"1.5,3.84,4.81"},IGNF_MARQUI72G:{towgs84:"330.91,-13.92,58.56"},IGNF_APAT86G:{towgs84:"143.6,197.82,74.05"},IGNF_TUBU69G:{towgs84:"237.17,171.61,-77.84"},IGNF_STPM50G:{towgs84:"11.363,424.148,373.13"},EPSG_4150:{towgs84:"674.374,15.056,405.346"},EPSG_4754:{towgs84:"-208.4058,-109.8777,-2.5764"},ESRI_104101:{towgs84:"374,150,588"},EPSG_4693:{towgs84:"0,-0.15,0.68"},EPSG_6207:{towgs84:"293.17,726.18,245.36"},EPSG_4153:{towgs84:"-133.63,-157.5,-158.62"},EPSG_4132:{towgs84:"-241.54,-163.64,396.06"},EPSG_4221:{towgs84:"-154.5,150.7,100.4"},EPSG_4266:{towgs84:"-80.7,-132.5,41.1"},EPSG_4193:{towgs84:"-70.9,-151.8,-41.4"},EPSG_5340:{towgs84:"-0.41,0.46,-0.35"},EPSG_4246:{towgs84:"-294.7,-200.1,525.5"},EPSG_4318:{towgs84:"-3.2,-5.7,2.8"},EPSG_4121:{towgs84:"-199.87,74.79,246.62"},EPSG_4223:{towgs84:"-260.1,5.5,432.2"},EPSG_4158:{towgs84:"-0.465,372.095,171.736"},EPSG_4285:{towgs84:"-128.16,-282.42,21.93"},EPSG_4613:{towgs84:"-404.78,685.68,45.47"},EPSG_4607:{towgs84:"195.671,332.517,274.607"},EPSG_4475:{towgs84:"-381.788,-57.501,-256.673"},EPSG_4208:{towgs84:"-157.84,308.54,-146.6"},EPSG_4743:{towgs84:"70.995,-335.916,262.898"},EPSG_4710:{towgs84:"-323.65,551.39,-491.22"},EPSG_7881:{towgs84:"-0.077,0.079,0.086"},EPSG_4682:{towgs84:"283.729,735.942,261.143"},EPSG_4739:{towgs84:"-156,-271,-189"},EPSG_4679:{towgs84:"-80.01,253.26,291.19"},EPSG_4750:{towgs84:"-56.263,16.136,-22.856"},EPSG_4644:{towgs84:"-10.18,-350.43,291.37"},EPSG_4695:{towgs84:"-103.746,-9.614,-255.95"},EPSG_4292:{towgs84:"-355,21,72"},EPSG_4302:{towgs84:"-61.702,284.488,472.052"},EPSG_4143:{towgs84:"-124.76,53,466.79"},EPSG_4606:{towgs84:"-153,153,307"},EPSG_4699:{towgs84:"-770.1,158.4,-498.2"},EPSG_4247:{towgs84:"-273.5,110.6,-357.9"},EPSG_4160:{towgs84:"8.88,184.86,106.69"},EPSG_4161:{towgs84:"-233.43,6.65,173.64"},EPSG_9251:{towgs84:"-9.5,122.9,138.2"},EPSG_9253:{towgs84:"-78.1,101.6,133.3"},EPSG_4297:{towgs84:"-198.383,-240.517,-107.909"},EPSG_4269:{towgs84:"0,0,0"},EPSG_4301:{towgs84:"-147,506,687"},EPSG_4618:{towgs84:"-59,-11,-52"},EPSG_4612:{towgs84:"0,0,0"},EPSG_4678:{towgs84:"44.585,-131.212,-39.544"},EPSG_4250:{towgs84:"-130,29,364"},EPSG_4144:{towgs84:"214,804,268"},EPSG_4147:{towgs84:"-17.51,-108.32,-62.39"},EPSG_4259:{towgs84:"-254.1,-5.36,-100.29"},EPSG_4164:{towgs84:"-76,-138,67"},EPSG_4211:{towgs84:"-378.873,676.002,-46.255"},EPSG_4182:{towgs84:"-422.651,-172.995,84.02"},EPSG_4224:{towgs84:"-143.87,243.37,-33.52"},EPSG_4225:{towgs84:"-205.57,168.77,-4.12"},EPSG_5527:{towgs84:"-67.35,3.88,-38.22"},EPSG_4752:{towgs84:"98,390,-22"},EPSG_4310:{towgs84:"-30,190,89"},EPSG_9248:{towgs84:"-192.26,65.72,132.08"},EPSG_4680:{towgs84:"124.5,-63.5,-281"},EPSG_4701:{towgs84:"-79.9,-158,-168.9"},EPSG_4706:{towgs84:"-146.21,112.63,4.05"},EPSG_4805:{towgs84:"682,-203,480"},EPSG_4201:{towgs84:"-165,-11,206"},EPSG_4210:{towgs84:"-157,-2,-299"},EPSG_4183:{towgs84:"-104,167,-38"},EPSG_4139:{towgs84:"11,72,-101"},EPSG_4668:{towgs84:"-86,-98,-119"},EPSG_4717:{towgs84:"-2,151,181"},EPSG_4732:{towgs84:"102,52,-38"},EPSG_4280:{towgs84:"-377,681,-50"},EPSG_4209:{towgs84:"-138,-105,-289"},EPSG_4261:{towgs84:"31,146,47"},EPSG_4658:{towgs84:"-73,46,-86"},EPSG_4721:{towgs84:"265.025,384.929,-194.046"},EPSG_4222:{towgs84:"-136,-108,-292"},EPSG_4601:{towgs84:"-255,-15,71"},EPSG_4602:{towgs84:"725,685,536"},EPSG_4603:{towgs84:"72,213.7,93"},EPSG_4605:{towgs84:"9,183,236"},EPSG_4621:{towgs84:"137,248,-430"},EPSG_4657:{towgs84:"-28,199,5"},EPSG_4316:{towgs84:"103.25,-100.4,-307.19"},EPSG_4642:{towgs84:"-13,-348,292"},EPSG_4698:{towgs84:"145,-187,103"},EPSG_4192:{towgs84:"-206.1,-174.7,-87.7"},EPSG_4311:{towgs84:"-265,120,-358"},EPSG_4135:{towgs84:"58,-283,-182"},ESRI_104138:{towgs84:"198,-226,-347"},EPSG_4245:{towgs84:"-11,851,5"},EPSG_4142:{towgs84:"-125,53,467"},EPSG_4213:{towgs84:"-106,-87,188"},EPSG_4253:{towgs84:"-133,-77,-51"},EPSG_4129:{towgs84:"-132,-110,-335"},EPSG_4713:{towgs84:"-77,-128,142"},EPSG_4239:{towgs84:"217,823,299"},EPSG_4146:{towgs84:"295,736,257"},EPSG_4155:{towgs84:"-83,37,124"},EPSG_4165:{towgs84:"-173,253,27"},EPSG_4672:{towgs84:"175,-38,113"},EPSG_4236:{towgs84:"-637,-549,-203"},EPSG_4251:{towgs84:"-90,40,88"},EPSG_4271:{towgs84:"-2,374,172"},EPSG_4175:{towgs84:"-88,4,101"},EPSG_4716:{towgs84:"298,-304,-375"},EPSG_4315:{towgs84:"-23,259,-9"},EPSG_4744:{towgs84:"-242.2,-144.9,370.3"},EPSG_4244:{towgs84:"-97,787,86"},EPSG_4293:{towgs84:"616,97,-251"},EPSG_4714:{towgs84:"-127,-769,472"},EPSG_4736:{towgs84:"260,12,-147"},EPSG_6883:{towgs84:"-235,-110,393"},EPSG_6894:{towgs84:"-63,176,185"},EPSG_4205:{towgs84:"-43,-163,45"},EPSG_4256:{towgs84:"41,-220,-134"},EPSG_4262:{towgs84:"639,405,60"},EPSG_4604:{towgs84:"174,359,365"},EPSG_4169:{towgs84:"-115,118,426"},EPSG_4620:{towgs84:"-106,-129,165"},EPSG_4184:{towgs84:"-203,141,53"},EPSG_4616:{towgs84:"-289,-124,60"},EPSG_9403:{towgs84:"-307,-92,127"},EPSG_4684:{towgs84:"-133,-321,50"},EPSG_4708:{towgs84:"-491,-22,435"},EPSG_4707:{towgs84:"114,-116,-333"},EPSG_4709:{towgs84:"145,75,-272"},EPSG_4712:{towgs84:"-205,107,53"},EPSG_4711:{towgs84:"124,-234,-25"},EPSG_4718:{towgs84:"230,-199,-752"},EPSG_4719:{towgs84:"211,147,111"},EPSG_4724:{towgs84:"208,-435,-229"},EPSG_4725:{towgs84:"189,-79,-202"},EPSG_4735:{towgs84:"647,1777,-1124"},EPSG_4722:{towgs84:"-794,119,-298"},EPSG_4728:{towgs84:"-307,-92,127"},EPSG_4734:{towgs84:"-632,438,-609"},EPSG_4727:{towgs84:"912,-58,1227"},EPSG_4729:{towgs84:"185,165,42"},EPSG_4730:{towgs84:"170,42,84"},EPSG_4733:{towgs84:"276,-57,149"},ESRI_37218:{towgs84:"230,-199,-752"},ESRI_37240:{towgs84:"-7,215,225"},ESRI_37221:{towgs84:"252,-209,-751"},ESRI_4305:{towgs84:"-123,-206,219"},ESRI_104139:{towgs84:"-73,-247,227"},EPSG_4748:{towgs84:"51,391,-36"},EPSG_4219:{towgs84:"-384,664,-48"},EPSG_4255:{towgs84:"-333,-222,114"},EPSG_4257:{towgs84:"-587.8,519.75,145.76"},EPSG_4646:{towgs84:"-963,510,-359"},EPSG_6881:{towgs84:"-24,-203,268"},EPSG_6882:{towgs84:"-183,-15,273"},EPSG_4715:{towgs84:"-104,-129,239"},IGNF_RGF93GDD:{towgs84:"0,0,0"},IGNF_RGM04GDD:{towgs84:"0,0,0"},IGNF_RGSPM06GDD:{towgs84:"0,0,0"},IGNF_RGTAAF07GDD:{towgs84:"0,0,0"},IGNF_RGFG95GDD:{towgs84:"0,0,0"},IGNF_RGNCG:{towgs84:"0,0,0"},IGNF_RGPFGDD:{towgs84:"0,0,0"},IGNF_ETRS89G:{towgs84:"0,0,0"},IGNF_RGR92GDD:{towgs84:"0,0,0"},EPSG_4173:{towgs84:"0,0,0"},EPSG_4180:{towgs84:"0,0,0"},EPSG_4619:{towgs84:"0,0,0"},EPSG_4667:{towgs84:"0,0,0"},EPSG_4075:{towgs84:"0,0,0"},EPSG_6706:{towgs84:"0,0,0"},EPSG_7798:{towgs84:"0,0,0"},EPSG_4661:{towgs84:"0,0,0"},EPSG_4669:{towgs84:"0,0,0"},EPSG_8685:{towgs84:"0,0,0"},EPSG_4151:{towgs84:"0,0,0"},EPSG_9702:{towgs84:"0,0,0"},EPSG_4758:{towgs84:"0,0,0"},EPSG_4761:{towgs84:"0,0,0"},EPSG_4765:{towgs84:"0,0,0"},EPSG_8997:{towgs84:"0,0,0"},EPSG_4023:{towgs84:"0,0,0"},EPSG_4670:{towgs84:"0,0,0"},EPSG_4694:{towgs84:"0,0,0"},EPSG_4148:{towgs84:"0,0,0"},EPSG_4163:{towgs84:"0,0,0"},EPSG_4167:{towgs84:"0,0,0"},EPSG_4189:{towgs84:"0,0,0"},EPSG_4190:{towgs84:"0,0,0"},EPSG_4176:{towgs84:"0,0,0"},EPSG_4659:{towgs84:"0,0,0"},EPSG_3824:{towgs84:"0,0,0"},EPSG_3889:{towgs84:"0,0,0"},EPSG_4046:{towgs84:"0,0,0"},EPSG_4081:{towgs84:"0,0,0"},EPSG_4558:{towgs84:"0,0,0"},EPSG_4483:{towgs84:"0,0,0"},EPSG_5013:{towgs84:"0,0,0"},EPSG_5264:{towgs84:"0,0,0"},EPSG_5324:{towgs84:"0,0,0"},EPSG_5354:{towgs84:"0,0,0"},EPSG_5371:{towgs84:"0,0,0"},EPSG_5373:{towgs84:"0,0,0"},EPSG_5381:{towgs84:"0,0,0"},EPSG_5393:{towgs84:"0,0,0"},EPSG_5489:{towgs84:"0,0,0"},EPSG_5593:{towgs84:"0,0,0"},EPSG_6135:{towgs84:"0,0,0"},EPSG_6365:{towgs84:"0,0,0"},EPSG_5246:{towgs84:"0,0,0"},EPSG_7886:{towgs84:"0,0,0"},EPSG_8431:{towgs84:"0,0,0"},EPSG_8427:{towgs84:"0,0,0"},EPSG_8699:{towgs84:"0,0,0"},EPSG_8818:{towgs84:"0,0,0"},EPSG_4757:{towgs84:"0,0,0"},EPSG_9140:{towgs84:"0,0,0"},EPSG_8086:{towgs84:"0,0,0"},EPSG_4686:{towgs84:"0,0,0"},EPSG_4737:{towgs84:"0,0,0"},EPSG_4702:{towgs84:"0,0,0"},EPSG_4747:{towgs84:"0,0,0"},EPSG_4749:{towgs84:"0,0,0"},EPSG_4674:{towgs84:"0,0,0"},EPSG_4755:{towgs84:"0,0,0"},EPSG_4759:{towgs84:"0,0,0"},EPSG_4762:{towgs84:"0,0,0"},EPSG_4763:{towgs84:"0,0,0"},EPSG_4764:{towgs84:"0,0,0"},EPSG_4166:{towgs84:"0,0,0"},EPSG_4170:{towgs84:"0,0,0"},EPSG_5546:{towgs84:"0,0,0"},EPSG_7844:{towgs84:"0,0,0"},EPSG_4818:{towgs84:"589,76,480"}};for(var gm in Er){var Ua=Er[gm];Ua.datumName&&(Er[Ua.datumName]=Ua)}function vm(t,i,s,r,a,h,l){var u={};return t===void 0||t==="none"?u.datum_type=no:u.datum_type=L0,i&&(u.datum_params=i.map(parseFloat),(u.datum_params[0]!==0||u.datum_params[1]!==0||u.datum_params[2]!==0)&&(u.datum_type=fs),u.datum_params.length>3&&(u.datum_params[3]!==0||u.datum_params[4]!==0||u.datum_params[5]!==0||u.datum_params[6]!==0)&&(u.datum_type=cs,u.datum_params[3]*=An,u.datum_params[4]*=An,u.datum_params[5]*=An,u.datum_params[6]=u.datum_params[6]/1e6+1)),l&&(u.datum_type=Fs,u.grids=l),u.a=s,u.b=r,u.es=a,u.ep2=h,u}var To={};function ym(t,i,s){return i instanceof ArrayBuffer?Mm(t,i,s):{ready:wm(t,i)}}function Mm(t,i,s){var r=!0;s!==void 0&&s.includeErrorFields===!1&&(r=!1);var a=new DataView(i),h=Sm(a),l=bm(a,h),u=Em(a,l,h,r),c={header:l,subgrids:u};return To[t]=c,c}async function wm(t,i){for(var s=[],r=await i.getImageCount(),a=r-1;a>=0;a--){var h=await i.getImage(a),l=await h.readRasters(),u=l,c=[h.getWidth(),h.getHeight()],_=h.getBoundingBox().map(gl),g=[h.fileDirectory.ModelPixelScale[0],h.fileDirectory.ModelPixelScale[1]].map(gl),m=_[0]+(c[0]-1)*g[0],p=_[3]-(c[1]-1)*g[1],M=u[0],S=u[1],P=[];for(let j=c[1]-1;j>=0;j--)for(let V=c[0]-1;V>=0;V--){var A=j*c[0]+V;P.push([-Ri(S[A]),Ri(M[A])])}s.push({del:g,lim:c,ll:[-m,p],cvs:P})}var B={header:{nSubgrids:r},subgrids:s};return To[t]=B,B}function xm(t){if(t===void 0)return null;var i=t.split(",");return i.map(Pm)}function Pm(t){if(t.length===0)return null;var i=t[0]==="@";return i&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!i,grid:null,isNull:!0}:{name:t,mandatory:!i,grid:To[t]||null,isNull:!1}}function gl(t){return t*Math.PI/180}function Ri(t){return t/3600*Math.PI/180}function Sm(t){var i=t.getInt32(8,!1);return i===11?!1:(i=t.getInt32(8,!0),i!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function bm(t,i){return{nFields:t.getInt32(8,i),nSubgridFields:t.getInt32(24,i),nSubgrids:t.getInt32(40,i),shiftType:oo(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,i),fromSemiMinorAxis:t.getFloat64(136,i),toSemiMajorAxis:t.getFloat64(152,i),toSemiMinorAxis:t.getFloat64(168,i)}}function oo(t,i,s){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(i,s)))}function Em(t,i,s,r){for(var a=176,h=[],l=0;l<i.nSubgrids;l++){var u=Am(t,a,s),c=Lm(t,a,u,s,r),_=Math.round(1+(u.upperLongitude-u.lowerLongitude)/u.longitudeInterval),g=Math.round(1+(u.upperLatitude-u.lowerLatitude)/u.latitudeInterval);h.push({ll:[Ri(u.lowerLongitude),Ri(u.lowerLatitude)],del:[Ri(u.longitudeInterval),Ri(u.latitudeInterval)],lim:[_,g],count:u.gridNodeCount,cvs:Cm(c)});var m=16;r===!1&&(m=8),a+=176+u.gridNodeCount*m}return h}function Cm(t){return t.map(function(i){return[Ri(i.longitudeShift),Ri(i.latitudeShift)]})}function Am(t,i,s){return{name:oo(t,i+8,i+16).trim(),parent:oo(t,i+24,i+24+8).trim(),lowerLatitude:t.getFloat64(i+72,s),upperLatitude:t.getFloat64(i+88,s),lowerLongitude:t.getFloat64(i+104,s),upperLongitude:t.getFloat64(i+120,s),latitudeInterval:t.getFloat64(i+136,s),longitudeInterval:t.getFloat64(i+152,s),gridNodeCount:t.getInt32(i+168,s)}}function Lm(t,i,s,r,a){var h=i+176,l=16;a===!1&&(l=8);for(var u=[],c=0;c<s.gridNodeCount;c++){var _={latitudeShift:t.getFloat32(h+c*l,r),longitudeShift:t.getFloat32(h+c*l+4,r)};a!==!1&&(_.latitudeAccuracy=t.getFloat32(h+c*l+8,r),_.longitudeAccuracy=t.getFloat32(h+c*l+12,r)),u.push(_)}return u}function ni(t,i){if(!(this instanceof ni))return new ni(t);i=i||function(_){if(_)throw _};var s=em(t);if(typeof s!="object"){i("Could not parse to valid json: "+t);return}var r=ni.projections.get(s.projName);if(!r){i("Could not get projection name from: "+t);return}if(s.datumCode&&s.datumCode!=="none"){var a=Bi(Er,s.datumCode);a&&(s.datum_params=s.datum_params||(a.towgs84?a.towgs84.split(","):null),s.ellps=a.ellipse,s.datumName=a.datumName?a.datumName:s.datumCode)}s.k0=s.k0||1,s.axis=s.axis||"enu",s.ellps=s.ellps||"wgs84",s.lat1=s.lat1||s.lat0;var h=pm(s.a,s.b,s.rf,s.ellps,s.sphere),l=mm(h.a,h.b,h.rf,s.R_A),u=xm(s.nadgrids),c=s.datum||vm(s.datumCode,s.datum_params,h.a,h.b,l.es,l.ep2,u);ml(this,s),ml(this,r),this.a=h.a,this.b=h.b,this.rf=h.rf,this.sphere=h.sphere,this.es=l.es,this.e=l.e,this.ep2=l.ep2,this.datum=c,this.init(),i(null,this)}ni.projections=dm;ni.projections.start();function Tm(t,i){return t.datum_type!==i.datum_type||t.a!==i.a||Math.abs(t.es-i.es)>5e-11?!1:t.datum_type===fs?t.datum_params[0]===i.datum_params[0]&&t.datum_params[1]===i.datum_params[1]&&t.datum_params[2]===i.datum_params[2]:t.datum_type===cs?t.datum_params[0]===i.datum_params[0]&&t.datum_params[1]===i.datum_params[1]&&t.datum_params[2]===i.datum_params[2]&&t.datum_params[3]===i.datum_params[3]&&t.datum_params[4]===i.datum_params[4]&&t.datum_params[5]===i.datum_params[5]&&t.datum_params[6]===i.datum_params[6]:!0}function Ju(t,i,s){var r=t.x,a=t.y,h=t.z?t.z:0,l,u,c,_;if(a<-W&&a>-1.001*W)a=-W;else if(a>W&&a<1.001*W)a=W;else{if(a<-W)return{x:-1/0,y:-1/0,z:t.z};if(a>W)return{x:1/0,y:1/0,z:t.z}}return r>Math.PI&&(r-=2*Math.PI),u=Math.sin(a),_=Math.cos(a),c=u*u,l=s/Math.sqrt(1-i*c),{x:(l+h)*_*Math.cos(r),y:(l+h)*_*Math.sin(r),z:(l*(1-i)+h)*u}}function Xu(t,i,s,r){var a=1e-12,h=a*a,l=30,u,c,_,g,m,p,M,S,P,A,B,j,V,Q=t.x,lt=t.y,pt=t.z?t.z:0,Tt,Gt,ut;if(u=Math.sqrt(Q*Q+lt*lt),c=Math.sqrt(Q*Q+lt*lt+pt*pt),u/s<a){if(Tt=0,c/s<a)return Gt=W,ut=-r,{x:t.x,y:t.y,z:t.z}}else Tt=Math.atan2(lt,Q);_=pt/c,g=u/c,m=1/Math.sqrt(1-i*(2-i)*g*g),S=g*(1-i)*m,P=_*m,V=0;do V++,M=s/Math.sqrt(1-i*P*P),ut=u*S+pt*P-M*(1-i*P*P),p=i*M/(M+ut),m=1/Math.sqrt(1-p*(2-p)*g*g),A=g*(1-p)*m,B=_*m,j=B*S-A*P,S=A,P=B;while(j*j>h&&V<l);return Gt=Math.atan(B/Math.abs(A)),{x:Tt,y:Gt,z:ut}}function Im(t,i,s){if(i===fs)return{x:t.x+s[0],y:t.y+s[1],z:t.z+s[2]};if(i===cs){var r=s[0],a=s[1],h=s[2],l=s[3],u=s[4],c=s[5],_=s[6];return{x:_*(t.x-c*t.y+u*t.z)+r,y:_*(c*t.x+t.y-l*t.z)+a,z:_*(-u*t.x+l*t.y+t.z)+h}}}function Gm(t,i,s){if(i===fs)return{x:t.x-s[0],y:t.y-s[1],z:t.z-s[2]};if(i===cs){var r=s[0],a=s[1],h=s[2],l=s[3],u=s[4],c=s[5],_=s[6],g=(t.x-r)/_,m=(t.y-a)/_,p=(t.z-h)/_;return{x:g+c*m-u*p,y:-c*g+m+l*p,z:u*g-l*m+p}}}function xr(t){return t===fs||t===cs}function Nm(t,i,s){if(Tm(t,i)||t.datum_type===no||i.datum_type===no)return s;var r=t.a,a=t.es;if(t.datum_type===Fs){var h=vl(t,!1,s);if(h!==0)return;r=ll,a=ul}var l=i.a,u=i.b,c=i.es;if(i.datum_type===Fs&&(l=ll,u=T0,c=ul),a===c&&r===l&&!xr(t.datum_type)&&!xr(i.datum_type))return s;if(s=Ju(s,a,r),xr(t.datum_type)&&(s=Im(s,t.datum_type,t.datum_params)),xr(i.datum_type)&&(s=Gm(s,i.datum_type,i.datum_params)),s=Xu(s,c,l,u),i.datum_type===Fs){var _=vl(i,!0,s);if(_!==0)return}return s}function vl(t,i,s){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var r={x:-s.x,y:s.y},a={x:Number.NaN,y:Number.NaN},h=[];t:for(var l=0;l<t.grids.length;l++){var u=t.grids[l];if(h.push(u.name),u.isNull){a=r;break}if(u.grid===null){if(u.mandatory)return console.log("Unable to find mandatory grid '"+u.name+"'"),-1;continue}for(var c=u.grid.subgrids,_=0,g=c.length;_<g;_++){var m=c[_],p=(Math.abs(m.del[1])+Math.abs(m.del[0]))/1e4,M=m.ll[0]-p,S=m.ll[1]-p,P=m.ll[0]+(m.lim[0]-1)*m.del[0]+p,A=m.ll[1]+(m.lim[1]-1)*m.del[1]+p;if(!(S>r.y||M>r.x||A<r.y||P<r.x)&&(a=Om(r,i,m),!isNaN(a.x)))break t}}return isNaN(a.x)?(console.log("Failed to find a grid shift table for location '"+-r.x*ii+" "+r.y*ii+" tried: '"+h+"'"),-1):(s.x=-a.x,s.y=a.y,0)}function Om(t,i,s){var r={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return r;var a={x:t.x,y:t.y};a.x-=s.ll[0],a.y-=s.ll[1],a.x=et(a.x-Math.PI)+Math.PI;var h=yl(a,s);if(i){if(isNaN(h.x))return r;h.x=a.x-h.x,h.y=a.y-h.y;var l=9,u=1e-12,c,_;do{if(_=yl(h,s),isNaN(_.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}c={x:a.x-(_.x+h.x),y:a.y-(_.y+h.y)},h.x+=c.x,h.y+=c.y}while(l--&&Math.abs(c.x)>u&&Math.abs(c.y)>u);if(l<0)return console.log("Inverse grid shift iterator failed to converge."),r;r.x=et(h.x+s.ll[0]),r.y=h.y+s.ll[1]}else isNaN(h.x)||(r.x=t.x+h.x,r.y=t.y+h.y);return r}function yl(t,i){var s={x:t.x/i.del[0],y:t.y/i.del[1]},r={x:Math.floor(s.x),y:Math.floor(s.y)},a={x:s.x-1*r.x,y:s.y-1*r.y},h={x:Number.NaN,y:Number.NaN},l;if(r.x<0||r.x>=i.lim[0]||r.y<0||r.y>=i.lim[1])return h;l=r.y*i.lim[0]+r.x;var u={x:i.cvs[l][0],y:i.cvs[l][1]};l++;var c={x:i.cvs[l][0],y:i.cvs[l][1]};l+=i.lim[0];var _={x:i.cvs[l][0],y:i.cvs[l][1]};l--;var g={x:i.cvs[l][0],y:i.cvs[l][1]},m=a.x*a.y,p=a.x*(1-a.y),M=(1-a.x)*(1-a.y),S=(1-a.x)*a.y;return h.x=M*u.x+p*c.x+S*g.x+m*_.x,h.y=M*u.y+p*c.y+S*g.y+m*_.y,h}function Ml(t,i,s){var r=s.x,a=s.y,h=s.z||0,l,u,c,_={};for(c=0;c<3;c++)if(!(i&&c===2&&s.z===void 0))switch(c===0?(l=r,"ew".indexOf(t.axis[c])!==-1?u="x":u="y"):c===1?(l=a,"ns".indexOf(t.axis[c])!==-1?u="y":u="x"):(l=h,u="z"),t.axis[c]){case"e":_[u]=l;break;case"w":_[u]=-l;break;case"n":_[u]=l;break;case"s":_[u]=-l;break;case"u":s[u]!==void 0&&(_.z=l);break;case"d":s[u]!==void 0&&(_.z=-l);break;default:return null}return _}function Qu(t){var i={x:t[0],y:t[1]};return t.length>2&&(i.z=t[2]),t.length>3&&(i.m=t[3]),i}function Rm(t){wl(t.x),wl(t.y)}function wl(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function km(t,i){return(t.datum.datum_type===fs||t.datum.datum_type===cs||t.datum.datum_type===Fs)&&i.datumCode!=="WGS84"||(i.datum.datum_type===fs||i.datum.datum_type===cs||i.datum.datum_type===Fs)&&t.datumCode!=="WGS84"}function Zr(t,i,s,r){var a;Array.isArray(s)?s=Qu(s):s={x:s.x,y:s.y,z:s.z,m:s.m};var h=s.z!==void 0;if(Rm(s),t.datum&&i.datum&&km(t,i)&&(a=new ni("WGS84"),s=Zr(t,a,s,r),t=a),r&&t.axis!=="enu"&&(s=Ml(t,!1,s)),t.projName==="longlat")s={x:s.x*Ht,y:s.y*Ht,z:s.z||0};else if(t.to_meter&&(s={x:s.x*t.to_meter,y:s.y*t.to_meter,z:s.z||0}),s=t.inverse(s),!s)return;if(t.from_greenwich&&(s.x+=t.from_greenwich),s=Nm(t.datum,i.datum,s),!!s)return i.from_greenwich&&(s={x:s.x-i.from_greenwich,y:s.y,z:s.z||0}),i.projName==="longlat"?s={x:s.x*ii,y:s.y*ii,z:s.z||0}:(s=i.forward(s),i.to_meter&&(s={x:s.x/i.to_meter,y:s.y/i.to_meter,z:s.z||0})),r&&i.axis!=="enu"?Ml(i,!0,s):(s&&!h&&delete s.z,s)}var xl=ni("WGS84");function Ha(t,i,s,r){var a,h,l;return Array.isArray(s)?(a=Zr(t,i,s,r)||{x:NaN,y:NaN},s.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof i.name<"u"&&i.name==="geocent"?typeof a.z=="number"?[a.x,a.y,a.z].concat(s.slice(3)):[a.x,a.y,s[2]].concat(s.slice(3)):[a.x,a.y].concat(s.slice(2)):[a.x,a.y]):(h=Zr(t,i,s,r),l=Object.keys(s),l.length===2||l.forEach(function(u){if(typeof t.name<"u"&&t.name==="geocent"||typeof i.name<"u"&&i.name==="geocent"){if(u==="x"||u==="y"||u==="z")return}else if(u==="x"||u==="y")return;h[u]=s[u]}),h)}function Pl(t){return t instanceof ni?t:t.oProj?t.oProj:ni(t)}function Oe(t,i,s){t=Pl(t);var r=!1,a;return typeof i>"u"?(i=t,t=xl,r=!0):(typeof i.x<"u"||Array.isArray(i))&&(s=i,i=t,t=xl,r=!0),i=Pl(i),s?Ha(t,i,s):(a={forward:function(h,l){return Ha(t,i,h,l)},inverse:function(h,l){return Ha(i,t,h,l)}},r&&(a.oProj=i),a)}var Sl=6,Yu="AJSAJS",tf="AFAFAF",Ns=65,Le=73,qe=79,gn=86,vn=90;const Dm={forward:ef,inverse:zm,toPoint:sf};function ef(t,i){return i=i||5,Zm(Bm({lat:t[1],lon:t[0]}),i)}function zm(t){var i=Io(rf(t.toUpperCase()));return i.lat&&i.lon?[i.lon,i.lat,i.lon,i.lat]:[i.left,i.bottom,i.right,i.top]}function sf(t){var i=Io(rf(t.toUpperCase()));return i.lat&&i.lon?[i.lon,i.lat]:[(i.left+i.right)/2,(i.top+i.bottom)/2]}function $a(t){return t*(Math.PI/180)}function bl(t){return 180*(t/Math.PI)}function Bm(t){var i=t.lat,s=t.lon,r=6378137,a=.00669438,h=.9996,l,u,c,_,g,m,p,M=$a(i),S=$a(s),P,A;A=Math.floor((s+180)/6)+1,s===180&&(A=60),i>=56&&i<64&&s>=3&&s<12&&(A=32),i>=72&&i<84&&(s>=0&&s<9?A=31:s>=9&&s<21?A=33:s>=21&&s<33?A=35:s>=33&&s<42&&(A=37)),l=(A-1)*6-180+3,P=$a(l),u=a/(1-a),c=r/Math.sqrt(1-a*Math.sin(M)*Math.sin(M)),_=Math.tan(M)*Math.tan(M),g=u*Math.cos(M)*Math.cos(M),m=Math.cos(M)*(S-P),p=r*((1-a/4-3*a*a/64-5*a*a*a/256)*M-(3*a/8+3*a*a/32+45*a*a*a/1024)*Math.sin(2*M)+(15*a*a/256+45*a*a*a/1024)*Math.sin(4*M)-35*a*a*a/3072*Math.sin(6*M));var B=h*c*(m+(1-_+g)*m*m*m/6+(5-18*_+_*_+72*g-58*u)*m*m*m*m*m/120)+5e5,j=h*(p+c*Math.tan(M)*(m*m/2+(5-_+9*g+4*g*g)*m*m*m*m/24+(61-58*_+_*_+600*g-330*u)*m*m*m*m*m*m/720));return i<0&&(j+=1e7),{northing:Math.round(j),easting:Math.round(B),zoneNumber:A,zoneLetter:Fm(i)}}function Io(t){var i=t.northing,s=t.easting,r=t.zoneLetter,a=t.zoneNumber;if(a<0||a>60)return null;var h=.9996,l=6378137,u=.00669438,c,_=(1-Math.sqrt(1-u))/(1+Math.sqrt(1-u)),g,m,p,M,S,P,A,B,j,V=s-5e5,Q=i;r<"N"&&(Q-=1e7),A=(a-1)*6-180+3,c=u/(1-u),P=Q/h,B=P/(l*(1-u/4-3*u*u/64-5*u*u*u/256)),j=B+(3*_/2-27*_*_*_/32)*Math.sin(2*B)+(21*_*_/16-55*_*_*_*_/32)*Math.sin(4*B)+151*_*_*_/96*Math.sin(6*B),g=l/Math.sqrt(1-u*Math.sin(j)*Math.sin(j)),m=Math.tan(j)*Math.tan(j),p=c*Math.cos(j)*Math.cos(j),M=l*(1-u)/Math.pow(1-u*Math.sin(j)*Math.sin(j),1.5),S=V/(g*h);var lt=j-g*Math.tan(j)/M*(S*S/2-(5+3*m+10*p-4*p*p-9*c)*S*S*S*S/24+(61+90*m+298*p+45*m*m-252*c-3*p*p)*S*S*S*S*S*S/720);lt=bl(lt);var pt=(S-(1+2*m+p)*S*S*S/6+(5-2*p+28*m-3*p*p+8*c+24*m*m)*S*S*S*S*S/120)/Math.cos(j);pt=A+bl(pt);var Tt;if(t.accuracy){var Gt=Io({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});Tt={top:Gt.lat,right:Gt.lon,bottom:lt,left:pt}}else Tt={lat:lt,lon:pt};return Tt}function Fm(t){var i="Z";return 84>=t&&t>=72?i="X":72>t&&t>=64?i="W":64>t&&t>=56?i="V":56>t&&t>=48?i="U":48>t&&t>=40?i="T":40>t&&t>=32?i="S":32>t&&t>=24?i="R":24>t&&t>=16?i="Q":16>t&&t>=8?i="P":8>t&&t>=0?i="N":0>t&&t>=-8?i="M":-8>t&&t>=-16?i="L":-16>t&&t>=-24?i="K":-24>t&&t>=-32?i="J":-32>t&&t>=-40?i="H":-40>t&&t>=-48?i="G":-48>t&&t>=-56?i="F":-56>t&&t>=-64?i="E":-64>t&&t>=-72?i="D":-72>t&&t>=-80&&(i="C"),i}function Zm(t,i){var s="00000"+t.easting,r="00000"+t.northing;return t.zoneNumber+t.zoneLetter+qm(t.easting,t.northing,t.zoneNumber)+s.substr(s.length-5,i)+r.substr(r.length-5,i)}function qm(t,i,s){var r=nf(s),a=Math.floor(t/1e5),h=Math.floor(i/1e5)%20;return Um(a,h,r)}function nf(t){var i=t%Sl;return i===0&&(i=Sl),i}function Um(t,i,s){var r=s-1,a=Yu.charCodeAt(r),h=tf.charCodeAt(r),l=a+t-1,u=h+i,c=!1;l>vn&&(l=l-vn+Ns-1,c=!0),(l===Le||a<Le&&l>Le||(l>Le||a<Le)&&c)&&l++,(l===qe||a<qe&&l>qe||(l>qe||a<qe)&&c)&&(l++,l===Le&&l++),l>vn&&(l=l-vn+Ns-1),u>gn?(u=u-gn+Ns-1,c=!0):c=!1,(u===Le||h<Le&&u>Le||(u>Le||h<Le)&&c)&&u++,(u===qe||h<qe&&u>qe||(u>qe||h<qe)&&c)&&(u++,u===Le&&u++),u>gn&&(u=u-gn+Ns-1);var _=String.fromCharCode(l)+String.fromCharCode(u);return _}function rf(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var i=t.length,s=null,r="",a,h=0;!/[A-Z]/.test(a=t.charAt(h));){if(h>=2)throw"MGRSPoint bad conversion from: "+t;r+=a,h++}var l=parseInt(r,10);if(h===0||h+3>i)throw"MGRSPoint bad conversion from: "+t;var u=t.charAt(h++);if(u<="A"||u==="B"||u==="Y"||u>="Z"||u==="I"||u==="O")throw"MGRSPoint zone letter "+u+" not handled: "+t;s=t.substring(h,h+=2);for(var c=nf(l),_=Hm(s.charAt(0),c),g=$m(s.charAt(1),c);g<Wm(u);)g+=2e6;var m=i-h;if(m%2!==0)throw`MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters`+t;var p=m/2,M=0,S=0,P,A,B,j,V;return p>0&&(P=1e5/Math.pow(10,p),A=t.substring(h,h+p),M=parseFloat(A)*P,B=t.substring(h+p),S=parseFloat(B)*P),j=M+_,V=S+g,{easting:j,northing:V,zoneLetter:u,zoneNumber:l,accuracy:P}}function Hm(t,i){for(var s=Yu.charCodeAt(i-1),r=1e5,a=!1;s!==t.charCodeAt(0);){if(s++,s===Le&&s++,s===qe&&s++,s>vn){if(a)throw"Bad character: "+t;s=Ns,a=!0}r+=1e5}return r}function $m(t,i){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var s=tf.charCodeAt(i-1),r=0,a=!1;s!==t.charCodeAt(0);){if(s++,s===Le&&s++,s===qe&&s++,s>gn){if(a)throw"Bad character: "+t;s=Ns,a=!0}r+=1e5}return r}function Wm(t){var i;switch(t){case"C":i=11e5;break;case"D":i=2e6;break;case"E":i=28e5;break;case"F":i=37e5;break;case"G":i=46e5;break;case"H":i=55e5;break;case"J":i=64e5;break;case"K":i=73e5;break;case"L":i=82e5;break;case"M":i=91e5;break;case"N":i=0;break;case"P":i=8e5;break;case"Q":i=17e5;break;case"R":i=26e5;break;case"S":i=35e5;break;case"T":i=44e5;break;case"U":i=53e5;break;case"V":i=62e5;break;case"W":i=7e6;break;case"X":i=79e5;break;default:i=-1}if(i>=0)return i;throw"Invalid zone letter: "+t}function qs(t,i,s){if(!(this instanceof qs))return new qs(t,i,s);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof i>"u"){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=i,this.z=s||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}qs.fromMGRS=function(t){return new qs(sf(t))};qs.prototype.toMGRS=function(t){return ef([this.x,this.y],t)};var jm=1,Vm=.25,El=.046875,Cl=.01953125,Al=.01068115234375,Km=.75,Jm=.46875,Xm=.013020833333333334,Qm=.007120768229166667,Ym=.3645833333333333,t1=.005696614583333333,e1=.3076171875;function Go(t){var i=[];i[0]=jm-t*(Vm+t*(El+t*(Cl+t*Al))),i[1]=t*(Km-t*(El+t*(Cl+t*Al)));var s=t*t;return i[2]=s*(Jm-t*(Xm+t*Qm)),s*=t,i[3]=s*(Ym-t*t1),i[4]=s*t*e1,i}function Us(t,i,s,r){return s*=i,i*=i,r[0]*t-s*(r[1]+i*(r[2]+i*(r[3]+i*r[4])))}var i1=20;function No(t,i,s){for(var r=1/(1-i),a=t,h=i1;h;--h){var l=Math.sin(a),u=1-i*l*l;if(u=(Us(a,l,Math.cos(a),s)-t)*(u*Math.sqrt(u))*r,a-=u,Math.abs(u)<tt)return a}return a}function s1(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=Go(this.es),this.ml0=Us(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function n1(t){var i=t.x,s=t.y,r=et(i-this.long0),a,h,l,u=Math.sin(s),c=Math.cos(s);if(this.es){var g=c*r,m=Math.pow(g,2),p=this.ep2*Math.pow(c,2),M=Math.pow(p,2),S=Math.abs(c)>tt?Math.tan(s):0,P=Math.pow(S,2),A=Math.pow(P,2);a=1-this.es*Math.pow(u,2),g=g/Math.sqrt(a);var B=Us(s,u,c,this.en);h=this.a*(this.k0*g*(1+m/6*(1-P+p+m/20*(5-18*P+A+14*p-58*P*p+m/42*(61+179*A-A*P-479*P)))))+this.x0,l=this.a*(this.k0*(B-this.ml0+u*r*g/2*(1+m/12*(5-P+9*p+4*M+m/30*(61+A-58*P+270*p-330*P*p+m/56*(1385+543*A-A*P-3111*P))))))+this.y0}else{var _=c*Math.sin(r);if(Math.abs(Math.abs(_)-1)<tt)return 93;if(h=.5*this.a*this.k0*Math.log((1+_)/(1-_))+this.x0,l=c*Math.cos(r)/Math.sqrt(1-Math.pow(_,2)),_=Math.abs(l),_>=1){if(_-1>tt)return 93;l=0}else l=Math.acos(l);s<0&&(l=-l),l=this.a*this.k0*(l-this.lat0)+this.y0}return t.x=h,t.y=l,t}function r1(t){var i,s,r,a,h=(t.x-this.x0)*(1/this.a),l=(t.y-this.y0)*(1/this.a);if(this.es)if(i=this.ml0+l/this.k0,s=No(i,this.es,this.en),Math.abs(s)<W){var m=Math.sin(s),p=Math.cos(s),M=Math.abs(p)>tt?Math.tan(s):0,S=this.ep2*Math.pow(p,2),P=Math.pow(S,2),A=Math.pow(M,2),B=Math.pow(A,2);i=1-this.es*Math.pow(m,2);var j=h*Math.sqrt(i)/this.k0,V=Math.pow(j,2);i=i*M,r=s-i*V/(1-this.es)*.5*(1-V/12*(5+3*A-9*S*A+S-4*P-V/30*(61+90*A-252*S*A+45*B+46*S-V/56*(1385+3633*A+4095*B+1574*B*A)))),a=et(this.long0+j*(1-V/6*(1+2*A+S-V/20*(5+28*A+24*B+8*S*A+6*S-V/42*(61+662*A+1320*B+720*B*A))))/p)}else r=W*Vn(l),a=0;else{var u=Math.exp(h/this.k0),c=.5*(u-1/u),_=this.lat0+l/this.k0,g=Math.cos(_);i=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(c,2))),r=Math.asin(i),l<0&&(r=-r),c===0&&g===0?a=0:a=et(Math.atan2(c,g)+this.long0)}return t.x=a,t.y=r,t}var a1=["Fast_Transverse_Mercator","Fast Transverse Mercator"];const Cr={init:s1,forward:n1,inverse:r1,names:a1};function af(t){var i=Math.exp(t);return i=(i-1/i)/2,i}function Ne(t,i){t=Math.abs(t),i=Math.abs(i);var s=Math.max(t,i),r=Math.min(t,i)/(s||1);return s*Math.sqrt(1+Math.pow(r,2))}function o1(t){var i=1+t,s=i-1;return s===0?t:t*Math.log(i)/s}function h1(t){var i=Math.abs(t);return i=o1(i*(1+i/(Ne(1,i)+1))),t<0?-i:i}function Oo(t,i){for(var s=2*Math.cos(2*i),r=t.length-1,a=t[r],h=0,l;--r>=0;)l=-h+s*a+t[r],h=a,a=l;return i+l*Math.sin(2*i)}function l1(t,i){for(var s=2*Math.cos(i),r=t.length-1,a=t[r],h=0,l;--r>=0;)l=-h+s*a+t[r],h=a,a=l;return Math.sin(i)*l}function u1(t){var i=Math.exp(t);return i=(i+1/i)/2,i}function of(t,i,s){for(var r=Math.sin(i),a=Math.cos(i),h=af(s),l=u1(s),u=2*a*l,c=-2*r*h,_=t.length-1,g=t[_],m=0,p=0,M=0,S,P;--_>=0;)S=p,P=m,p=g,m=M,g=-S+u*p-c*m+t[_],M=-P+c*p+u*m;return u=r*l,c=a*h,[u*g-c*M,u*M+c*g]}function f1(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Cr.init.apply(this),this.forward=Cr.forward,this.inverse=Cr.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),i=t/(2-t),s=i;this.cgb[0]=i*(2+i*(-2/3+i*(-2+i*(116/45+i*(26/45+i*(-2854/675)))))),this.cbg[0]=i*(-2+i*(2/3+i*(4/3+i*(-82/45+i*(32/45+i*(4642/4725)))))),s=s*i,this.cgb[1]=s*(7/3+i*(-8/5+i*(-227/45+i*(2704/315+i*(2323/945))))),this.cbg[1]=s*(5/3+i*(-16/15+i*(-13/9+i*(904/315+i*(-1522/945))))),s=s*i,this.cgb[2]=s*(56/15+i*(-136/35+i*(-1262/105+i*(73814/2835)))),this.cbg[2]=s*(-26/15+i*(34/21+i*(8/5+i*(-12686/2835)))),s=s*i,this.cgb[3]=s*(4279/630+i*(-332/35+i*(-399572/14175))),this.cbg[3]=s*(1237/630+i*(-12/5+i*(-24832/14175))),s=s*i,this.cgb[4]=s*(4174/315+i*(-144838/6237)),this.cbg[4]=s*(-734/315+i*(109598/31185)),s=s*i,this.cgb[5]=s*(601676/22275),this.cbg[5]=s*(444337/155925),s=Math.pow(i,2),this.Qn=this.k0/(1+i)*(1+s*(1/4+s*(1/64+s/256))),this.utg[0]=i*(-.5+i*(2/3+i*(-37/96+i*(1/360+i*(81/512+i*(-96199/604800)))))),this.gtu[0]=i*(.5+i*(-2/3+i*(5/16+i*(41/180+i*(-127/288+i*(7891/37800)))))),this.utg[1]=s*(-1/48+i*(-1/15+i*(437/1440+i*(-46/105+i*(1118711/3870720))))),this.gtu[1]=s*(13/48+i*(-3/5+i*(557/1440+i*(281/630+i*(-1983433/1935360))))),s=s*i,this.utg[2]=s*(-17/480+i*(37/840+i*(209/4480+i*(-5569/90720)))),this.gtu[2]=s*(61/240+i*(-103/140+i*(15061/26880+i*(167603/181440)))),s=s*i,this.utg[3]=s*(-4397/161280+i*(11/504+i*(830251/7257600))),this.gtu[3]=s*(49561/161280+i*(-179/168+i*(6601661/7257600))),s=s*i,this.utg[4]=s*(-4583/161280+i*(108847/3991680)),this.gtu[4]=s*(34729/80640+i*(-3418889/1995840)),s=s*i,this.utg[5]=s*(-20648693/638668800),this.gtu[5]=s*(212378941/319334400);var r=Oo(this.cbg,this.lat0);this.Zb=-this.Qn*(r+l1(this.gtu,2*r))}function c1(t){var i=et(t.x-this.long0),s=t.y;s=Oo(this.cbg,s);var r=Math.sin(s),a=Math.cos(s),h=Math.sin(i),l=Math.cos(i);s=Math.atan2(r,l*a),i=Math.atan2(h*a,Ne(r,a*l)),i=h1(Math.tan(i));var u=of(this.gtu,2*s,2*i);s=s+u[0],i=i+u[1];var c,_;return Math.abs(i)<=2.623395162778?(c=this.a*(this.Qn*i)+this.x0,_=this.a*(this.Qn*s+this.Zb)+this.y0):(c=1/0,_=1/0),t.x=c,t.y=_,t}function d1(t){var i=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);s=(s-this.Zb)/this.Qn,i=i/this.Qn;var r,a;if(Math.abs(i)<=2.623395162778){var h=of(this.utg,2*s,2*i);s=s+h[0],i=i+h[1],i=Math.atan(af(i));var l=Math.sin(s),u=Math.cos(s),c=Math.sin(i),_=Math.cos(i);s=Math.atan2(l*_,Ne(c,_*u)),i=Math.atan2(c,_*u),r=et(i+this.long0),a=Oo(this.cgb,s)}else r=1/0,a=1/0;return t.x=r,t.y=a,t}var _1=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"];const Ar={init:f1,forward:c1,inverse:d1,names:_1};function m1(t,i){if(t===void 0){if(t=Math.floor((et(i)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var p1="etmerc";function g1(){var t=m1(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Ht,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Ar.init.apply(this),this.forward=Ar.forward,this.inverse=Ar.inverse}var v1=["Universal Transverse Mercator System","utm"];const y1={init:g1,names:v1,dependsOn:p1};function Ro(t,i){return Math.pow((1-t)/(1+t),i)}var M1=20;function w1(){var t=Math.sin(this.lat0),i=Math.cos(this.lat0);i*=i,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*i*i/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Dt)/(Math.pow(Math.tan(.5*this.lat0+Dt),this.C)*Ro(this.e*t,this.ratexp))}function x1(t){var i=t.x,s=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*s+Dt),this.C)*Ro(this.e*Math.sin(s),this.ratexp))-W,t.x=this.C*i,t}function P1(t){for(var i=1e-14,s=t.x/this.C,r=t.y,a=Math.pow(Math.tan(.5*r+Dt)/this.K,1/this.C),h=M1;h>0&&(r=2*Math.atan(a*Ro(this.e*Math.sin(t.y),-.5*this.e))-W,!(Math.abs(r-t.y)<i));--h)t.y=r;return h?(t.x=s,t.y=r,t):null}const ko={init:w1,forward:x1,inverse:P1};function S1(){ko.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function b1(t){var i,s,r,a;return t.x=et(t.x-this.long0),ko.forward.apply(this,[t]),i=Math.sin(t.y),s=Math.cos(t.y),r=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*i+this.cosc0*s*r),t.x=a*s*Math.sin(t.x),t.y=a*(this.cosc0*i-this.sinc0*s*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function E1(t){var i,s,r,a,h;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,h=Ne(t.x,t.y)){var l=2*Math.atan2(h,this.R2);i=Math.sin(l),s=Math.cos(l),a=Math.asin(s*this.sinc0+t.y*i*this.cosc0/h),r=Math.atan2(t.x*i,h*this.cosc0*s-t.y*this.sinc0*i)}else a=this.phic0,r=0;return t.x=r,t.y=a,ko.inverse.apply(this,[t]),t.x=et(t.x+this.long0),t}var C1=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"];const A1={init:S1,forward:b1,inverse:E1,names:C1};function L1(t,i,s){return i*=s,Math.tan(.5*(W+t))*Math.pow((1-i)/(1+i),.5*s)}function T1(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=tt&&(this.k0=.5*(1+Vn(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=tt&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=tt&&Math.abs(Math.cos(this.lat_ts))>tt&&(this.k0=.5*this.cons*ri(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Ve(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ri(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-W,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function I1(t){var i=t.x,s=t.y,r=Math.sin(s),a=Math.cos(s),h,l,u,c,_,g,m=et(i-this.long0);return Math.abs(Math.abs(i-this.long0)-Math.PI)<=tt&&Math.abs(s+this.lat0)<=tt?(t.x=NaN,t.y=NaN,t):this.sphere?(h=2*this.k0/(1+this.sinlat0*r+this.coslat0*a*Math.cos(m)),t.x=this.a*h*a*Math.sin(m)+this.x0,t.y=this.a*h*(this.coslat0*r-this.sinlat0*a*Math.cos(m))+this.y0,t):(l=2*Math.atan(this.ssfn_(s,r,this.e))-W,c=Math.cos(l),u=Math.sin(l),Math.abs(this.coslat0)<=tt?(_=Ve(this.e,s*this.con,this.con*r),g=2*this.a*this.k0*_/this.cons,t.x=this.x0+g*Math.sin(i-this.long0),t.y=this.y0-this.con*g*Math.cos(i-this.long0),t):(Math.abs(this.sinlat0)<tt?(h=2*this.a*this.k0/(1+c*Math.cos(m)),t.y=h*u):(h=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*u+this.cosX0*c*Math.cos(m))),t.y=h*(this.cosX0*u-this.sinX0*c*Math.cos(m))+this.y0),t.x=h*c*Math.sin(m)+this.x0,t))}function G1(t){t.x-=this.x0,t.y-=this.y0;var i,s,r,a,h,l=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(l/(2*this.a*this.k0));return i=this.long0,s=this.lat0,l<=tt?(t.x=i,t.y=s,t):(s=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/l),Math.abs(this.coslat0)<tt?this.lat0>0?i=et(this.long0+Math.atan2(t.x,-1*t.y)):i=et(this.long0+Math.atan2(t.x,t.y)):i=et(this.long0+Math.atan2(t.x*Math.sin(u),l*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=i,t.y=s,t)}else if(Math.abs(this.coslat0)<=tt){if(l<=tt)return s=this.lat0,i=this.long0,t.x=i,t.y=s,t;t.x*=this.con,t.y*=this.con,r=l*this.cons/(2*this.a*this.k0),s=this.con*Un(this.e,r),i=this.con*et(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(l*this.cosX0/(2*this.a*this.k0*this.ms1)),i=this.long0,l<=tt?h=this.X0:(h=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/l),i=et(this.long0+Math.atan2(t.x*Math.sin(a),l*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),s=-1*Un(this.e,Math.tan(.5*(W+h)));return t.x=i,t.y=s,t}var N1=["stere","Stereographic_South_Pole","Polar_Stereographic_variant_A","Polar_Stereographic_variant_B","Polar_Stereographic"];const O1={init:T1,forward:I1,inverse:G1,names:N1,ssfn_:L1};function R1(){var t=this.lat0;this.lambda0=this.long0;var i=Math.sin(t),s=this.a,r=this.rf,a=1/r,h=2*a-Math.pow(a,2),l=this.e=Math.sqrt(h);this.R=this.k0*s*Math.sqrt(1-h)/(1-h*Math.pow(i,2)),this.alpha=Math.sqrt(1+h/(1-h)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(i/this.alpha);var u=Math.log(Math.tan(Math.PI/4+this.b0/2)),c=Math.log(Math.tan(Math.PI/4+t/2)),_=Math.log((1+l*i)/(1-l*i));this.K=u-this.alpha*c+this.alpha*l/2*_}function k1(t){var i=Math.log(Math.tan(Math.PI/4-t.y/2)),s=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(i+s)+this.K,a=2*(Math.atan(Math.exp(r))-Math.PI/4),h=this.alpha*(t.x-this.lambda0),l=Math.atan(Math.sin(h)/(Math.sin(this.b0)*Math.tan(a)+Math.cos(this.b0)*Math.cos(h))),u=Math.asin(Math.cos(this.b0)*Math.sin(a)-Math.sin(this.b0)*Math.cos(a)*Math.cos(h));return t.y=this.R/2*Math.log((1+Math.sin(u))/(1-Math.sin(u)))+this.y0,t.x=this.R*l+this.x0,t}function D1(t){for(var i=t.x-this.x0,s=t.y-this.y0,r=i/this.R,a=2*(Math.atan(Math.exp(s/this.R))-Math.PI/4),h=Math.asin(Math.cos(this.b0)*Math.sin(a)+Math.sin(this.b0)*Math.cos(a)*Math.cos(r)),l=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(a))),u=this.lambda0+l/this.alpha,c=0,_=h,g=-1e3,m=0;Math.abs(_-g)>1e-7;){if(++m>20)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+h/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(_))/2)),g=_,_=2*Math.atan(Math.exp(c))-Math.PI/2}return t.x=u,t.y=_,t}var z1=["somerc"];const B1={init:R1,forward:k1,inverse:D1,names:z1};var Ts=1e-7;function F1(t){var i=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],s=typeof t.projName=="object"?Object.keys(t.projName)[0]:t.projName;return"no_uoff"in t||"no_off"in t||i.indexOf(s)!==-1||i.indexOf(Vu(s))!==-1}function Z1(){var t,i,s,r,a,h,l,u,c,_,g=0,m,p=0,M=0,S=0,P=0,A=0,B=0;this.no_off=F1(this),this.no_rot="no_rot"in this;var j=!1;"alpha"in this&&(j=!0);var V=!1;if("rectified_grid_angle"in this&&(V=!0),j&&(B=this.alpha),V&&(g=this.rectified_grid_angle),j||V)p=this.longc;else if(M=this.long1,P=this.lat1,S=this.long2,A=this.lat2,Math.abs(P-A)<=Ts||(t=Math.abs(P))<=Ts||Math.abs(t-W)<=Ts||Math.abs(Math.abs(this.lat0)-W)<=Ts||Math.abs(Math.abs(A)-W)<=Ts)throw new Error;var Q=1-this.es;i=Math.sqrt(Q),Math.abs(this.lat0)>tt?(u=Math.sin(this.lat0),s=Math.cos(this.lat0),t=1-this.es*u*u,this.B=s*s,this.B=Math.sqrt(1+this.es*this.B*this.B/Q),this.A=this.B*this.k0*i/t,r=this.B*i/(s*Math.sqrt(t)),a=r*r-1,a<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=r,this.E*=Math.pow(Ve(this.e,this.lat0,u),this.B)):(this.B=1/i,this.A=this.k0,this.E=r=a=1),j||V?(j?(m=Math.asin(Math.sin(B)/r),V||(g=B)):(m=g,B=Math.asin(r*Math.sin(m))),this.lam0=p-Math.asin(.5*(a-1/a)*Math.tan(m))/this.B):(h=Math.pow(Ve(this.e,P,Math.sin(P)),this.B),l=Math.pow(Ve(this.e,A,Math.sin(A)),this.B),a=this.E/h,c=(l-h)/(l+h),_=this.E*this.E,_=(_-l*h)/(_+l*h),t=M-S,t<-Math.pi?S-=Zn:t>Math.pi&&(S+=Zn),this.lam0=et(.5*(M+S)-Math.atan(_*Math.tan(.5*this.B*(M-S))/c)/this.B),m=Math.atan(2*Math.sin(this.B*et(M-this.lam0))/(a-1/a)),g=B=Math.asin(r*Math.sin(m))),this.singam=Math.sin(m),this.cosgam=Math.cos(m),this.sinrot=Math.sin(g),this.cosrot=Math.cos(g),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(r*r-1)/Math.cos(B))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*m,this.v_pole_n=this.ArB*Math.log(Math.tan(Dt-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(Dt+a))}function q1(t){var i={},s,r,a,h,l,u,c,_;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-W)>tt){if(l=this.E/Math.pow(Ve(this.e,t.y,Math.sin(t.y)),this.B),u=1/l,s=.5*(l-u),r=.5*(l+u),h=Math.sin(this.B*t.x),a=(s*this.singam-h*this.cosgam)/r,Math.abs(Math.abs(a)-1)<tt)throw new Error;_=.5*this.ArB*Math.log((1-a)/(1+a)),u=Math.cos(this.B*t.x),Math.abs(u)<Ts?c=this.A*t.x:c=this.ArB*Math.atan2(s*this.cosgam+h*this.singam,u)}else _=t.y>0?this.v_pole_n:this.v_pole_s,c=this.ArB*t.y;return this.no_rot?(i.x=c,i.y=_):(c-=this.u_0,i.x=_*this.cosrot+c*this.sinrot,i.y=c*this.cosrot-_*this.sinrot),i.x=this.a*i.x+this.x0,i.y=this.a*i.y+this.y0,i}function U1(t){var i,s,r,a,h,l,u,c={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(s=t.y,i=t.x):(s=t.x*this.cosrot-t.y*this.sinrot,i=t.y*this.cosrot+t.x*this.sinrot+this.u_0),r=Math.exp(-this.BrA*s),a=.5*(r-1/r),h=.5*(r+1/r),l=Math.sin(this.BrA*i),u=(l*this.cosgam+a*this.singam)/h,Math.abs(Math.abs(u)-1)<tt)c.x=0,c.y=u<0?-W:W;else{if(c.y=this.E/Math.sqrt((1+u)/(1-u)),c.y=Un(this.e,Math.pow(c.y,1/this.B)),c.y===1/0)throw new Error;c.x=-this.rB*Math.atan2(a*this.cosgam-l*this.singam,Math.cos(this.BrA*i))}return c.x+=this.lam0,c}var H1=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_variant_A","Hotine_Oblique_Mercator_Variant_B","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"];const $1={init:Z1,forward:q1,inverse:U1,names:H1};function W1(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<tt)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var i=Math.sin(this.lat1),s=Math.cos(this.lat1),r=ri(this.e,i,s),a=Ve(this.e,this.lat1,i),h=Math.sin(this.lat2),l=Math.cos(this.lat2),u=ri(this.e,h,l),c=Ve(this.e,this.lat2,h),_=Math.abs(Math.abs(this.lat0)-W)<tt?0:Ve(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>tt?this.ns=Math.log(r/u)/Math.log(a/c):this.ns=i,isNaN(this.ns)&&(this.ns=i),this.f0=r/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(_,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function j1(t){var i=t.x,s=t.y;Math.abs(2*Math.abs(s)-Math.PI)<=tt&&(s=Vn(s)*(W-2*tt));var r=Math.abs(Math.abs(s)-W),a,h;if(r>tt)a=Ve(this.e,s,Math.sin(s)),h=this.a*this.f0*Math.pow(a,this.ns);else{if(r=s*this.ns,r<=0)return null;h=0}var l=this.ns*et(i-this.long0);return t.x=this.k0*(h*Math.sin(l))+this.x0,t.y=this.k0*(this.rh-h*Math.cos(l))+this.y0,t}function V1(t){var i,s,r,a,h,l=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(i=Math.sqrt(l*l+u*u),s=1):(i=-Math.sqrt(l*l+u*u),s=-1);var c=0;if(i!==0&&(c=Math.atan2(s*l,s*u)),i!==0||this.ns>0){if(s=1/this.ns,r=Math.pow(i/(this.a*this.f0),s),a=Un(this.e,r),a===-9999)return null}else a=-W;return h=et(c/this.ns+this.long0),t.x=h,t.y=a,t}var K1=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"];const J1={init:W1,forward:j1,inverse:V1,names:K1};function X1(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Q1(t){var i,s,r,a,h,l,u,c=t.x,_=t.y,g=et(c-this.long0);return i=Math.pow((1+this.e*Math.sin(_))/(1-this.e*Math.sin(_)),this.alfa*this.e/2),s=2*(Math.atan(this.k*Math.pow(Math.tan(_/2+this.s45),this.alfa)/i)-this.s45),r=-g*this.alfa,a=Math.asin(Math.cos(this.ad)*Math.sin(s)+Math.sin(this.ad)*Math.cos(s)*Math.cos(r)),h=Math.asin(Math.cos(s)*Math.sin(r)/Math.cos(a)),l=this.n*h,u=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(a/2+this.s45),this.n),t.y=u*Math.cos(l)/1,t.x=u*Math.sin(l)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Y1(t){var i,s,r,a,h,l,u,c,_=t.x;t.x=t.y,t.y=_,this.czech||(t.y*=-1,t.x*=-1),l=Math.sqrt(t.x*t.x+t.y*t.y),h=Math.atan2(t.y,t.x),a=h/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/l,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),i=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(a)),s=Math.asin(Math.cos(r)*Math.sin(a)/Math.cos(i)),t.x=this.long0-s/this.alfa,u=i,c=0;var g=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(i/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.e/2))-this.s45),Math.abs(u-t.y)<1e-10&&(c=1),u=t.y,g+=1;while(c===0&&g<15);return g>=15?null:t}var tp=["Krovak","krovak"];const ep={init:X1,forward:Q1,inverse:Y1,names:tp};function Ee(t,i,s,r,a){return t*a-i*Math.sin(2*a)+s*Math.sin(4*a)-r*Math.sin(6*a)}function Kn(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Jn(t){return .375*t*(1+.25*t*(1+.46875*t))}function Xn(t){return .05859375*t*t*(1+.75*t)}function Qn(t){return t*t*t*(35/3072)}function Do(t,i,s){var r=i*s;return t/Math.sqrt(1-r*r)}function Ui(t){return Math.abs(t)<W?t:t-Vn(t)*Math.PI}function qr(t,i,s,r,a){var h,l;h=t/i;for(var u=0;u<15;u++)if(l=(t-(i*h-s*Math.sin(2*h)+r*Math.sin(4*h)-a*Math.sin(6*h)))/(i-2*s*Math.cos(2*h)+4*r*Math.cos(4*h)-6*a*Math.cos(6*h)),h+=l,Math.abs(l)<=1e-10)return h;return NaN}function ip(){this.sphere||(this.e0=Kn(this.es),this.e1=Jn(this.es),this.e2=Xn(this.es),this.e3=Qn(this.es),this.ml0=this.a*Ee(this.e0,this.e1,this.e2,this.e3,this.lat0))}function sp(t){var i,s,r=t.x,a=t.y;if(r=et(r-this.long0),this.sphere)i=this.a*Math.asin(Math.cos(a)*Math.sin(r)),s=this.a*(Math.atan2(Math.tan(a),Math.cos(r))-this.lat0);else{var h=Math.sin(a),l=Math.cos(a),u=Do(this.a,this.e,h),c=Math.tan(a)*Math.tan(a),_=r*Math.cos(a),g=_*_,m=this.es*l*l/(1-this.es),p=this.a*Ee(this.e0,this.e1,this.e2,this.e3,a);i=u*_*(1-g*c*(1/6-(8-c+8*m)*g/120)),s=p-this.ml0+u*h/l*g*(.5+(5-c+6*m)*g/24)}return t.x=i+this.x0,t.y=s+this.y0,t}function np(t){t.x-=this.x0,t.y-=this.y0;var i=t.x/this.a,s=t.y/this.a,r,a;if(this.sphere){var h=s+this.lat0;r=Math.asin(Math.sin(h)*Math.cos(i)),a=Math.atan2(Math.tan(i),Math.cos(h))}else{var l=this.ml0/this.a+s,u=qr(l,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(u)-W)<=tt)return t.x=this.long0,t.y=W,s<0&&(t.y*=-1),t;var c=Do(this.a,this.e,Math.sin(u)),_=c*c*c/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(u),2),m=i*this.a/c,p=m*m;r=u-c*Math.tan(u)/_*m*m*(.5-(1+3*g)*m*m/24),a=m*(1-p*(g/3+(1+3*g)*g*p/15))/Math.cos(u)}return t.x=et(a+this.long0),t.y=Ui(r),t}var rp=["Cassini","Cassini_Soldner","cass"];const ap={init:ip,forward:sp,inverse:np,names:rp};function Di(t,i){var s;return t>1e-7?(s=t*i,(1-t*t)*(i/(1-s*s)-.5/t*Math.log((1-s)/(1+s)))):2*i}var op=1,hp=2,lp=3,up=4;function fp(){var t=Math.abs(this.lat0);if(Math.abs(t-W)<tt?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<tt?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var i;switch(this.qp=Di(this.e,1),this.mmf=.5/(1-this.es),this.apa=Mp(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),i=Math.sin(this.lat0),this.sinb1=Di(this.e,i)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*i*i)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function cp(t){var i,s,r,a,h,l,u,c,_,g,m=t.x,p=t.y;if(m=et(m-this.long0),this.sphere){if(h=Math.sin(p),g=Math.cos(p),r=Math.cos(m),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(s=this.mode===this.EQUIT?1+g*r:1+this.sinph0*h+this.cosph0*g*r,s<=tt)return null;s=Math.sqrt(2/s),i=s*g*Math.sin(m),s*=this.mode===this.EQUIT?h:this.cosph0*h-this.sinph0*g*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(p+this.lat0)<tt)return null;s=Dt-p*.5,s=2*(this.mode===this.S_POLE?Math.cos(s):Math.sin(s)),i=s*Math.sin(m),s*=r}}else{switch(u=0,c=0,_=0,r=Math.cos(m),a=Math.sin(m),h=Math.sin(p),l=Di(this.e,h),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(u=l/this.qp,c=Math.sqrt(1-u*u)),this.mode){case this.OBLIQ:_=1+this.sinb1*u+this.cosb1*c*r;break;case this.EQUIT:_=1+c*r;break;case this.N_POLE:_=W+p,l=this.qp-l;break;case this.S_POLE:_=p-W,l=this.qp+l;break}if(Math.abs(_)<tt)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:_=Math.sqrt(2/_),this.mode===this.OBLIQ?s=this.ymf*_*(this.cosb1*u-this.sinb1*c*r):s=(_=Math.sqrt(2/(1+c*r)))*u*this.ymf,i=this.xmf*_*c*a;break;case this.N_POLE:case this.S_POLE:l>=0?(i=(_=Math.sqrt(l))*a,s=r*(this.mode===this.S_POLE?_:-_)):i=s=0;break}}return t.x=this.a*i+this.x0,t.y=this.a*s+this.y0,t}function dp(t){t.x-=this.x0,t.y-=this.y0;var i=t.x/this.a,s=t.y/this.a,r,a,h,l,u,c,_;if(this.sphere){var g=0,m,p=0;if(m=Math.sqrt(i*i+s*s),a=m*.5,a>1)return null;switch(a=2*Math.asin(a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(p=Math.sin(a),g=Math.cos(a)),this.mode){case this.EQUIT:a=Math.abs(m)<=tt?0:Math.asin(s*p/m),i*=p,s=g*m;break;case this.OBLIQ:a=Math.abs(m)<=tt?this.lat0:Math.asin(g*this.sinph0+s*p*this.cosph0/m),i*=p*this.cosph0,s=(g-Math.sin(a)*this.sinph0)*m;break;case this.N_POLE:s=-s,a=W-a;break;case this.S_POLE:a-=W;break}r=s===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(i,s)}else{if(_=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i/=this.dd,s*=this.dd,c=Math.sqrt(i*i+s*s),c<tt)return t.x=this.long0,t.y=this.lat0,t;l=2*Math.asin(.5*c/this.rq),h=Math.cos(l),i*=l=Math.sin(l),this.mode===this.OBLIQ?(_=h*this.sinb1+s*l*this.cosb1/c,u=this.qp*_,s=c*this.cosb1*h-s*this.sinb1*l):(_=s*l/c,u=this.qp*_,s=c*h)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(s=-s),u=i*i+s*s,!u)return t.x=this.long0,t.y=this.lat0,t;_=1-u/this.qp,this.mode===this.S_POLE&&(_=-_)}r=Math.atan2(i,s),a=wp(Math.asin(_),this.apa)}return t.x=et(this.long0+r),t.y=a,t}var _p=.3333333333333333,mp=.17222222222222222,pp=.10257936507936508,gp=.06388888888888888,vp=.0664021164021164,yp=.016415012942191543;function Mp(t){var i,s=[];return s[0]=t*_p,i=t*t,s[0]+=i*mp,s[1]=i*gp,i*=t,s[0]+=i*pp,s[1]+=i*vp,s[2]=i*yp,s}function wp(t,i){var s=t+t;return t+i[0]*Math.sin(s)+i[1]*Math.sin(s+s)+i[2]*Math.sin(s+s+s)}var xp=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"];const Pp={init:fp,forward:cp,inverse:dp,names:xp,S_POLE:op,N_POLE:hp,EQUIT:lp,OBLIQ:up};function Fi(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Sp(){Math.abs(this.lat1+this.lat2)<tt||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=ri(this.e3,this.sin_po,this.cos_po),this.qs1=Di(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ri(this.e3,this.sin_po,this.cos_po),this.qs2=Di(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Di(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>tt?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function bp(t){var i=t.x,s=t.y;this.sin_phi=Math.sin(s),this.cos_phi=Math.cos(s);var r=Di(this.e3,this.sin_phi),a=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,h=this.ns0*et(i-this.long0),l=a*Math.sin(h)+this.x0,u=this.rh-a*Math.cos(h)+this.y0;return t.x=l,t.y=u,t}function Ep(t){var i,s,r,a,h,l;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),a=0,i!==0&&(a=Math.atan2(r*t.x,r*t.y)),r=i*this.ns0/this.a,this.sphere?l=Math.asin((this.c-r*r)/(2*this.ns0)):(s=(this.c-r*r)/this.ns0,l=this.phi1z(this.e3,s)),h=et(a/this.ns0+this.long0),t.x=h,t.y=l,t}function Cp(t,i){var s,r,a,h,l,u=Fi(.5*i);if(t<tt)return u;for(var c=t*t,_=1;_<=25;_++)if(s=Math.sin(u),r=Math.cos(u),a=t*s,h=1-a*a,l=.5*h*h/r*(i/(1-c)-s/h+.5/t*Math.log((1-a)/(1+a))),u=u+l,Math.abs(l)<=1e-7)return u;return null}var Ap=["Albers_Conic_Equal_Area","Albers_Equal_Area","Albers","aea"];const Lp={init:Sp,forward:bp,inverse:Ep,names:Ap,phi1z:Cp};function Tp(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function Ip(t){var i,s,r,a,h,l,u,c,_=t.x,g=t.y;return r=et(_-this.long0),i=Math.sin(g),s=Math.cos(g),a=Math.cos(r),l=this.sin_p14*i+this.cos_p14*s*a,h=1,l>0||Math.abs(l)<=tt?(u=this.x0+this.a*h*s*Math.sin(r)/l,c=this.y0+this.a*h*(this.cos_p14*i-this.sin_p14*s*a)/l):(u=this.x0+this.infinity_dist*s*Math.sin(r),c=this.y0+this.infinity_dist*(this.cos_p14*i-this.sin_p14*s*a)),t.x=u,t.y=c,t}function Gp(t){var i,s,r,a,h,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(i=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(i,this.rc),s=Math.sin(a),r=Math.cos(a),l=Fi(r*this.sin_p14+t.y*s*this.cos_p14/i),h=Math.atan2(t.x*s,i*this.cos_p14*r-t.y*this.sin_p14*s),h=et(this.long0+h)):(l=this.phic0,h=0),t.x=h,t.y=l,t}var Np=["gnom"];const Op={init:Tp,forward:Ip,inverse:Gp,names:Np};function Rp(t,i){var s=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(i)-s)<1e-6)return i<0?-1*W:W;for(var r=Math.asin(.5*i),a,h,l,u,c=0;c<30;c++)if(h=Math.sin(r),l=Math.cos(r),u=t*h,a=Math.pow(1-u*u,2)/(2*l)*(i/(1-t*t)-h/(1-u*u)+.5/t*Math.log((1-u)/(1+u))),r+=a,Math.abs(a)<=1e-10)return r;return NaN}function kp(){this.sphere||(this.k0=ri(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function Dp(t){var i=t.x,s=t.y,r,a,h=et(i-this.long0);if(this.sphere)r=this.x0+this.a*h*Math.cos(this.lat_ts),a=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var l=Di(this.e,Math.sin(s));r=this.x0+this.a*this.k0*h,a=this.y0+this.a*l*.5/this.k0}return t.x=r,t.y=a,t}function zp(t){t.x-=this.x0,t.y-=this.y0;var i,s;return this.sphere?(i=et(this.long0+t.x/this.a/Math.cos(this.lat_ts)),s=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(s=Rp(this.e,2*t.y*this.k0/this.a),i=et(this.long0+t.x/(this.a*this.k0))),t.x=i,t.y=s,t}var Bp=["cea"];const Fp={init:kp,forward:Dp,inverse:zp,names:Bp};function Zp(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function qp(t){var i=t.x,s=t.y,r=et(i-this.long0),a=Ui(s-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*a,t}function Up(t){var i=t.x,s=t.y;return t.x=et(this.long0+(i-this.x0)/(this.a*this.rc)),t.y=Ui(this.lat0+(s-this.y0)/this.a),t}var Hp=["Equirectangular","Equidistant_Cylindrical","Equidistant_Cylindrical_Spherical","eqc"];const $p={init:Zp,forward:qp,inverse:Up,names:Hp};var Ll=20;function Wp(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kn(this.es),this.e1=Jn(this.es),this.e2=Xn(this.es),this.e3=Qn(this.es),this.ml0=this.a*Ee(this.e0,this.e1,this.e2,this.e3,this.lat0)}function jp(t){var i=t.x,s=t.y,r,a,h,l=et(i-this.long0);if(h=l*Math.sin(s),this.sphere)Math.abs(s)<=tt?(r=this.a*l,a=-1*this.a*this.lat0):(r=this.a*Math.sin(h)/Math.tan(s),a=this.a*(Ui(s-this.lat0)+(1-Math.cos(h))/Math.tan(s)));else if(Math.abs(s)<=tt)r=this.a*l,a=-1*this.ml0;else{var u=Do(this.a,this.e,Math.sin(s))/Math.tan(s);r=u*Math.sin(h),a=this.a*Ee(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+u*(1-Math.cos(h))}return t.x=r+this.x0,t.y=a+this.y0,t}function Vp(t){var i,s,r,a,h,l,u,c,_;if(r=t.x-this.x0,a=t.y-this.y0,this.sphere)if(Math.abs(a+this.a*this.lat0)<=tt)i=et(r/this.a+this.long0),s=0;else{l=this.lat0+a/this.a,u=r*r/this.a/this.a+l*l,c=l;var g;for(h=Ll;h;--h)if(g=Math.tan(c),_=-1*(l*(c*g+1)-c-.5*(c*c+u)*g)/((c-l)/g-1),c+=_,Math.abs(_)<=tt){s=c;break}i=et(this.long0+Math.asin(r*Math.tan(c)/this.a)/Math.sin(s))}else if(Math.abs(a+this.ml0)<=tt)s=0,i=et(this.long0+r/this.a);else{l=(this.ml0+a)/this.a,u=r*r/this.a/this.a+l*l,c=l;var m,p,M,S,P;for(h=Ll;h;--h)if(P=this.e*Math.sin(c),m=Math.sqrt(1-P*P)*Math.tan(c),p=this.a*Ee(this.e0,this.e1,this.e2,this.e3,c),M=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),S=p/this.a,_=(l*(m*S+1)-S-.5*m*(S*S+u))/(this.es*Math.sin(2*c)*(S*S+u-2*l*S)/(4*m)+(l-S)*(m*M-2/Math.sin(2*c))-M),c-=_,Math.abs(_)<=tt){s=c;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(s),2))*Math.tan(s),i=et(this.long0+Math.asin(r*m/this.a)/Math.sin(s))}return t.x=i,t.y=s,t}var Kp=["Polyconic","American_Polyconic","poly"];const Jp={init:Wp,forward:jp,inverse:Vp,names:Kp};function Xp(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Qp(t){var i,s=t.x,r=t.y,a=r-this.lat0,h=s-this.long0,l=a/An*1e-5,u=h,c=1,_=0;for(i=1;i<=10;i++)c=c*l,_=_+this.A[i]*c;var g=_,m=u,p=1,M=0,S,P,A=0,B=0;for(i=1;i<=6;i++)S=p*g-M*m,P=M*g+p*m,p=S,M=P,A=A+this.B_re[i]*p-this.B_im[i]*M,B=B+this.B_im[i]*p+this.B_re[i]*M;return t.x=B*this.a+this.x0,t.y=A*this.a+this.y0,t}function Yp(t){var i,s=t.x,r=t.y,a=s-this.x0,h=r-this.y0,l=h/this.a,u=a/this.a,c=1,_=0,g,m,p=0,M=0;for(i=1;i<=6;i++)g=c*l-_*u,m=_*l+c*u,c=g,_=m,p=p+this.C_re[i]*c-this.C_im[i]*_,M=M+this.C_im[i]*c+this.C_re[i]*_;for(var S=0;S<this.iterations;S++){var P=p,A=M,B,j,V=l,Q=u;for(i=2;i<=6;i++)B=P*p-A*M,j=A*p+P*M,P=B,A=j,V=V+(i-1)*(this.B_re[i]*P-this.B_im[i]*A),Q=Q+(i-1)*(this.B_im[i]*P+this.B_re[i]*A);P=1,A=0;var lt=this.B_re[1],pt=this.B_im[1];for(i=2;i<=6;i++)B=P*p-A*M,j=A*p+P*M,P=B,A=j,lt=lt+i*(this.B_re[i]*P-this.B_im[i]*A),pt=pt+i*(this.B_im[i]*P+this.B_re[i]*A);var Tt=lt*lt+pt*pt;p=(V*lt+Q*pt)/Tt,M=(Q*lt-V*pt)/Tt}var Gt=p,ut=M,vt=1,ft=0;for(i=1;i<=9;i++)vt=vt*Gt,ft=ft+this.D[i]*vt;var X=this.lat0+ft*An*1e5,Ct=this.long0+ut;return t.x=Ct,t.y=X,t}var tg=["New_Zealand_Map_Grid","nzmg"];const eg={init:Xp,forward:Qp,inverse:Yp,names:tg};function ig(){}function sg(t){var i=t.x,s=t.y,r=et(i-this.long0),a=this.x0+this.a*r,h=this.y0+this.a*Math.log(Math.tan(Math.PI/4+s/2.5))*1.25;return t.x=a,t.y=h,t}function ng(t){t.x-=this.x0,t.y-=this.y0;var i=et(this.long0+t.x/this.a),s=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=i,t.y=s,t}var rg=["Miller_Cylindrical","mill"];const ag={init:ig,forward:sg,inverse:ng,names:rg};var og=20;function hg(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Go(this.es)}function lg(t){var i,s,r=t.x,a=t.y;if(r=et(r-this.long0),this.sphere){if(!this.m)a=this.n!==1?Math.asin(this.n*Math.sin(a)):a;else for(var h=this.n*Math.sin(a),l=og;l;--l){var u=(this.m*a+Math.sin(a)-h)/(this.m+Math.cos(a));if(a-=u,Math.abs(u)<tt)break}i=this.a*this.C_x*r*(this.m+Math.cos(a)),s=this.a*this.C_y*a}else{var c=Math.sin(a),_=Math.cos(a);s=this.a*Us(a,c,_,this.en),i=this.a*r*_/Math.sqrt(1-this.es*c*c)}return t.x=i,t.y=s,t}function ug(t){var i,s,r,a;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,i=t.y/this.a,this.sphere?(i/=this.C_y,r=r/(this.C_x*(this.m+Math.cos(i))),this.m?i=Fi((this.m*i+Math.sin(i))/this.n):this.n!==1&&(i=Fi(Math.sin(i)/this.n)),r=et(r+this.long0),i=Ui(i)):(i=No(t.y/this.a,this.es,this.en),a=Math.abs(i),a<W?(a=Math.sin(i),s=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(i)),r=et(s)):a-tt<W&&(r=this.long0)),t.x=r,t.y=i,t}var fg=["Sinusoidal","sinu"];const cg={init:hg,forward:lg,inverse:ug,names:fg};function dg(){}function _g(t){for(var i=t.x,s=t.y,r=et(i-this.long0),a=s,h=Math.PI*Math.sin(s);;){var l=-(a+Math.sin(a)-h)/(1+Math.cos(a));if(a+=l,Math.abs(l)<tt)break}a/=2,Math.PI/2-Math.abs(s)<tt&&(r=0);var u=.900316316158*this.a*r*Math.cos(a)+this.x0,c=1.4142135623731*this.a*Math.sin(a)+this.y0;return t.x=u,t.y=c,t}function mg(t){var i,s;t.x-=this.x0,t.y-=this.y0,s=t.y/(1.4142135623731*this.a),Math.abs(s)>.999999999999&&(s=.999999999999),i=Math.asin(s);var r=et(this.long0+t.x/(.900316316158*this.a*Math.cos(i)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),s=(2*i+Math.sin(2*i))/Math.PI,Math.abs(s)>1&&(s=1);var a=Math.asin(s);return t.x=r,t.y=a,t}var pg=["Mollweide","moll"];const gg={init:dg,forward:_g,inverse:mg,names:pg};function vg(){Math.abs(this.lat1+this.lat2)<tt||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Kn(this.es),this.e1=Jn(this.es),this.e2=Xn(this.es),this.e3=Qn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ri(this.e,this.sinphi,this.cosphi),this.ml1=Ee(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<tt?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ri(this.e,this.sinphi,this.cosphi),this.ml2=Ee(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ee(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function yg(t){var i=t.x,s=t.y,r;if(this.sphere)r=this.a*(this.g-s);else{var a=Ee(this.e0,this.e1,this.e2,this.e3,s);r=this.a*(this.g-a)}var h=this.ns*et(i-this.long0),l=this.x0+r*Math.sin(h),u=this.y0+this.rh-r*Math.cos(h);return t.x=l,t.y=u,t}function Mg(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var i,s,r,a;this.ns>=0?(s=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(s=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1);var h=0;if(s!==0&&(h=Math.atan2(i*t.x,i*t.y)),this.sphere)return a=et(this.long0+h/this.ns),r=Ui(this.g-s/this.a),t.x=a,t.y=r,t;var l=this.g-s/this.a;return r=qr(l,this.e0,this.e1,this.e2,this.e3),a=et(this.long0+h/this.ns),t.x=a,t.y=r,t}var wg=["Equidistant_Conic","eqdc"];const xg={init:vg,forward:yg,inverse:Mg,names:wg};function Pg(){this.R=this.a}function Sg(t){var i=t.x,s=t.y,r=et(i-this.long0),a,h;Math.abs(s)<=tt&&(a=this.x0+this.R*r,h=this.y0);var l=Fi(2*Math.abs(s/Math.PI));(Math.abs(r)<=tt||Math.abs(Math.abs(s)-W)<=tt)&&(a=this.x0,s>=0?h=this.y0+Math.PI*this.R*Math.tan(.5*l):h=this.y0+Math.PI*this.R*-Math.tan(.5*l));var u=.5*Math.abs(Math.PI/r-r/Math.PI),c=u*u,_=Math.sin(l),g=Math.cos(l),m=g/(_+g-1),p=m*m,M=m*(2/_-1),S=M*M,P=Math.PI*this.R*(u*(m-S)+Math.sqrt(c*(m-S)*(m-S)-(S+c)*(p-S)))/(S+c);r<0&&(P=-P),a=this.x0+P;var A=c+m;return P=Math.PI*this.R*(M*A-u*Math.sqrt((S+c)*(c+1)-A*A))/(S+c),s>=0?h=this.y0+P:h=this.y0-P,t.x=a,t.y=h,t}function bg(t){var i,s,r,a,h,l,u,c,_,g,m,p,M;return t.x-=this.x0,t.y-=this.y0,m=Math.PI*this.R,r=t.x/m,a=t.y/m,h=r*r+a*a,l=-Math.abs(a)*(1+h),u=l-2*a*a+r*r,c=-2*l+1+2*a*a+h*h,M=a*a/c+(2*u*u*u/c/c/c-9*l*u/c/c)/27,_=(l-u*u/3/c)/c,g=2*Math.sqrt(-_/3),m=3*M/_/g,Math.abs(m)>1&&(m>=0?m=1:m=-1),p=Math.acos(m)/3,t.y>=0?s=(-g*Math.cos(p+Math.PI/3)-u/3/c)*Math.PI:s=-(-g*Math.cos(p+Math.PI/3)-u/3/c)*Math.PI,Math.abs(r)<tt?i=this.long0:i=et(this.long0+Math.PI*(h-1+Math.sqrt(1+2*(r*r-a*a)+h*h))/2/r),t.x=i,t.y=s,t}var Eg=["Van_der_Grinten_I","VanDerGrinten","Van_der_Grinten","vandg"];const Cg={init:Pg,forward:Sg,inverse:bg,names:Eg};var hf={exports:{}};(function(t){(function(i){var s={};s.Constants={},s.Math={},s.Accumulator={},function(r){r.WGS84={a:6378137,f:1/298.257223563},r.version={major:2,minor:1,patch:1},r.version_string="2.1.1"}(s.Constants),function(r){r.digits=53,r.epsilon=Math.pow(.5,r.digits-1),r.degree=Math.PI/180,r.sq=function(a){return a*a},r.hypot=function(a,h){return Math.sqrt(a*a+h*h)},r.cbrt=Math.cbrt||function(a){var h=Math.pow(Math.abs(a),.3333333333333333);return a>0?h:a<0?-h:a},r.log1p=Math.log1p||function(a){var h=1+a,l=h-1;return l===0?a:a*Math.log(h)/l},r.atanh=Math.atanh||function(a){var h=Math.abs(a);return h=r.log1p(2*h/(1-h))/2,a>0?h:a<0?-h:a},r.copysign=function(a,h){return Math.abs(a)*(h<0||h===0&&1/h<0?-1:1)},r.sum=function(a,h){var l=a+h,u=l-h,c=l-u,_;return u-=a,c-=h,_=l&&0-(u+c),{s:l,t:_}},r.polyval=function(a,h,l,u){for(var c=a<0?0:h[l++];--a>=0;)c=c*u+h[l++];return c},r.AngRound=function(a){var h=.0625,l=Math.abs(a);return l=l<h?h-(h-l):l,r.copysign(l,a)},r.remainder=function(a,h){return a%=h,a<-h/2?a+h:a<h/2?a:a-h},r.AngNormalize=function(a){var h=r.remainder(a,360);return Math.abs(h)===180?r.copysign(180,a):h},r.LatFix=function(a){return Math.abs(a)>90?NaN:a},r.AngDiff=function(a,h){var l=r.sum(r.remainder(-a,360),r.remainder(h,360)),u,c;return l=r.sum(r.remainder(l.s,360),l.t),u=l.s,c=l.t,(u===0||Math.abs(u)===180)&&(u=r.copysign(u,c===0?h-a:-c)),{d:u,e:c}},r.sincosd=function(a){var h,l,u,c,_,g,m;switch(h=a%360,u=Math.round(h/90),h-=90*u,l=h*this.degree,c=Math.sin(l),_=Math.cos(l),Math.abs(h)===45?(_=Math.sqrt(.5),c=r.copysign(_,l)):Math.abs(h)===30&&(_=Math.sqrt(.75),c=r.copysign(.5,l)),u&3){case 0:g=c,m=_;break;case 1:g=_,m=-c;break;case 2:g=-c,m=-_;break;default:g=-_,m=c;break}return m+=0,g===0&&(g=r.copysign(g,a)),{s:g,c:m}},r.sincosde=function(a,h){var l,u,c,_,g,m,p;switch(l=a%360,c=Math.round(l/90),l=r.AngRound(l-90*c+h),u=l*this.degree,_=Math.sin(u),g=Math.cos(u),Math.abs(l)===45?(g=Math.sqrt(.5),_=r.copysign(g,u)):Math.abs(l)===30&&(g=Math.sqrt(.75),_=r.copysign(.5,u)),c&3){case 0:m=_,p=g;break;case 1:m=g,p=-_;break;case 2:m=-_,p=-g;break;default:m=-g,p=_;break}return p+=0,m===0&&(m=r.copysign(m,a+h)),{s:m,c:p}},r.atan2d=function(a,h){var l=0,u;switch(Math.abs(a)>Math.abs(h)&&([a,h]=[h,a],l=2),r.copysign(1,h)<0&&(h=-h,++l),u=Math.atan2(a,h)/this.degree,l){case 1:u=r.copysign(180,a)-u;break;case 2:u=90-u;break;case 3:u=-90+u;break}return u}}(s.Math),function(r,a){r.Accumulator=function(h){this.Set(h)},r.Accumulator.prototype.Set=function(h){h||(h=0),h.constructor===r.Accumulator?(this._s=h._s,this._t=h._t):(this._s=h,this._t=0)},r.Accumulator.prototype.Add=function(h){var l=a.sum(h,this._t),u=a.sum(l.s,this._s);l=l.t,this._s=u.s,this._t=u.t,this._s===0?this._s=l:this._t+=l},r.Accumulator.prototype.Sum=function(h){var l;return h?(l=new r.Accumulator(this),l.Add(h),l._s):this._s},r.Accumulator.prototype.Negate=function(){this._s*=-1,this._t*=-1},r.Accumulator.prototype.Remainder=function(h){this._s=a.remainder(this._s,h),this.Add(0)}}(s.Accumulator,s.Math),s.Geodesic={},s.GeodesicLine={},s.PolygonArea={},function(r,a,h,l,u){var c=6,_=c,g=c,m=c,p=m,M,S,P=20,A=P+l.digits+10,B=l.epsilon,j=200*B,V=Math.sqrt(B),Q=B,lt=1e3*V,pt=0,Tt=31,Gt=32640,ut,vt,ft,X,Ct,It,se,Pt,Lt;r.tiny_=Math.sqrt(Number.MIN_VALUE/Number.EPSILON),r.nC1_=c,r.nC1p_=c,r.nC2_=c,r.nC3_=c,r.nC4_=c,M=r.nC3_*(r.nC3_-1)/2,S=r.nC4_*(r.nC4_+1)/2,r.CAP_C1=1,r.CAP_C1p=2,r.CAP_C2=4,r.CAP_C3=8,r.CAP_C4=16,r.NONE=0,r.ARC=64,r.LATITUDE=128|pt,r.LONGITUDE=256|r.CAP_C3,r.AZIMUTH=512|pt,r.DISTANCE=1024|r.CAP_C1,r.STANDARD=r.LATITUDE|r.LONGITUDE|r.AZIMUTH|r.DISTANCE,r.DISTANCE_IN=2048|r.CAP_C1|r.CAP_C1p,r.REDUCEDLENGTH=4096|r.CAP_C1|r.CAP_C2,r.GEODESICSCALE=8192|r.CAP_C1|r.CAP_C2,r.AREA=16384|r.CAP_C4,r.ALL=Gt|Tt,r.LONG_UNROLL=32768,r.OUT_MASK=Gt|r.LONG_UNROLL,r.SinCosSeries=function(b,q,G,z){var T=z.length,R=T-(b?1:0),J=2*(G-q)*(G+q),rt=R&1?z[--T]:0,st=0;for(R=Math.floor(R/2);R--;)st=J*rt-st+z[--T],rt=J*st-rt+z[--T];return b?2*q*G*rt:G*(rt-st)},ut=function(b,q){var G,z=l.sq(b),T=l.sq(q),R=(z+T-1)/6,J,rt,st,ot,yt,ht,gt,At,y,w,C;return T===0&&R<=0?G=0:(J=z*T/4,rt=l.sq(R),st=R*rt,ot=J*(J+2*st),yt=R,ot>=0?(ht=J+st,ht+=ht<0?-Math.sqrt(ot):Math.sqrt(ot),gt=l.cbrt(ht),yt+=gt+(gt!==0?rt/gt:0)):(At=Math.atan2(Math.sqrt(-ot),-(J+st)),yt+=2*R*Math.cos(At/3)),y=Math.sqrt(l.sq(yt)+T),w=yt<0?T/(y-yt):yt+y,C=(w-T)/(2*y),G=w/(Math.sqrt(w+l.sq(C))+C)),G},vt=[1,4,64,0,256],r.A1m1f=function(b){var q=Math.floor(_/2),G=l.polyval(q,vt,0,l.sq(b))/vt[q+1];return(G+b)/(1-b)},ft=[-1,6,-16,32,-9,64,-128,2048,9,-16,768,3,-5,512,-7,1280,-7,2048],r.C1f=function(b,q){var G=l.sq(b),z=b,T=0,R,J;for(R=1;R<=r.nC1_;++R)J=Math.floor((r.nC1_-R)/2),q[R]=z*l.polyval(J,ft,T,G)/ft[T+J+1],T+=J+2,z*=b},X=[205,-432,768,1536,4005,-4736,3840,12288,-225,116,384,-7173,2695,7680,3467,7680,38081,61440],r.C1pf=function(b,q){var G=l.sq(b),z=b,T=0,R,J;for(R=1;R<=r.nC1p_;++R)J=Math.floor((r.nC1p_-R)/2),q[R]=z*l.polyval(J,X,T,G)/X[T+J+1],T+=J+2,z*=b},Ct=[-11,-28,-192,0,256],r.A2m1f=function(b){var q=Math.floor(g/2),G=l.polyval(q,Ct,0,l.sq(b))/Ct[q+1];return(G-b)/(1+b)},It=[1,2,16,32,35,64,384,2048,15,80,768,7,35,512,63,1280,77,2048],r.C2f=function(b,q){var G=l.sq(b),z=b,T=0,R,J;for(R=1;R<=r.nC2_;++R)J=Math.floor((r.nC2_-R)/2),q[R]=z*l.polyval(J,It,T,G)/It[T+J+1],T+=J+2,z*=b},r.Geodesic=function(b,q){if(this.a=b,this.f=q,this._f1=1-this.f,this._e2=this.f*(2-this.f),this._ep2=this._e2/l.sq(this._f1),this._n=this.f/(2-this.f),this._b=this.a*this._f1,this._c2=(l.sq(this.a)+l.sq(this._b)*(this._e2===0?1:(this._e2>0?l.atanh(Math.sqrt(this._e2)):Math.atan(Math.sqrt(-this._e2)))/Math.sqrt(Math.abs(this._e2))))/2,this._etol2=.1*V/Math.sqrt(Math.max(.001,Math.abs(this.f))*Math.min(1,1-this.f/2)/2),!(isFinite(this.a)&&this.a>0))throw new Error("Equatorial radius is not positive");if(!(isFinite(this._b)&&this._b>0))throw new Error("Polar semi-axis is not positive");this._A3x=new Array(p),this._C3x=new Array(M),this._C4x=new Array(S),this.A3coeff(),this.C3coeff(),this.C4coeff()},se=[-3,128,-2,-3,64,-1,-3,-1,16,3,-1,-2,8,1,-1,2,1,1],r.Geodesic.prototype.A3coeff=function(){var b=0,q=0,G,z;for(G=m-1;G>=0;--G)z=Math.min(m-G-1,G),this._A3x[q++]=l.polyval(z,se,b,this._n)/se[b+z+1],b+=z+2},Pt=[3,128,2,5,128,-1,3,3,64,-1,0,1,8,-1,1,4,5,256,1,3,128,-3,-2,3,64,1,-3,2,32,7,512,-10,9,384,5,-9,5,192,7,512,-14,7,512,21,2560],r.Geodesic.prototype.C3coeff=function(){var b=0,q=0,G,z,T;for(G=1;G<r.nC3_;++G)for(z=r.nC3_-1;z>=G;--z)T=Math.min(r.nC3_-z-1,z),this._C3x[q++]=l.polyval(T,Pt,b,this._n)/Pt[b+T+1],b+=T+2},Lt=[97,15015,1088,156,45045,-224,-4784,1573,45045,-10656,14144,-4576,-858,45045,64,624,-4576,6864,-3003,15015,100,208,572,3432,-12012,30030,45045,1,9009,-2944,468,135135,5792,1040,-1287,135135,5952,-11648,9152,-2574,135135,-64,-624,4576,-6864,3003,135135,8,10725,1856,-936,225225,-8448,4992,-1144,225225,-1440,4160,-4576,1716,225225,-136,63063,1024,-208,105105,3584,-3328,1144,315315,-128,135135,-2560,832,405405,128,99099],r.Geodesic.prototype.C4coeff=function(){var b=0,q=0,G,z,T;for(G=0;G<r.nC4_;++G)for(z=r.nC4_-1;z>=G;--z)T=r.nC4_-z-1,this._C4x[q++]=l.polyval(T,Lt,b,this._n)/Lt[b+T+1],b+=T+2},r.Geodesic.prototype.A3f=function(b){return l.polyval(p-1,this._A3x,0,b)},r.Geodesic.prototype.C3f=function(b,q){var G=1,z=0,T,R;for(T=1;T<r.nC3_;++T)R=r.nC3_-T-1,G*=b,q[T]=G*l.polyval(R,this._C3x,z,b),z+=R+1},r.Geodesic.prototype.C4f=function(b,q){var G=1,z=0,T,R;for(T=0;T<r.nC4_;++T)R=r.nC4_-T-1,q[T]=G*l.polyval(R,this._C4x,z,b),z+=R+1,G*=b},r.Geodesic.prototype.Lengths=function(b,q,G,z,T,R,J,rt,st,ot,yt,ht,gt){yt&=r.OUT_MASK;var At={},y=0,w=0,C=0,D=0,O,k,U,$,H;if(yt&(r.DISTANCE|r.REDUCEDLENGTH|r.GEODESICSCALE)&&(C=r.A1m1f(b),r.C1f(b,ht),yt&(r.REDUCEDLENGTH|r.GEODESICSCALE)&&(D=r.A2m1f(b),r.C2f(b,gt),y=C-D,D=1+D),C=1+C),yt&r.DISTANCE)O=r.SinCosSeries(!0,R,J,ht)-r.SinCosSeries(!0,G,z,ht),At.s12b=C*(q+O),yt&(r.REDUCEDLENGTH|r.GEODESICSCALE)&&(k=r.SinCosSeries(!0,R,J,gt)-r.SinCosSeries(!0,G,z,gt),w=y*q+(C*O-D*k));else if(yt&(r.REDUCEDLENGTH|r.GEODESICSCALE)){for(U=1;U<=r.nC2_;++U)gt[U]=C*ht[U]-D*gt[U];w=y*q+(r.SinCosSeries(!0,R,J,gt)-r.SinCosSeries(!0,G,z,gt))}return yt&r.REDUCEDLENGTH&&(At.m0=y,At.m12b=rt*(z*R)-T*(G*J)-z*J*w),yt&r.GEODESICSCALE&&($=z*J+G*R,H=this._ep2*(st-ot)*(st+ot)/(T+rt),At.M12=$+(H*R-J*w)*G/T,At.M21=$-(H*G-z*w)*R/rt),At},r.Geodesic.prototype.InverseStart=function(b,q,G,z,T,R,J,rt,st,ot,yt){var ht={},gt=z*q-T*b,At=T*q+z*b,y,w,C,D,O,k,U,$,H,N,K,F,Y,nt,mt,St,bt,Wt,ct,qt,Ft,Jt,ne;return ht.sig12=-1,y=z*q,y+=T*b,w=At>=0&&gt<.5&&T*J<.5,w?(D=l.sq(b+z),D/=D+l.sq(q+T),ht.dnm=Math.sqrt(1+this._ep2*D),C=J/(this._f1*ht.dnm),O=Math.sin(C),k=Math.cos(C)):(O=rt,k=st),ht.salp1=T*O,ht.calp1=k>=0?gt+T*b*l.sq(O)/(1+k):y-T*b*l.sq(O)/(1-k),$=l.hypot(ht.salp1,ht.calp1),H=b*z+q*T*k,w&&$<this._etol2?(ht.salp2=q*O,ht.calp2=gt-q*z*(k>=0?l.sq(O)/(1+k):1-k),U=l.hypot(ht.salp2,ht.calp2),ht.salp2/=U,ht.calp2/=U,ht.sig12=Math.atan2($,H)):Math.abs(this._n)>.1||H>=0||$>=6*Math.abs(this._n)*Math.PI*l.sq(q)||(ne=Math.atan2(-rt,-st),this.f>=0?(nt=l.sq(b)*this._ep2,mt=nt/(2*(1+Math.sqrt(1+nt))+nt),F=this.f*q*this.A3f(mt)*Math.PI,Y=F*q,N=ne/F,K=y/Y):(St=T*q-z*b,bt=Math.atan2(y,St),qt=this.Lengths(this._n,Math.PI+bt,b,-q,G,z,T,R,q,T,r.REDUCEDLENGTH,ot,yt),Wt=qt.m12b,ct=qt.m0,N=-1+Wt/(q*T*ct*Math.PI),Y=N<-.01?y/N:-this.f*l.sq(q)*Math.PI,F=Y/q,K=J/F),K>-j&&N>-1-lt?this.f>=0?(ht.salp1=Math.min(1,-N),ht.calp1=-Math.sqrt(1-l.sq(ht.salp1))):(ht.calp1=Math.max(N>-j?0:-1,N),ht.salp1=Math.sqrt(1-l.sq(ht.calp1))):(Ft=ut(N,K),Jt=F*(this.f>=0?-N*Ft/(1+Ft):-K*(1+Ft)/Ft),O=Math.sin(Jt),k=-Math.cos(Jt),ht.salp1=T*O,ht.calp1=y-T*b*l.sq(O)/(1-k))),ht.salp1<=0?(ht.salp1=1,ht.calp1=0):(U=l.hypot(ht.salp1,ht.calp1),ht.salp1/=U,ht.calp1/=U),ht},r.Geodesic.prototype.Lambda12=function(b,q,G,z,T,R,J,rt,st,ot,yt,ht,gt,At){var y={},w,C,D,O,k,U,$,H,N,K,F,Y,nt;return b===0&&rt===0&&(rt=-r.tiny_),C=J*q,D=l.hypot(rt,J*b),y.ssig1=b,O=C*b,y.csig1=k=rt*q,w=l.hypot(y.ssig1,y.csig1),y.ssig1/=w,y.csig1/=w,y.salp2=T!==q?C/T:J,y.calp2=T!==q||Math.abs(z)!==-b?Math.sqrt(l.sq(rt*q)+(q<-b?(T-q)*(q+T):(b-z)*(b+z)))/T:Math.abs(rt),y.ssig2=z,U=C*z,y.csig2=$=y.calp2*T,w=l.hypot(y.ssig2,y.csig2),y.ssig2/=w,y.csig2/=w,y.sig12=Math.atan2(Math.max(0,y.csig1*y.ssig2-y.ssig1*y.csig2),y.csig1*y.csig2+y.ssig1*y.ssig2),H=Math.max(0,k*U-O*$),N=k*$+O*U,F=Math.atan2(H*ot-N*st,N*ot+H*st),Y=l.sq(D)*this._ep2,y.eps=Y/(2*(1+Math.sqrt(1+Y))+Y),this.C3f(y.eps,At),K=r.SinCosSeries(!0,y.ssig2,y.csig2,At)-r.SinCosSeries(!0,y.ssig1,y.csig1,At),y.domg12=-this.f*this.A3f(y.eps)*C*(y.sig12+K),y.lam12=F+y.domg12,yt&&(y.calp2===0?y.dlam12=-2*this._f1*G/b:(nt=this.Lengths(y.eps,y.sig12,y.ssig1,y.csig1,G,y.ssig2,y.csig2,R,q,T,r.REDUCEDLENGTH,ht,gt),y.dlam12=nt.m12b,y.dlam12*=this._f1/(y.calp2*T))),y},r.Geodesic.prototype.Inverse=function(b,q,G,z,T){var R,J;return T||(T=r.STANDARD),T===r.LONG_UNROLL&&(T|=r.STANDARD),T&=r.OUT_MASK,R=this.InverseInt(b,q,G,z,T),J=R.vals,T&r.AZIMUTH&&(J.azi1=l.atan2d(R.salp1,R.calp1),J.azi2=l.atan2d(R.salp2,R.calp2)),J},r.Geodesic.prototype.InverseInt=function(b,q,G,z,T){var R={},J,rt,st,ot,yt,ht,gt,At,y,w,C,D,O,k,U,$,H,N,K,F,Y,nt,mt,St,bt,Wt,ct,qt,Ft,Jt,ne,te,le,ye,ai,Hi,Pi,Si,bi,ds,Hs,Ei,$s,_s,Ws,$i,js,Yn,Vs,ms,Ce,at,Ks,Wi,Js,Xs,oi,ji,De,ps,Qs,gs,vs,Ys,ys;if(R.lat1=b=l.LatFix(b),R.lat2=G=l.LatFix(G),b=l.AngRound(b),G=l.AngRound(G),J=l.AngDiff(q,z),rt=J.e,J=J.d,T&r.LONG_UNROLL?(R.lon1=q,R.lon2=q+J+rt):(R.lon1=l.AngNormalize(q),R.lon2=l.AngNormalize(z)),st=l.copysign(1,J),J*=st,rt*=st,U=J*l.degree,ot=l.sincosde(J,rt),$=ot.s,H=ot.c,rt=180-J-rt,yt=Math.abs(b)<Math.abs(G)||isNaN(G)?-1:1,yt<0&&(st*=-1,[G,b]=[b,G]),ht=l.copysign(1,-b),b*=ht,G*=ht,ot=l.sincosd(b),gt=this._f1*ot.s,At=ot.c,ot=l.hypot(gt,At),gt/=ot,At/=ot,At=Math.max(r.tiny_,At),ot=l.sincosd(G),y=this._f1*ot.s,w=ot.c,ot=l.hypot(y,w),y/=ot,w/=ot,w=Math.max(r.tiny_,w),At<-gt?w===At&&(y=l.copysign(gt,y)):Math.abs(y)===-gt&&(w=At),O=Math.sqrt(1+this._ep2*l.sq(gt)),k=Math.sqrt(1+this._ep2*l.sq(y)),mt=new Array(r.nC1_+1),St=new Array(r.nC2_+1),bt=new Array(r.nC3_),Wt=b===-90||$===0,Wt&&(K=H,F=$,Y=1,nt=0,qt=gt,Ft=K*At,Jt=y,ne=Y*w,N=Math.atan2(Math.max(0,Ft*Jt-qt*ne),Ft*ne+qt*Jt),ct=this.Lengths(this._n,N,qt,Ft,O,Jt,ne,k,At,w,T|r.DISTANCE|r.REDUCEDLENGTH,mt,St),C=ct.s12b,D=ct.m12b,T&r.GEODESICSCALE&&(R.M12=ct.M12,R.M21=ct.M21),N<1||D>=0?((N<3*r.tiny_||N<B&&(C<0||D<0))&&(N=D=C=0),D*=this._b,C*=this._b,R.a12=N/l.degree):Wt=!1),oi=2,!Wt&&gt===0&&(this.f<=0||rt>=this.f*180))K=Y=0,F=nt=1,C=this.a*U,N=le=U/this._f1,D=this._b*Math.sin(N),T&r.GEODESICSCALE&&(R.M12=R.M21=Math.cos(N)),R.a12=J/this._f1;else if(!Wt)if(ct=this.InverseStart(gt,At,O,y,w,k,U,$,H,mt,St),N=ct.sig12,F=ct.salp1,K=ct.calp1,N>=0)nt=ct.salp2,Y=ct.calp2,ye=ct.dnm,C=N*this._b*ye,D=l.sq(ye)*this._b*Math.sin(N/ye),T&r.GEODESICSCALE&&(R.M12=R.M21=Math.cos(N/ye)),R.a12=N/l.degree,le=U/(this._f1*ye);else{for(ai=0,Hi=r.tiny_,Pi=1,Si=r.tiny_,bi=-1,ds=!1,Hs=!1;ct=this.Lambda12(gt,At,O,y,w,k,F,K,$,H,ai<P,mt,St,bt),Ei=ct.lam12,nt=ct.salp2,Y=ct.calp2,N=ct.sig12,qt=ct.ssig1,Ft=ct.csig1,Jt=ct.ssig2,ne=ct.csig2,te=ct.eps,De=ct.domg12,$s=ct.dlam12,!(Hs||!(Math.abs(Ei)>=(ds?8:1)*B)||ai==A);++ai){if(Ei>0&&(ai<P||K/F>bi/Si)?(Si=F,bi=K):Ei<0&&(ai<P||K/F<Pi/Hi)&&(Hi=F,Pi=K),ai<P&&$s>0&&(_s=-Ei/$s,Math.abs(_s)<Math.PI&&(Ws=Math.sin(_s),$i=Math.cos(_s),js=F*$i+K*Ws,js>0))){K=K*$i-F*Ws,F=js,ot=l.hypot(F,K),F/=ot,K/=ot,ds=Math.abs(Ei)<=16*B;continue}F=(Hi+Si)/2,K=(Pi+bi)/2,ot=l.hypot(F,K),F/=ot,K/=ot,ds=!1,Hs=Math.abs(Hi-F)+(Pi-K)<Q||Math.abs(F-Si)+(K-bi)<Q}Yn=T|(T&(r.REDUCEDLENGTH|r.GEODESICSCALE)?r.DISTANCE:r.NONE),ct=this.Lengths(te,N,qt,Ft,O,Jt,ne,k,At,w,Yn,mt,St),C=ct.s12b,D=ct.m12b,T&r.GEODESICSCALE&&(R.M12=ct.M12,R.M21=ct.M21),D*=this._b,C*=this._b,R.a12=N/l.degree,T&r.AREA&&(Ys=Math.sin(De),ys=Math.cos(De),oi=$*ys-H*Ys,ji=H*ys+$*Ys)}return T&r.DISTANCE&&(R.s12=0+C),T&r.REDUCEDLENGTH&&(R.m12=0+D),T&r.AREA&&(Vs=F*At,ms=l.hypot(K,F*gt),ms!==0&&Vs!==0?(qt=gt,Ft=K*At,Jt=y,ne=Y*w,at=l.sq(ms)*this._ep2,te=at/(2*(1+Math.sqrt(1+at))+at),Ks=l.sq(this.a)*ms*Vs*this._e2,ot=l.hypot(qt,Ft),qt/=ot,Ft/=ot,ot=l.hypot(Jt,ne),Jt/=ot,ne/=ot,Wi=new Array(r.nC4_),this.C4f(te,Wi),Js=r.SinCosSeries(!1,qt,Ft,Wi),Xs=r.SinCosSeries(!1,Jt,ne,Wi),R.S12=Ks*(Xs-Js)):R.S12=0,!Wt&&oi==2&&(oi=Math.sin(le),ji=Math.cos(le)),!Wt&&ji>-.7071&&y-gt<1.75?(De=1+ji,ps=1+At,Qs=1+w,Ce=2*Math.atan2(oi*(gt*Qs+y*ps),De*(gt*y+ps*Qs))):(gs=nt*K-Y*F,vs=Y*K+nt*F,gs===0&&vs<0&&(gs=r.tiny_*K,vs=-1),Ce=Math.atan2(gs,vs)),R.S12+=this._c2*Ce,R.S12*=yt*st*ht,R.S12+=0),yt<0&&([nt,F]=[F,nt],[Y,K]=[K,Y],T&r.GEODESICSCALE&&([R.M21,R.M12]=[R.M12,R.M21])),F*=yt*st,K*=yt*ht,nt*=yt*st,Y*=yt*ht,{vals:R,salp1:F,calp1:K,salp2:nt,calp2:Y}},r.Geodesic.prototype.GenDirect=function(b,q,G,z,T,R){var J;return R?R===r.LONG_UNROLL&&(R|=r.STANDARD):R=r.STANDARD,z||(R|=r.DISTANCE_IN),J=new a.GeodesicLine(this,b,q,G,R),J.GenPosition(z,T,R)},r.Geodesic.prototype.Direct=function(b,q,G,z,T){return this.GenDirect(b,q,G,!1,z,T)},r.Geodesic.prototype.ArcDirect=function(b,q,G,z,T){return this.GenDirect(b,q,G,!0,z,T)},r.Geodesic.prototype.Line=function(b,q,G,z){return new a.GeodesicLine(this,b,q,G,z)},r.Geodesic.prototype.DirectLine=function(b,q,G,z,T){return this.GenDirectLine(b,q,G,!1,z,T)},r.Geodesic.prototype.ArcDirectLine=function(b,q,G,z,T){return this.GenDirectLine(b,q,G,!0,z,T)},r.Geodesic.prototype.GenDirectLine=function(b,q,G,z,T,R){var J;return R||(R=r.STANDARD|r.DISTANCE_IN),z||(R|=r.DISTANCE_IN),J=new a.GeodesicLine(this,b,q,G,R),J.GenSetDistance(z,T),J},r.Geodesic.prototype.InverseLine=function(b,q,G,z,T){var R,J,rt;return T||(T=r.STANDARD|r.DISTANCE_IN),R=this.InverseInt(b,q,G,z,r.ARC),rt=l.atan2d(R.salp1,R.calp1),T&(r.OUT_MASK&r.DISTANCE_IN)&&(T|=r.DISTANCE),J=new a.GeodesicLine(this,b,q,rt,T,R.salp1,R.calp1),J.SetArc(R.vals.a12),J},r.Geodesic.prototype.Polygon=function(b){return new h.PolygonArea(this,b)},r.WGS84=new r.Geodesic(u.WGS84.a,u.WGS84.f)}(s.Geodesic,s.GeodesicLine,s.PolygonArea,s.Math,s.Constants),function(r,a,h){a.GeodesicLine=function(l,u,c,_,g,m,p){var M,S,P,A,B,j;g||(g=r.STANDARD|r.DISTANCE_IN),this.a=l.a,this.f=l.f,this._b=l._b,this._c2=l._c2,this._f1=l._f1,this.caps=g|r.LATITUDE|r.AZIMUTH|r.LONG_UNROLL,this.lat1=h.LatFix(u),this.lon1=c,typeof m>"u"||typeof p>"u"?(this.azi1=h.AngNormalize(_),M=h.sincosd(h.AngRound(this.azi1)),this.salp1=M.s,this.calp1=M.c):(this.azi1=_,this.salp1=m,this.calp1=p),M=h.sincosd(h.AngRound(this.lat1)),P=this._f1*M.s,S=M.c,M=h.hypot(P,S),P/=M,S/=M,S=Math.max(r.tiny_,S),this._dn1=Math.sqrt(1+l._ep2*h.sq(P)),this._salp0=this.salp1*S,this._calp0=h.hypot(this.calp1,this.salp1*P),this._ssig1=P,this._somg1=this._salp0*P,this._csig1=this._comg1=P!==0||this.calp1!==0?S*this.calp1:1,M=h.hypot(this._ssig1,this._csig1),this._ssig1/=M,this._csig1/=M,this._k2=h.sq(this._calp0)*l._ep2,A=this._k2/(2*(1+Math.sqrt(1+this._k2))+this._k2),this.caps&r.CAP_C1&&(this._A1m1=r.A1m1f(A),this._C1a=new Array(r.nC1_+1),r.C1f(A,this._C1a),this._B11=r.SinCosSeries(!0,this._ssig1,this._csig1,this._C1a),B=Math.sin(this._B11),j=Math.cos(this._B11),this._stau1=this._ssig1*j+this._csig1*B,this._ctau1=this._csig1*j-this._ssig1*B),this.caps&r.CAP_C1p&&(this._C1pa=new Array(r.nC1p_+1),r.C1pf(A,this._C1pa)),this.caps&r.CAP_C2&&(this._A2m1=r.A2m1f(A),this._C2a=new Array(r.nC2_+1),r.C2f(A,this._C2a),this._B21=r.SinCosSeries(!0,this._ssig1,this._csig1,this._C2a)),this.caps&r.CAP_C3&&(this._C3a=new Array(r.nC3_),l.C3f(A,this._C3a),this._A3c=-this.f*this._salp0*l.A3f(A),this._B31=r.SinCosSeries(!0,this._ssig1,this._csig1,this._C3a)),this.caps&r.CAP_C4&&(this._C4a=new Array(r.nC4_),l.C4f(A,this._C4a),this._A4=h.sq(this.a)*this._calp0*this._salp0*l._e2,this._B41=r.SinCosSeries(!1,this._ssig1,this._csig1,this._C4a)),this.a13=this.s13=NaN},a.GeodesicLine.prototype.GenPosition=function(l,u,c){var _={},g,m,p,M,S,P,A,B,j,V,Q,lt,pt,Tt,Gt,ut,vt,ft,X,Ct,It,se,Pt,Lt,b,q,G,z,T;return c?c===r.LONG_UNROLL&&(c|=r.STANDARD):c=r.STANDARD,c&=this.caps&r.OUT_MASK,_.lat1=this.lat1,_.azi1=this.azi1,_.lon1=c&r.LONG_UNROLL?this.lon1:h.AngNormalize(this.lon1),l?_.a12=u:_.s12=u,l||this.caps&r.DISTANCE_IN&r.OUT_MASK?(M=0,S=0,l?(g=u*h.degree,q=h.sincosd(u),m=q.s,p=q.c):(B=u/(this._b*(1+this._A1m1)),j=Math.sin(B),V=Math.cos(B),M=-r.SinCosSeries(!0,this._stau1*V+this._ctau1*j,this._ctau1*V-this._stau1*j,this._C1pa),g=B-(M-this._B11),m=Math.sin(g),p=Math.cos(g),Math.abs(this.f)>.01&&(P=this._ssig1*p+this._csig1*m,A=this._csig1*p-this._ssig1*m,M=r.SinCosSeries(!0,P,A,this._C1a),Q=(1+this._A1m1)*(g+(M-this._B11))-u/this._b,g=g-Q/Math.sqrt(1+this._k2*h.sq(P)),m=Math.sin(g),p=Math.cos(g))),P=this._ssig1*p+this._csig1*m,A=this._csig1*p-this._ssig1*m,se=Math.sqrt(1+this._k2*h.sq(P)),c&(r.DISTANCE|r.REDUCEDLENGTH|r.GEODESICSCALE)&&((l||Math.abs(this.f)>.01)&&(M=r.SinCosSeries(!0,P,A,this._C1a)),S=(1+this._A1m1)*(M-this._B11)),ut=this._calp0*P,vt=h.hypot(this._salp0,this._calp0*A),vt===0&&(vt=A=r.tiny_),Ct=this._salp0,It=this._calp0*A,l&&c&r.DISTANCE&&(_.s12=this._b*((1+this._A1m1)*g+S)),c&r.LONGITUDE&&(ft=this._salp0*P,X=A,Gt=h.copysign(1,this._salp0),lt=c&r.LONG_UNROLL?Gt*(g-(Math.atan2(P,A)-Math.atan2(this._ssig1,this._csig1))+(Math.atan2(Gt*ft,X)-Math.atan2(Gt*this._somg1,this._comg1))):Math.atan2(ft*this._comg1-X*this._somg1,X*this._comg1+ft*this._somg1),pt=lt+this._A3c*(g+(r.SinCosSeries(!0,P,A,this._C3a)-this._B31)),Tt=pt/h.degree,_.lon2=c&r.LONG_UNROLL?this.lon1+Tt:h.AngNormalize(h.AngNormalize(this.lon1)+h.AngNormalize(Tt))),c&r.LATITUDE&&(_.lat2=h.atan2d(ut,this._f1*vt)),c&r.AZIMUTH&&(_.azi2=h.atan2d(Ct,It)),c&(r.REDUCEDLENGTH|r.GEODESICSCALE)&&(Pt=r.SinCosSeries(!0,P,A,this._C2a),Lt=(1+this._A2m1)*(Pt-this._B21),b=(this._A1m1-this._A2m1)*g+(S-Lt),c&r.REDUCEDLENGTH&&(_.m12=this._b*(se*(this._csig1*P)-this._dn1*(this._ssig1*A)-this._csig1*A*b)),c&r.GEODESICSCALE&&(q=this._k2*(P-this._ssig1)*(P+this._ssig1)/(this._dn1+se),_.M12=p+(q*P-A*b)*this._ssig1/this._dn1,_.M21=p-(q*this._ssig1-this._csig1*b)*P/se)),c&r.AREA&&(G=r.SinCosSeries(!1,P,A,this._C4a),this._calp0===0||this._salp0===0?(z=Ct*this.calp1-It*this.salp1,T=It*this.calp1+Ct*this.salp1):(z=this._calp0*this._salp0*(p<=0?this._csig1*(1-p)+m*this._ssig1:m*(this._csig1*m/(1+p)+this._ssig1)),T=h.sq(this._salp0)+h.sq(this._calp0)*this._csig1*A),_.S12=this._c2*Math.atan2(z,T)+this._A4*(G-this._B41)),l||(_.a12=g/h.degree),_):(_.a12=NaN,_)},a.GeodesicLine.prototype.Position=function(l,u){return this.GenPosition(!1,l,u)},a.GeodesicLine.prototype.ArcPosition=function(l,u){return this.GenPosition(!0,l,u)},a.GeodesicLine.prototype.GenSetDistance=function(l,u){l?this.SetArc(u):this.SetDistance(u)},a.GeodesicLine.prototype.SetDistance=function(l){var u;this.s13=l,u=this.GenPosition(!1,this.s13,r.ARC),this.a13=0+u.a12},a.GeodesicLine.prototype.SetArc=function(l){var u;this.a13=l,u=this.GenPosition(!0,this.a13,r.DISTANCE),this.s13=0+u.s12}}(s.Geodesic,s.GeodesicLine,s.Math),function(r,a,h,l){var u,c,_,g;u=function(m,p){var M=h.AngDiff(m,p).d;return m=h.AngNormalize(m),p=h.AngNormalize(p),M>0&&(m<0&&p>=0||m>0&&p===0)?1:M<0&&m>=0&&p<0?-1:0},c=function(m,p){return m=m%720,p=p%720,(0<=p&&p<360||p<-360?0:1)-(0<=m&&m<360||m<-360?0:1)},_=function(m,p,M,S,P){return m.Remainder(p),M&1&&m.Add((m.Sum()<0?1:-1)*p/2),S||m.Negate(),P?m.Sum()>p/2?m.Add(-p):m.Sum()<=-p/2&&m.Add(+p):m.Sum()>=p?m.Add(-p):m.Sum()<0&&m.Add(+p),0+m.Sum()},g=function(m,p,M,S,P){return m=h.remainder(m,p),M&1&&(m+=(m<0?1:-1)*p/2),S||(m*=-1),P?m>p/2?m-=p:m<=-p/2&&(m+=p):m>=p?m-=p:m<0&&(m+=p),0+m},r.PolygonArea=function(m,p){this._geod=m,this.a=this._geod.a,this.f=this._geod.f,this._area0=4*Math.PI*m._c2,this.polyline=p||!1,this._mask=a.LATITUDE|a.LONGITUDE|a.DISTANCE|(this.polyline?a.NONE:a.AREA|a.LONG_UNROLL),this.polyline||(this._areasum=new l.Accumulator(0)),this._perimetersum=new l.Accumulator(0),this.Clear()},r.PolygonArea.prototype.Clear=function(){this.num=0,this._crossings=0,this.polyline||this._areasum.Set(0),this._perimetersum.Set(0),this._lat0=this._lon0=this.lat=this.lon=NaN},r.PolygonArea.prototype.AddPoint=function(m,p){var M;this.num===0?(this._lat0=this.lat=m,this._lon0=this.lon=p):(M=this._geod.Inverse(this.lat,this.lon,m,p,this._mask),this._perimetersum.Add(M.s12),this.polyline||(this._areasum.Add(M.S12),this._crossings+=u(this.lon,p)),this.lat=m,this.lon=p),++this.num},r.PolygonArea.prototype.AddEdge=function(m,p){var M;this.num&&(M=this._geod.Direct(this.lat,this.lon,m,p,this._mask),this._perimetersum.Add(p),this.polyline||(this._areasum.Add(M.S12),this._crossings+=c(this.lon,M.lon2)),this.lat=M.lat2,this.lon=M.lon2),++this.num},r.PolygonArea.prototype.Compute=function(m,p){var M={number:this.num},S,P;return this.num<2?(M.perimeter=0,this.polyline||(M.area=0),M):this.polyline?(M.perimeter=this._perimetersum.Sum(),M):(S=this._geod.Inverse(this.lat,this.lon,this._lat0,this._lon0,this._mask),M.perimeter=this._perimetersum.Sum(S.s12),P=new l.Accumulator(this._areasum),P.Add(S.S12),M.area=_(P,this._area0,this._crossings+u(this.lon,this._lon0),m,p),M)},r.PolygonArea.prototype.TestPoint=function(m,p,M,S){var P={number:this.num+1},A,B,j,V;if(this.num===0)return P.perimeter=0,this.polyline||(P.area=0),P;for(P.perimeter=this._perimetersum.Sum(),B=this.polyline?0:this._areasum.Sum(),j=this._crossings,V=0;V<(this.polyline?1:2);++V)A=this._geod.Inverse(V===0?this.lat:m,V===0?this.lon:p,V!==0?this._lat0:m,V!==0?this._lon0:p,this._mask),P.perimeter+=A.s12,this.polyline||(B+=A.S12,j+=u(V===0?this.lon:p,V!==0?this._lon0:p));return this.polyline||(P.area=g(B,this._area0,j,M,S)),P},r.PolygonArea.prototype.TestEdge=function(m,p,M,S){var P={number:this.num?this.num+1:0},A,B,j;return this.num===0||(P.perimeter=this._perimetersum.Sum()+p,this.polyline)||(B=this._areasum.Sum(),j=this._crossings,A=this._geod.Direct(this.lat,this.lon,m,p,this._mask),B+=A.S12,j+=c(this.lon,A.lon2),j+=u(A.lon2,this._lon0),A=this._geod.Inverse(A.lat2,A.lon2,this._lat0,this._lon0,this._mask),P.perimeter+=A.s12,B+=A.S12,P.area=g(B,this._area0,j,M,S)),P}}(s.PolygonArea,s.Geodesic,s.Math,s.Accumulator),i(s)})(function(i){t.exports?t.exports=i:window.geodesic=i})})(hf);var Ag=hf.exports;function Lg(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0),this.g=new Ag.Geodesic.Geodesic(this.a,this.es/(1+Math.sqrt(1-this.es)))}function Tg(t){var i=t.x,s=t.y,r=Math.sin(t.y),a=Math.cos(t.y),h=et(i-this.long0),l,u,c,_,g,m,p,M,S,P,A,B,j,V,Q;return this.sphere?Math.abs(this.sin_p12-1)<=tt?(t.x=this.x0+this.a*(W-s)*Math.sin(h),t.y=this.y0-this.a*(W-s)*Math.cos(h),t):Math.abs(this.sin_p12+1)<=tt?(t.x=this.x0+this.a*(W+s)*Math.sin(h),t.y=this.y0+this.a*(W+s)*Math.cos(h),t):(S=this.sin_p12*r+this.cos_p12*a*Math.cos(h),p=Math.acos(S),M=p?p/Math.sin(p):1,t.x=this.x0+this.a*M*a*Math.sin(h),t.y=this.y0+this.a*M*(this.cos_p12*r-this.sin_p12*a*Math.cos(h)),t):(l=Kn(this.es),u=Jn(this.es),c=Xn(this.es),_=Qn(this.es),Math.abs(this.sin_p12-1)<=tt?(g=this.a*Ee(l,u,c,_,W),m=this.a*Ee(l,u,c,_,s),t.x=this.x0+(g-m)*Math.sin(h),t.y=this.y0-(g-m)*Math.cos(h),t):Math.abs(this.sin_p12+1)<=tt?(g=this.a*Ee(l,u,c,_,W),m=this.a*Ee(l,u,c,_,s),t.x=this.x0+(g+m)*Math.sin(h),t.y=this.y0+(g+m)*Math.cos(h),t):Math.abs(i)<tt&&Math.abs(s-this.lat0)<tt?(t.x=t.y=0,t):(P=this.lat0/Ht,A=this.long0/Ht,B=s/Ht,j=i/Ht,V=this.g.Inverse(P,A,B,j,this.g.AZIMUTH),Q=V.azi1*Ht,t.x=V.s12*Math.sin(Q),t.y=V.s12*Math.cos(Q),t))}function Ig(t){t.x-=this.x0,t.y-=this.y0;var i,s,r,a,h,l,u,c,_,g,m,p,M,S,P,A,B,j;return this.sphere?(i=Math.sqrt(t.x*t.x+t.y*t.y),i>2*W*this.a?void 0:(s=i/this.a,r=Math.sin(s),a=Math.cos(s),h=this.long0,Math.abs(i)<=tt?l=this.lat0:(l=Fi(a*this.sin_p12+t.y*r*this.cos_p12/i),u=Math.abs(this.lat0)-W,Math.abs(u)<=tt?this.lat0>=0?h=et(this.long0+Math.atan2(t.x,-t.y)):h=et(this.long0-Math.atan2(-t.x,t.y)):h=et(this.long0+Math.atan2(t.x*r,i*this.cos_p12*a-t.y*this.sin_p12*r))),t.x=h,t.y=l,t)):(c=Kn(this.es),_=Jn(this.es),g=Xn(this.es),m=Qn(this.es),Math.abs(this.sin_p12-1)<=tt?(p=this.a*Ee(c,_,g,m,W),i=Math.sqrt(t.x*t.x+t.y*t.y),M=p-i,l=qr(M/this.a,c,_,g,m),h=et(this.long0+Math.atan2(t.x,-1*t.y)),t.x=h,t.y=l,t):Math.abs(this.sin_p12+1)<=tt?(p=this.a*Ee(c,_,g,m,W),i=Math.sqrt(t.x*t.x+t.y*t.y),M=i-p,l=qr(M/this.a,c,_,g,m),h=et(this.long0+Math.atan2(t.x,t.y)),t.x=h,t.y=l,t):(S=this.lat0/Ht,P=this.long0/Ht,A=Math.atan2(t.x,t.y)/Ht,B=Math.sqrt(t.x*t.x+t.y*t.y),j=this.g.Direct(S,P,A,B,this.g.STANDARD),t.x=j.lon2*Ht,t.y=j.lat2*Ht,t))}var Gg=["Azimuthal_Equidistant","aeqd"];const Ng={init:Lg,forward:Tg,inverse:Ig,names:Gg};function Og(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Rg(t){var i,s,r,a,h,l,u,c,_=t.x,g=t.y;return r=et(_-this.long0),i=Math.sin(g),s=Math.cos(g),a=Math.cos(r),l=this.sin_p14*i+this.cos_p14*s*a,h=1,(l>0||Math.abs(l)<=tt)&&(u=this.a*h*s*Math.sin(r),c=this.y0+this.a*h*(this.cos_p14*i-this.sin_p14*s*a)),t.x=u,t.y=c,t}function kg(t){var i,s,r,a,h,l,u;return t.x-=this.x0,t.y-=this.y0,i=Math.sqrt(t.x*t.x+t.y*t.y),s=Fi(i/this.a),r=Math.sin(s),a=Math.cos(s),l=this.long0,Math.abs(i)<=tt?(u=this.lat0,t.x=l,t.y=u,t):(u=Fi(a*this.sin_p14+t.y*r*this.cos_p14/i),h=Math.abs(this.lat0)-W,Math.abs(h)<=tt?(this.lat0>=0?l=et(this.long0+Math.atan2(t.x,-t.y)):l=et(this.long0-Math.atan2(-t.x,t.y)),t.x=l,t.y=u,t):(l=et(this.long0+Math.atan2(t.x*r,i*this.cos_p14*a-t.y*this.sin_p14*r)),t.x=l,t.y=u,t))}var Dg=["ortho"];const zg={init:Og,forward:Rg,inverse:kg,names:Dg};var Qt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},zt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function Bg(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=W-Dt/2?this.face=Qt.TOP:this.lat0<=-(W-Dt/2)?this.face=Qt.BOTTOM:Math.abs(this.long0)<=Dt?this.face=Qt.FRONT:Math.abs(this.long0)<=W+Dt?this.face=this.long0>0?Qt.RIGHT:Qt.LEFT:this.face=Qt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Fg(t){var i={x:0,y:0},s,r,a,h,l,u,c={value:0};if(t.x-=this.long0,this.es!==0?s=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):s=t.y,r=t.x,this.face===Qt.TOP)h=W-s,r>=Dt&&r<=W+Dt?(c.value=zt.AREA_0,a=r-W):r>W+Dt||r<=-(W+Dt)?(c.value=zt.AREA_1,a=r>0?r-fe:r+fe):r>-(W+Dt)&&r<=-Dt?(c.value=zt.AREA_2,a=r+W):(c.value=zt.AREA_3,a=r);else if(this.face===Qt.BOTTOM)h=W+s,r>=Dt&&r<=W+Dt?(c.value=zt.AREA_0,a=-r+W):r<Dt&&r>=-Dt?(c.value=zt.AREA_1,a=-r):r<-Dt&&r>=-(W+Dt)?(c.value=zt.AREA_2,a=-r-W):(c.value=zt.AREA_3,a=r>0?-r+fe:-r-fe);else{var _,g,m,p,M,S,P;this.face===Qt.RIGHT?r=Zs(r,+W):this.face===Qt.BACK?r=Zs(r,3.14159265359):this.face===Qt.LEFT&&(r=Zs(r,-W)),p=Math.sin(s),M=Math.cos(s),S=Math.sin(r),P=Math.cos(r),_=M*P,g=M*S,m=p,this.face===Qt.FRONT?(h=Math.acos(_),a=Pr(h,m,g,c)):this.face===Qt.RIGHT?(h=Math.acos(g),a=Pr(h,m,-_,c)):this.face===Qt.BACK?(h=Math.acos(-_),a=Pr(h,m,-g,c)):this.face===Qt.LEFT?(h=Math.acos(-g),a=Pr(h,m,_,c)):(h=a=0,c.value=zt.AREA_0)}return u=Math.atan(12/fe*(a+Math.acos(Math.sin(a)*Math.cos(Dt))-W)),l=Math.sqrt((1-Math.cos(h))/(Math.cos(u)*Math.cos(u))/(1-Math.cos(Math.atan(1/Math.cos(a))))),c.value===zt.AREA_1?u+=W:c.value===zt.AREA_2?u+=fe:c.value===zt.AREA_3&&(u+=1.5*fe),i.x=l*Math.cos(u),i.y=l*Math.sin(u),i.x=i.x*this.a+this.x0,i.y=i.y*this.a+this.y0,t.x=i.x,t.y=i.y,t}function Zg(t){var i={lam:0,phi:0},s,r,a,h,l,u,c,_,g,m={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,r=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),s=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?m.value=zt.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(m.value=zt.AREA_1,s-=W):t.x<0&&-t.x>=Math.abs(t.y)?(m.value=zt.AREA_2,s=s<0?s+fe:s-fe):(m.value=zt.AREA_3,s+=W),g=fe/12*Math.tan(s),l=Math.sin(g)/(Math.cos(g)-1/Math.sqrt(2)),u=Math.atan(l),a=Math.cos(s),h=Math.tan(r),c=1-a*a*h*h*(1-Math.cos(Math.atan(1/Math.cos(u)))),c<-1?c=-1:c>1&&(c=1),this.face===Qt.TOP)_=Math.acos(c),i.phi=W-_,m.value===zt.AREA_0?i.lam=u+W:m.value===zt.AREA_1?i.lam=u<0?u+fe:u-fe:m.value===zt.AREA_2?i.lam=u-W:i.lam=u;else if(this.face===Qt.BOTTOM)_=Math.acos(c),i.phi=_-W,m.value===zt.AREA_0?i.lam=-u+W:m.value===zt.AREA_1?i.lam=-u:m.value===zt.AREA_2?i.lam=-u-W:i.lam=u<0?-u-fe:-u+fe;else{var p,M,S;p=c,g=p*p,g>=1?S=0:S=Math.sqrt(1-g)*Math.sin(u),g+=S*S,g>=1?M=0:M=Math.sqrt(1-g),m.value===zt.AREA_1?(g=M,M=-S,S=g):m.value===zt.AREA_2?(M=-M,S=-S):m.value===zt.AREA_3&&(g=M,M=S,S=-g),this.face===Qt.RIGHT?(g=p,p=-M,M=g):this.face===Qt.BACK?(p=-p,M=-M):this.face===Qt.LEFT&&(g=p,p=M,M=-g),i.phi=Math.acos(-S)-W,i.lam=Math.atan2(M,p),this.face===Qt.RIGHT?i.lam=Zs(i.lam,-W):this.face===Qt.BACK?i.lam=Zs(i.lam,-3.14159265359):this.face===Qt.LEFT&&(i.lam=Zs(i.lam,+W))}if(this.es!==0){var P,A,B;P=i.phi<0?1:0,A=Math.tan(i.phi),B=this.b/Math.sqrt(A*A+this.one_minus_f_squared),i.phi=Math.atan(Math.sqrt(this.a*this.a-B*B)/(this.one_minus_f*B)),P&&(i.phi=-i.phi)}return i.lam+=this.long0,t.x=i.lam,t.y=i.phi,t}function Pr(t,i,s,r){var a;return t<tt?(r.value=zt.AREA_0,a=0):(a=Math.atan2(i,s),Math.abs(a)<=Dt?r.value=zt.AREA_0:a>Dt&&a<=W+Dt?(r.value=zt.AREA_1,a-=W):a>W+Dt||a<=-(W+Dt)?(r.value=zt.AREA_2,a=a>=0?a-fe:a+fe):(r.value=zt.AREA_3,a+=W)),a}function Zs(t,i){var s=t+i;return s<-3.14159265359?s+=Zn:s>3.14159265359&&(s-=Zn),s}var qg=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"];const Ug={init:Bg,forward:Fg,inverse:Zg,names:qg};var ho=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],yn=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],lf=.8487,uf=1.3523,ff=ii/5,Hg=1/ff,Os=18,Ur=function(t,i){return t[0]+i*(t[1]+i*(t[2]+i*t[3]))},$g=function(t,i){return t[1]+i*(2*t[2]+i*3*t[3])};function Wg(t,i,s,r){for(var a=i;r;--r){var h=t(a);if(a-=h,Math.abs(h)<s)break}return a}function jg(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Vg(t){var i=et(t.x-this.long0),s=Math.abs(t.y),r=Math.floor(s*ff);r<0?r=0:r>=Os&&(r=Os-1),s=ii*(s-Hg*r);var a={x:Ur(ho[r],s)*i,y:Ur(yn[r],s)};return t.y<0&&(a.y=-a.y),a.x=a.x*this.a*lf+this.x0,a.y=a.y*this.a*uf+this.y0,a}function Kg(t){var i={x:(t.x-this.x0)/(this.a*lf),y:Math.abs(t.y-this.y0)/(this.a*uf)};if(i.y>=1)i.x/=ho[Os][0],i.y=t.y<0?-W:W;else{var s=Math.floor(i.y*Os);for(s<0?s=0:s>=Os&&(s=Os-1);;)if(yn[s][0]>i.y)--s;else if(yn[s+1][0]<=i.y)++s;else break;var r=yn[s],a=5*(i.y-r[0])/(yn[s+1][0]-r[0]);a=Wg(function(h){return(Ur(r,h)-i.y)/$g(r,h)},a,tt,100),i.x/=Ur(ho[s],a),i.y=(5*s+a)*Ht,t.y<0&&(i.y=-i.y)}return i.x=et(i.x+this.long0),i}var Jg=["Robinson","robin"];const Xg={init:jg,forward:Vg,inverse:Kg,names:Jg};function Qg(){this.name="geocent"}function Yg(t){var i=Ju(t,this.es,this.a);return i}function tv(t){var i=Xu(t,this.es,this.a,this.b);return i}var ev=["Geocentric","geocentric","geocent","Geocent"];const iv={init:Qg,forward:Yg,inverse:tv,names:ev};var de={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},mn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function sv(){if(Object.keys(mn).forEach((function(s){if(typeof this[s]>"u")this[s]=mn[s].def;else{if(mn[s].num&&isNaN(this[s]))throw new Error("Invalid parameter value, must be numeric "+s+" = "+this[s]);mn[s].num&&(this[s]=parseFloat(this[s]))}mn[s].degrees&&(this[s]=this[s]*Ht)}).bind(this)),Math.abs(Math.abs(this.lat0)-W)<tt?this.mode=this.lat0<0?de.S_POLE:de.N_POLE:Math.abs(this.lat0)<tt?this.mode=de.EQUIT:(this.mode=de.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,i=this.azi;this.cg=Math.cos(i),this.sg=Math.sin(i),this.cw=Math.cos(t),this.sw=Math.sin(t)}function nv(t){t.x-=this.long0;var i=Math.sin(t.y),s=Math.cos(t.y),r=Math.cos(t.x),a,h;switch(this.mode){case de.OBLIQ:h=this.sinph0*i+this.cosph0*s*r;break;case de.EQUIT:h=s*r;break;case de.S_POLE:h=-i;break;case de.N_POLE:h=i;break}switch(h=this.pn1/(this.p-h),a=h*s*Math.sin(t.x),this.mode){case de.OBLIQ:h*=this.cosph0*i-this.sinph0*s*r;break;case de.EQUIT:h*=i;break;case de.N_POLE:h*=-(s*r);break;case de.S_POLE:h*=s*r;break}var l,u;return l=h*this.cg+a*this.sg,u=1/(l*this.sw*this.h1+this.cw),a=(a*this.cg-h*this.sg)*this.cw*u,h=l*u,t.x=a*this.a,t.y=h*this.a,t}function rv(t){t.x/=this.a,t.y/=this.a;var i={x:t.x,y:t.y},s,r,a;a=1/(this.pn1-t.y*this.sw),s=this.pn1*t.x*a,r=this.pn1*t.y*this.cw*a,t.x=s*this.cg+r*this.sg,t.y=r*this.cg-s*this.sg;var h=Ne(t.x,t.y);if(Math.abs(h)<tt)i.x=0,i.y=t.y;else{var l,u;switch(u=1-h*h*this.pfact,u=(this.p-Math.sqrt(u))/(this.pn1/h+h/this.pn1),l=Math.sqrt(1-u*u),this.mode){case de.OBLIQ:i.y=Math.asin(l*this.sinph0+t.y*u*this.cosph0/h),t.y=(l-this.sinph0*Math.sin(i.y))*h,t.x*=u*this.cosph0;break;case de.EQUIT:i.y=Math.asin(t.y*u/h),t.y=l*h,t.x*=u;break;case de.N_POLE:i.y=Math.asin(l),t.y=-t.y;break;case de.S_POLE:i.y=-Math.asin(l);break}i.x=Math.atan2(t.x,t.y)}return t.x=i.x+this.long0,t.y=i.y,t}var av=["Tilted_Perspective","tpers"];const ov={init:sv,forward:nv,inverse:rv,names:av};function hv(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,i=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=i,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function lv(t){var i=t.x,s=t.y,r,a,h,l;if(i=i-this.long0,this.shape==="ellipse"){s=Math.atan(this.radius_p2*Math.tan(s));var u=this.radius_p/Ne(this.radius_p*Math.cos(s),Math.sin(s));if(a=u*Math.cos(i)*Math.cos(s),h=u*Math.sin(i)*Math.cos(s),l=u*Math.sin(s),(this.radius_g-a)*a-h*h-l*l*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-a,this.flip_axis?(t.x=this.radius_g_1*Math.atan(h/Ne(l,r)),t.y=this.radius_g_1*Math.atan(l/r)):(t.x=this.radius_g_1*Math.atan(h/r),t.y=this.radius_g_1*Math.atan(l/Ne(h,r)))}else this.shape==="sphere"&&(r=Math.cos(s),a=Math.cos(i)*r,h=Math.sin(i)*r,l=Math.sin(s),r=this.radius_g-a,this.flip_axis?(t.x=this.radius_g_1*Math.atan(h/Ne(l,r)),t.y=this.radius_g_1*Math.atan(l/r)):(t.x=this.radius_g_1*Math.atan(h/r),t.y=this.radius_g_1*Math.atan(l/Ne(h,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function uv(t){var i=-1,s=0,r=0,a,h,l,u;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Ne(1,r)):(s=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Ne(1,s));var c=r/this.radius_p;if(a=s*s+c*c+i*i,h=2*this.radius_g*i,l=h*h-4*a*this.C,l<0)return t.x=Number.NaN,t.y=Number.NaN,t;u=(-h-Math.sqrt(l))/(2*a),i=this.radius_g+u*i,s*=u,r*=u,t.x=Math.atan2(s,i),t.y=Math.atan(r*Math.cos(t.x)/i),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(r=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+r*r)):(s=Math.tan(t.x/this.radius_g_1),r=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),a=s*s+r*r+i*i,h=2*this.radius_g*i,l=h*h-4*a*this.C,l<0)return t.x=Number.NaN,t.y=Number.NaN,t;u=(-h-Math.sqrt(l))/(2*a),i=this.radius_g+u*i,s*=u,r*=u,t.x=Math.atan2(s,i),t.y=Math.atan(r*Math.cos(t.x)/i)}return t.x=t.x+this.long0,t}var fv=["Geostationary Satellite View","Geostationary_Satellite","geos"];const cv={init:hv,forward:lv,inverse:uv,names:fv};var Ln=1.340264,Tn=-.081106,In=893e-6,Gn=.003796,Hr=Math.sqrt(3)/2;function dv(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function _v(t){var i=et(t.x-this.long0),s=t.y,r=Math.asin(Hr*Math.sin(s)),a=r*r,h=a*a*a;return t.x=i*Math.cos(r)/(Hr*(Ln+3*Tn*a+h*(7*In+9*Gn*a))),t.y=r*(Ln+Tn*a+h*(In+Gn*a)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function mv(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var i=1e-9,s=12,r=t.y,a,h,l,u,c,_;for(_=0;_<s&&(a=r*r,h=a*a*a,l=r*(Ln+Tn*a+h*(In+Gn*a))-t.y,u=Ln+3*Tn*a+h*(7*In+9*Gn*a),r-=c=l/u,!(Math.abs(c)<i));++_);return a=r*r,h=a*a*a,t.x=Hr*t.x*(Ln+3*Tn*a+h*(7*In+9*Gn*a))/Math.cos(r),t.y=Math.asin(Math.sin(r)/Hr),t.x=et(t.x+this.long0),t}var pv=["eqearth","Equal Earth","Equal_Earth"];const gv={init:dv,forward:_v,inverse:mv,names:pv};var Hn=1e-10;function vv(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Hn)throw new Error;this.es?(this.en=Go(this.es),this.m1=Us(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Mv,this.forward=yv):(Math.abs(this.phi1)+Hn>=W?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=xv,this.forward=wv)}function yv(t){var i=et(t.x-(this.long0||0)),s=t.y,r,a,h;return r=this.am1+this.m1-Us(s,a=Math.sin(s),h=Math.cos(s),this.en),a=h*i/(r*Math.sqrt(1-this.es*a*a)),t.x=r*Math.sin(a),t.y=this.am1-r*Math.cos(a),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Mv(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var i,s,r,a;if(s=Ne(t.x,t.y=this.am1-t.y),a=No(this.am1+this.m1-s,this.es,this.en),(i=Math.abs(a))<W)i=Math.sin(a),r=s*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*i*i)/Math.cos(a);else if(Math.abs(i-W)<=Hn)r=0;else throw new Error;return t.x=et(r+(this.long0||0)),t.y=Ui(a),t}function wv(t){var i=et(t.x-(this.long0||0)),s=t.y,r,a;return a=this.cphi1+this.phi1-s,Math.abs(a)>Hn?(t.x=a*Math.sin(r=i*Math.cos(s)/a),t.y=this.cphi1-a*Math.cos(r)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function xv(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var i,s,r=Ne(t.x,t.y=this.cphi1-t.y);if(s=this.cphi1+this.phi1-r,Math.abs(s)>W)throw new Error;return Math.abs(Math.abs(s)-W)<=Hn?i=0:i=r*Math.atan2(t.x,t.y)/Math.cos(s),t.x=et(i+(this.long0||0)),t.y=Ui(s),t}var Pv=["bonne","Bonne (Werner lat_1=90)"];const Sv={init:vv,names:Pv};function bv(t){t.Proj.projections.add(Cr),t.Proj.projections.add(Ar),t.Proj.projections.add(y1),t.Proj.projections.add(A1),t.Proj.projections.add(O1),t.Proj.projections.add(B1),t.Proj.projections.add($1),t.Proj.projections.add(J1),t.Proj.projections.add(ep),t.Proj.projections.add(ap),t.Proj.projections.add(Pp),t.Proj.projections.add(Lp),t.Proj.projections.add(Op),t.Proj.projections.add(Fp),t.Proj.projections.add($p),t.Proj.projections.add(Jp),t.Proj.projections.add(eg),t.Proj.projections.add(ag),t.Proj.projections.add(cg),t.Proj.projections.add(gg),t.Proj.projections.add(xg),t.Proj.projections.add(Cg),t.Proj.projections.add(Ng),t.Proj.projections.add(zg),t.Proj.projections.add(Ug),t.Proj.projections.add(Xg),t.Proj.projections.add(iv),t.Proj.projections.add(ov),t.Proj.projections.add(cv),t.Proj.projections.add(gv),t.Proj.projections.add(Sv)}Oe.defaultDatum="WGS84";Oe.Proj=ni;Oe.WGS84=new Oe.Proj("WGS84");Oe.Point=qs;Oe.toPoint=Qu;Oe.defs=xe;Oe.nadgrid=ym;Oe.transform=Zr;Oe.mgrs=Dm;Oe.version="__VERSION__";bv(Oe);const Ev={__name:"MapCoords",props:{map:{type:Object,required:!0}},setup(t){const i=t,{map:s}=Xr(i);let r=null;return qi(()=>{s.value&&(Oe.defs("EPSG:2202","+proj=tmerc +lat_0=4.599047222222222 +lon_0=-75.0 +k=1 +x_0=500000 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),r=_e.control({position:"bottomright"}),r.onAdd=function(){return this._div=_e.DomUtil.create("div","leaflet-coords-control"),this._div.style.background="#fff",this._div.style.padding="4px 10px",this._div.style.borderRadius="6px",this._div.style.boxShadow="0 2px 6px rgba(0,0,0,0.12)",this._div.style.fontSize="13px",this.update(),this._div},r.update=function(a){if(a){const[h,l]=Oe("EPSG:4326","EPSG:2202",[a.lng,a.lat]);this._div.innerHTML=`<b>X:</b> ${h.toFixed(2)}<br><b>Y:</b> ${l.toFixed(2)}<br><span style='font-size:11px;color:#888'>EPSG:2202</span>`}else this._div.innerHTML="Mueve el cursor sobre el mapa"},r.addTo(s.value),s.value.on("mousemove",function(a){r.update(a.latlng)}),s.value.on("mouseout",function(){r.update()}))}),Wn(()=>{r&&s.value&&r.remove()}),()=>{}}},Cv={class:"w-full h-full min-h-[400px]"},Av={__name:"MapView",setup(t){const i=ki(null),s=ki(null);function r(h){i.value=h}function a(h){s.value=h}return(h,l)=>(Zt(),Yt("div",Cv,[$t(S0,{onMapReady:r}),i.value?(Zt(),os(b0,{key:0,map:i.value,onSueloReady:a},null,8,["map"])):pi("",!0),i.value&&s.value?(Zt(),os(E0,{key:1,map:i.value,sueloLayer:s.value},null,8,["map","sueloLayer"])):pi("",!0),i.value?(Zt(),os(C0,{key:2,map:i.value},null,8,["map"])):pi("",!0),i.value?(Zt(),os(Ev,{key:3,map:i.value},null,8,["map"])):pi("",!0)]))}},Lv={ES:{title:"GeoCanoabo: Territorio en Datos",menu:"Men",pin:"Fijar",unpin:"Desfijar",hide:"Ocultar",show:"Mostrar",legend:"Permetro Canoabo",coords:"Pasa el cursor sobre el mapa",x:"X",y:"Y",epsg:"(EPSG:2202)"},EN:{title:"GeoCanoabo: Territory in Data",menu:"Menu",pin:"Pin",unpin:"Unpin",hide:"Hide",show:"Show",legend:"Canoabo Perimeter",coords:"Hover over the map",x:"X",y:"Y",epsg:"(EPSG:2202)"}};function Tv(){const t=ki(localStorage.getItem("lang")||"ES"),i=s=>Lv[t.value][s]||s;return kr("t",i),kr("selectedLang",t),En(t,s=>{localStorage.setItem("lang",s)}),{t:i,selectedLang:t}}function Iv(){const t=ki(localStorage.getItem("theme")==="dark"||window.matchMedia("(prefers-color-scheme: dark)").matches&&!localStorage.getItem("theme")),i=s=>{document.documentElement.classList.toggle("dark",s)};return qi(()=>i(t.value)),En(t,s=>{i(s),localStorage.setItem("theme",s?"dark":"light")}),kr("darkMode",t),{darkMode:t}}const Gv={class:"h-screen grid grid-rows-[auto_1fr] grid-cols-1 bg-background dark:bg-background-dark"},Nv={class:"hidden md:flex gap-2"},Ov={class:"flex flex-col gap-6 md:hidden"},Rv={__name:"App",setup(t){const{t:i,selectedLang:s}=Tv(),{darkMode:r}=Iv(),a=ki(!0),h=ki(!1),l=ki(!1);return(u,c)=>(Zt(),Yt("section",Gv,[$t(i0,{title:Ti(i)("title"),darkMode:Ti(r)},{"desktop-controls":as(()=>[Ut("div",Nv,[$t(ol,{modelValue:Ti(s),"onUpdate:modelValue":c[0]||(c[0]=_=>ie(s)?s.value=_:null)},null,8,["modelValue"]),$t(hl,{modelValue:Ti(r),"onUpdate:modelValue":c[1]||(c[1]=_=>ie(r)?r.value=_:null)},null,8,["modelValue"])])]),"mobile-hamburger":as(()=>[$t(r0,{open:l.value,onToggle:c[2]||(c[2]=_=>l.value=!l.value)},null,8,["open"])]),_:1},8,["title","darkMode"]),$t(h0,{open:l.value,onClose:c[5]||(c[5]=_=>l.value=!1)},{default:as(()=>[Ut("div",Ov,[$t(ol,{modelValue:Ti(s),"onUpdate:modelValue":c[3]||(c[3]=_=>ie(s)?s.value=_:null)},null,8,["modelValue"]),$t(hl,{modelValue:Ti(r),"onUpdate:modelValue":c[4]||(c[4]=_=>ie(r)?r.value=_:null)},null,8,["modelValue"])])]),_:1},8,["open"]),$t(c0,{menuVisible:a.value,"onUpdate:menuVisible":c[6]||(c[6]=_=>a.value=_),menuPinned:h.value,"onUpdate:menuPinned":c[7]||(c[7]=_=>h.value=_)},{default:as(()=>[$t(Av)]),_:1},8,["menuVisible","menuPinned"])]))}};U_(Rv).mount("#app")});export default kv();
